ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 6
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"stm32f4xx_ll_usb.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.USB_CoreInit,"ax",%progbits
  20              		.align	1
  21              		.global	USB_CoreInit
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	USB_CoreInit:
  27              	.LFB216:
  28              		.file 1 "Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c"
   1:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
   2:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   ******************************************************************************
   3:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @file    stm32f4xx_ll_usb.c
   4:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @author  MCD Application Team
   5:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief   USB Low Layer HAL module driver.
   6:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *
   7:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This file provides firmware functions to manage the following
   8:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          functionalities of the USB Peripheral Controller:
   9:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           + Initialization/de-initialization functions
  10:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           + I/O operation functions
  11:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           + Peripheral Control functions
  12:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           + Peripheral State functions
  13:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *
  14:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   ******************************************************************************
  15:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @attention
  16:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *
  17:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * Copyright (c) 2016 STMicroelectronics.
  18:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * All rights reserved.
  19:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *
  20:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * This software is licensed under terms that can be found in the LICENSE file
  21:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * in the root directory of this software component.
  22:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * If no LICENSE file comes with this software, it is provided AS-IS.
  23:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *
  24:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   ******************************************************************************
  25:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   @verbatim
  26:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   ==============================================================================
  27:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                     ##### How to use this driver #####
  28:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   ==============================================================================
  29:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     [..]
  30:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       (#) Fill parameters of Init structure in USB_OTG_CfgTypeDef structure.
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 2


  31:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  32:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       (#) Call USB_CoreInit() API to initialize the USB Core peripheral.
  33:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  34:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       (#) The upper HAL HCD/PCD driver will call the right routines for its internal processes.
  35:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  36:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   @endverbatim
  37:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  38:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   ******************************************************************************
  39:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
  40:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  41:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /* Includes ------------------------------------------------------------------*/
  42:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #include "stm32f4xx_hal.h"
  43:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  44:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /** @addtogroup STM32F4xx_LL_USB_DRIVER
  45:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @{
  46:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
  47:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  48:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #if defined (HAL_PCD_MODULE_ENABLED) || defined (HAL_HCD_MODULE_ENABLED)
  49:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #if defined (USB_OTG_FS) || defined (USB_OTG_HS)
  50:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /* Private typedef -----------------------------------------------------------*/
  51:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /* Private define ------------------------------------------------------------*/
  52:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /* Private macro -------------------------------------------------------------*/
  53:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /* Private variables ---------------------------------------------------------*/
  54:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /* Private function prototypes -----------------------------------------------*/
  55:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /* Private functions ---------------------------------------------------------*/
  56:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #if defined (USB_OTG_FS) || defined (USB_OTG_HS)
  57:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** static HAL_StatusTypeDef USB_CoreReset(USB_OTG_GlobalTypeDef *USBx);
  58:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  59:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /* Exported functions --------------------------------------------------------*/
  60:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /** @defgroup USB_LL_Exported_Functions USB Low Layer Exported Functions
  61:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @{
  62:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
  63:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  64:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /** @defgroup USB_LL_Exported_Functions_Group1 Initialization/de-initialization functions
  65:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *  @brief    Initialization and Configuration functions
  66:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *
  67:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** @verbatim
  68:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****  ===============================================================================
  69:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                       ##### Initialization/de-initialization functions #####
  70:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****  ===============================================================================
  71:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  72:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** @endverbatim
  73:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @{
  74:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
  75:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  76:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
  77:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Initializes the USB Core
  78:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx USB Instance
  79:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  cfg pointer to a USB_OTG_CfgTypeDef structure that contains
  80:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         the configuration information for the specified USBx peripheral.
  81:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
  82:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
  83:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_CoreInit(USB_OTG_GlobalTypeDef *USBx, USB_OTG_CfgTypeDef cfg)
  84:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
  29              		.loc 1 84 1
  30              		.cfi_startproc
  31              		@ args = 56, pretend = 16, frame = 16
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 3


  32              		@ frame_needed = 1, uses_anonymous_args = 0
  33 0000 84B0     		sub	sp, sp, #16
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 16
  36 0002 80B5     		push	{r7, lr}
  37              	.LCFI1:
  38              		.cfi_def_cfa_offset 24
  39              		.cfi_offset 7, -24
  40              		.cfi_offset 14, -20
  41 0004 84B0     		sub	sp, sp, #16
  42              	.LCFI2:
  43              		.cfi_def_cfa_offset 40
  44 0006 00AF     		add	r7, sp, #0
  45              	.LCFI3:
  46              		.cfi_def_cfa_register 7
  47 0008 7860     		str	r0, [r7, #4]
  48 000a 07F11C00 		add	r0, r7, #28
  49 000e 80E80E00 		stm	r0, {r1, r2, r3}
  85:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HAL_StatusTypeDef ret;
  86:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.phy_itface == USB_OTG_ULPI_PHY)
  50              		.loc 1 86 10
  51 0012 3B6B     		ldr	r3, [r7, #48]
  52              		.loc 1 86 6
  53 0014 012B     		cmp	r3, #1
  54 0016 22D1     		bne	.L2
  87:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
  88:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GCCFG &= ~(USB_OTG_GCCFG_PWRDWN);
  55              		.loc 1 88 17
  56 0018 7B68     		ldr	r3, [r7, #4]
  57 001a 9B6B     		ldr	r3, [r3, #56]
  58 001c 23F48032 		bic	r2, r3, #65536
  59 0020 7B68     		ldr	r3, [r7, #4]
  60 0022 9A63     		str	r2, [r3, #56]
  89:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  90:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Init The ULPI Interface */
  91:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GUSBCFG &= ~(USB_OTG_GUSBCFG_TSDPS | USB_OTG_GUSBCFG_ULPIFSLS | USB_OTG_GUSBCFG_PHYSEL);
  61              		.loc 1 91 19
  62 0024 7B68     		ldr	r3, [r7, #4]
  63 0026 DB68     		ldr	r3, [r3, #12]
  64 0028 23F48403 		bic	r3, r3, #4325376
  65 002c 23F04003 		bic	r3, r3, #64
  66 0030 7A68     		ldr	r2, [r7, #4]
  67 0032 D360     		str	r3, [r2, #12]
  92:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  93:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Select vbus source */
  94:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GUSBCFG &= ~(USB_OTG_GUSBCFG_ULPIEVBUSD | USB_OTG_GUSBCFG_ULPIEVBUSI);
  68              		.loc 1 94 19
  69 0034 7B68     		ldr	r3, [r7, #4]
  70 0036 DB68     		ldr	r3, [r3, #12]
  71 0038 23F44012 		bic	r2, r3, #3145728
  72 003c 7B68     		ldr	r3, [r7, #4]
  73 003e DA60     		str	r2, [r3, #12]
  95:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (cfg.use_external_vbus == 1U)
  74              		.loc 1 95 12
  75 0040 FB6C     		ldr	r3, [r7, #76]
  76              		.loc 1 95 8
  77 0042 012B     		cmp	r3, #1
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 4


  78 0044 05D1     		bne	.L3
  96:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
  97:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx->GUSBCFG |= USB_OTG_GUSBCFG_ULPIEVBUSD;
  79              		.loc 1 97 21
  80 0046 7B68     		ldr	r3, [r7, #4]
  81 0048 DB68     		ldr	r3, [r3, #12]
  82 004a 43F48012 		orr	r2, r3, #1048576
  83 004e 7B68     		ldr	r3, [r7, #4]
  84 0050 DA60     		str	r2, [r3, #12]
  85              	.L3:
  98:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
  99:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 100:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Reset after a PHY select */
 101:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     ret = USB_CoreReset(USBx);
  86              		.loc 1 101 11
  87 0052 7868     		ldr	r0, [r7, #4]
  88 0054 FFF7FEFF 		bl	USB_CoreReset
  89 0058 0346     		mov	r3, r0
  90 005a FB73     		strb	r3, [r7, #15]
  91 005c 1AE0     		b	.L4
  92              	.L2:
 102:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 103:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else /* FS interface (embedded Phy) */
 104:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 105:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Select FS Embedded PHY */
 106:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GUSBCFG |= USB_OTG_GUSBCFG_PHYSEL;
  93              		.loc 1 106 19
  94 005e 7B68     		ldr	r3, [r7, #4]
  95 0060 DB68     		ldr	r3, [r3, #12]
  96 0062 43F04002 		orr	r2, r3, #64
  97 0066 7B68     		ldr	r3, [r7, #4]
  98 0068 DA60     		str	r2, [r3, #12]
 107:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 108:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Reset after a PHY select */
 109:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     ret = USB_CoreReset(USBx);
  99              		.loc 1 109 11
 100 006a 7868     		ldr	r0, [r7, #4]
 101 006c FFF7FEFF 		bl	USB_CoreReset
 102 0070 0346     		mov	r3, r0
 103 0072 FB73     		strb	r3, [r7, #15]
 110:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 111:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (cfg.battery_charging_enable == 0U)
 104              		.loc 1 111 12
 105 0074 3B6C     		ldr	r3, [r7, #64]
 106              		.loc 1 111 8
 107 0076 002B     		cmp	r3, #0
 108 0078 06D1     		bne	.L5
 112:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 113:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Activate the USB Transceiver */
 114:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx->GCCFG |= USB_OTG_GCCFG_PWRDWN;
 109              		.loc 1 114 19
 110 007a 7B68     		ldr	r3, [r7, #4]
 111 007c 9B6B     		ldr	r3, [r3, #56]
 112 007e 43F48032 		orr	r2, r3, #65536
 113 0082 7B68     		ldr	r3, [r7, #4]
 114 0084 9A63     		str	r2, [r3, #56]
 115 0086 05E0     		b	.L4
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 5


 116              	.L5:
 115:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 116:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
 117:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 118:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Deactivate the USB Transceiver */
 119:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx->GCCFG &= ~(USB_OTG_GCCFG_PWRDWN);
 117              		.loc 1 119 19
 118 0088 7B68     		ldr	r3, [r7, #4]
 119 008a 9B6B     		ldr	r3, [r3, #56]
 120 008c 23F48032 		bic	r2, r3, #65536
 121 0090 7B68     		ldr	r3, [r7, #4]
 122 0092 9A63     		str	r2, [r3, #56]
 123              	.L4:
 120:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 121:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 122:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 123:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.dma_enable == 1U)
 124              		.loc 1 123 10
 125 0094 BB6A     		ldr	r3, [r7, #40]
 126              		.loc 1 123 6
 127 0096 012B     		cmp	r3, #1
 128 0098 0BD1     		bne	.L6
 124:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 125:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GAHBCFG |= USB_OTG_GAHBCFG_HBSTLEN_2;
 129              		.loc 1 125 19
 130 009a 7B68     		ldr	r3, [r7, #4]
 131 009c 9B68     		ldr	r3, [r3, #8]
 132 009e 43F00602 		orr	r2, r3, #6
 133 00a2 7B68     		ldr	r3, [r7, #4]
 134 00a4 9A60     		str	r2, [r3, #8]
 126:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GAHBCFG |= USB_OTG_GAHBCFG_DMAEN;
 135              		.loc 1 126 19
 136 00a6 7B68     		ldr	r3, [r7, #4]
 137 00a8 9B68     		ldr	r3, [r3, #8]
 138 00aa 43F02002 		orr	r2, r3, #32
 139 00ae 7B68     		ldr	r3, [r7, #4]
 140 00b0 9A60     		str	r2, [r3, #8]
 141              	.L6:
 127:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 128:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 129:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ret;
 142              		.loc 1 129 10
 143 00b2 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 130:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 144              		.loc 1 130 1
 145 00b4 1846     		mov	r0, r3
 146 00b6 1037     		adds	r7, r7, #16
 147              	.LCFI4:
 148              		.cfi_def_cfa_offset 24
 149 00b8 BD46     		mov	sp, r7
 150              	.LCFI5:
 151              		.cfi_def_cfa_register 13
 152              		@ sp needed
 153 00ba BDE88040 		pop	{r7, lr}
 154              	.LCFI6:
 155              		.cfi_restore 14
 156              		.cfi_restore 7
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 6


 157              		.cfi_def_cfa_offset 16
 158 00be 04B0     		add	sp, sp, #16
 159              	.LCFI7:
 160              		.cfi_def_cfa_offset 0
 161 00c0 7047     		bx	lr
 162              		.cfi_endproc
 163              	.LFE216:
 165              		.section	.text.USB_SetTurnaroundTime,"ax",%progbits
 166              		.align	1
 167              		.global	USB_SetTurnaroundTime
 168              		.syntax unified
 169              		.thumb
 170              		.thumb_func
 172              	USB_SetTurnaroundTime:
 173              	.LFB217:
 131:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 132:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 133:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 134:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Set the USB turnaround time
 135:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx USB Instance
 136:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  hclk: AHB clock frequency
 137:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval USB turnaround time In PHY Clocks number
 138:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 139:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_SetTurnaroundTime(USB_OTG_GlobalTypeDef *USBx,
 140:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                         uint32_t hclk, uint8_t speed)
 141:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 174              		.loc 1 141 1
 175              		.cfi_startproc
 176              		@ args = 0, pretend = 0, frame = 24
 177              		@ frame_needed = 1, uses_anonymous_args = 0
 178              		@ link register save eliminated.
 179 0000 80B4     		push	{r7}
 180              	.LCFI8:
 181              		.cfi_def_cfa_offset 4
 182              		.cfi_offset 7, -4
 183 0002 87B0     		sub	sp, sp, #28
 184              	.LCFI9:
 185              		.cfi_def_cfa_offset 32
 186 0004 00AF     		add	r7, sp, #0
 187              	.LCFI10:
 188              		.cfi_def_cfa_register 7
 189 0006 F860     		str	r0, [r7, #12]
 190 0008 B960     		str	r1, [r7, #8]
 191 000a 1346     		mov	r3, r2
 192 000c FB71     		strb	r3, [r7, #7]
 142:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t UsbTrd;
 143:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 144:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* The USBTRD is configured according to the tables below, depending on AHB frequency
 145:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   used by application. In the low AHB frequency range it is used to stretch enough the USB response
 146:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   time to IN tokens, the USB turnaround time, so to compensate for the longer AHB read access
 147:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   latency to the Data FIFO */
 148:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (speed == USBD_FS_SPEED)
 193              		.loc 1 148 6
 194 000e FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 195 0010 022B     		cmp	r3, #2
 196 0012 65D1     		bne	.L9
 149:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 7


 150:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((hclk >= 14200000U) && (hclk < 15000000U))
 197              		.loc 1 150 8
 198 0014 BB68     		ldr	r3, [r7, #8]
 199 0016 414A     		ldr	r2, .L23
 200 0018 9342     		cmp	r3, r2
 201 001a 06D9     		bls	.L10
 202              		.loc 1 150 29 discriminator 1
 203 001c BB68     		ldr	r3, [r7, #8]
 204 001e 404A     		ldr	r2, .L23+4
 205 0020 9342     		cmp	r3, r2
 206 0022 02D2     		bcs	.L10
 151:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 152:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* hclk Clock Range between 14.2-15 MHz */
 153:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       UsbTrd = 0xFU;
 207              		.loc 1 153 14
 208 0024 0F23     		movs	r3, #15
 209 0026 7B61     		str	r3, [r7, #20]
 210 0028 62E0     		b	.L20
 211              	.L10:
 154:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 155:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else if ((hclk >= 15000000U) && (hclk < 16000000U))
 212              		.loc 1 155 13
 213 002a BB68     		ldr	r3, [r7, #8]
 214 002c 3C4A     		ldr	r2, .L23+4
 215 002e 9342     		cmp	r3, r2
 216 0030 06D3     		bcc	.L12
 217              		.loc 1 155 34 discriminator 1
 218 0032 BB68     		ldr	r3, [r7, #8]
 219 0034 3B4A     		ldr	r2, .L23+8
 220 0036 9342     		cmp	r3, r2
 221 0038 02D2     		bcs	.L12
 156:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 157:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* hclk Clock Range between 15-16 MHz */
 158:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       UsbTrd = 0xEU;
 222              		.loc 1 158 14
 223 003a 0E23     		movs	r3, #14
 224 003c 7B61     		str	r3, [r7, #20]
 225 003e 57E0     		b	.L20
 226              	.L12:
 159:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 160:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else if ((hclk >= 16000000U) && (hclk < 17200000U))
 227              		.loc 1 160 13
 228 0040 BB68     		ldr	r3, [r7, #8]
 229 0042 384A     		ldr	r2, .L23+8
 230 0044 9342     		cmp	r3, r2
 231 0046 06D3     		bcc	.L13
 232              		.loc 1 160 34 discriminator 1
 233 0048 BB68     		ldr	r3, [r7, #8]
 234 004a 374A     		ldr	r2, .L23+12
 235 004c 9342     		cmp	r3, r2
 236 004e 02D2     		bcs	.L13
 161:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 162:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* hclk Clock Range between 16-17.2 MHz */
 163:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       UsbTrd = 0xDU;
 237              		.loc 1 163 14
 238 0050 0D23     		movs	r3, #13
 239 0052 7B61     		str	r3, [r7, #20]
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 8


 240 0054 4CE0     		b	.L20
 241              	.L13:
 164:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 165:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else if ((hclk >= 17200000U) && (hclk < 18500000U))
 242              		.loc 1 165 13
 243 0056 BB68     		ldr	r3, [r7, #8]
 244 0058 334A     		ldr	r2, .L23+12
 245 005a 9342     		cmp	r3, r2
 246 005c 06D3     		bcc	.L14
 247              		.loc 1 165 34 discriminator 1
 248 005e BB68     		ldr	r3, [r7, #8]
 249 0060 324A     		ldr	r2, .L23+16
 250 0062 9342     		cmp	r3, r2
 251 0064 02D8     		bhi	.L14
 166:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 167:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* hclk Clock Range between 17.2-18.5 MHz */
 168:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       UsbTrd = 0xCU;
 252              		.loc 1 168 14
 253 0066 0C23     		movs	r3, #12
 254 0068 7B61     		str	r3, [r7, #20]
 255 006a 41E0     		b	.L20
 256              	.L14:
 169:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 170:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else if ((hclk >= 18500000U) && (hclk < 20000000U))
 257              		.loc 1 170 13
 258 006c BB68     		ldr	r3, [r7, #8]
 259 006e 2F4A     		ldr	r2, .L23+16
 260 0070 9342     		cmp	r3, r2
 261 0072 06D9     		bls	.L15
 262              		.loc 1 170 34 discriminator 1
 263 0074 BB68     		ldr	r3, [r7, #8]
 264 0076 2E4A     		ldr	r2, .L23+20
 265 0078 9342     		cmp	r3, r2
 266 007a 02D8     		bhi	.L15
 171:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 172:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* hclk Clock Range between 18.5-20 MHz */
 173:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       UsbTrd = 0xBU;
 267              		.loc 1 173 14
 268 007c 0B23     		movs	r3, #11
 269 007e 7B61     		str	r3, [r7, #20]
 270 0080 36E0     		b	.L20
 271              	.L15:
 174:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 175:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else if ((hclk >= 20000000U) && (hclk < 21800000U))
 272              		.loc 1 175 13
 273 0082 BB68     		ldr	r3, [r7, #8]
 274 0084 2A4A     		ldr	r2, .L23+20
 275 0086 9342     		cmp	r3, r2
 276 0088 06D9     		bls	.L16
 277              		.loc 1 175 34 discriminator 1
 278 008a BB68     		ldr	r3, [r7, #8]
 279 008c 294A     		ldr	r2, .L23+24
 280 008e 9342     		cmp	r3, r2
 281 0090 02D8     		bhi	.L16
 176:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 177:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* hclk Clock Range between 20-21.8 MHz */
 178:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       UsbTrd = 0xAU;
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 9


 282              		.loc 1 178 14
 283 0092 0A23     		movs	r3, #10
 284 0094 7B61     		str	r3, [r7, #20]
 285 0096 2BE0     		b	.L20
 286              	.L16:
 179:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 180:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else if ((hclk >= 21800000U) && (hclk < 24000000U))
 287              		.loc 1 180 13
 288 0098 BB68     		ldr	r3, [r7, #8]
 289 009a 264A     		ldr	r2, .L23+24
 290 009c 9342     		cmp	r3, r2
 291 009e 06D9     		bls	.L17
 292              		.loc 1 180 34 discriminator 1
 293 00a0 BB68     		ldr	r3, [r7, #8]
 294 00a2 254A     		ldr	r2, .L23+28
 295 00a4 9342     		cmp	r3, r2
 296 00a6 02D2     		bcs	.L17
 181:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 182:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* hclk Clock Range between 21.8-24 MHz */
 183:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       UsbTrd = 0x9U;
 297              		.loc 1 183 14
 298 00a8 0923     		movs	r3, #9
 299 00aa 7B61     		str	r3, [r7, #20]
 300 00ac 20E0     		b	.L20
 301              	.L17:
 184:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 185:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else if ((hclk >= 24000000U) && (hclk < 27700000U))
 302              		.loc 1 185 13
 303 00ae BB68     		ldr	r3, [r7, #8]
 304 00b0 214A     		ldr	r2, .L23+28
 305 00b2 9342     		cmp	r3, r2
 306 00b4 06D3     		bcc	.L18
 307              		.loc 1 185 34 discriminator 1
 308 00b6 BB68     		ldr	r3, [r7, #8]
 309 00b8 204A     		ldr	r2, .L23+32
 310 00ba 9342     		cmp	r3, r2
 311 00bc 02D8     		bhi	.L18
 186:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 187:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* hclk Clock Range between 24-27.7 MHz */
 188:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       UsbTrd = 0x8U;
 312              		.loc 1 188 14
 313 00be 0823     		movs	r3, #8
 314 00c0 7B61     		str	r3, [r7, #20]
 315 00c2 15E0     		b	.L20
 316              	.L18:
 189:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 190:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else if ((hclk >= 27700000U) && (hclk < 32000000U))
 317              		.loc 1 190 13
 318 00c4 BB68     		ldr	r3, [r7, #8]
 319 00c6 1D4A     		ldr	r2, .L23+32
 320 00c8 9342     		cmp	r3, r2
 321 00ca 06D9     		bls	.L19
 322              		.loc 1 190 34 discriminator 1
 323 00cc BB68     		ldr	r3, [r7, #8]
 324 00ce 1C4A     		ldr	r2, .L23+36
 325 00d0 9342     		cmp	r3, r2
 326 00d2 02D2     		bcs	.L19
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 10


 191:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 192:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* hclk Clock Range between 27.7-32 MHz */
 193:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       UsbTrd = 0x7U;
 327              		.loc 1 193 14
 328 00d4 0723     		movs	r3, #7
 329 00d6 7B61     		str	r3, [r7, #20]
 330 00d8 0AE0     		b	.L20
 331              	.L19:
 194:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 195:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else /* if(hclk >= 32000000) */
 196:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 197:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* hclk Clock Range between 32-200 MHz */
 198:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       UsbTrd = 0x6U;
 332              		.loc 1 198 14
 333 00da 0623     		movs	r3, #6
 334 00dc 7B61     		str	r3, [r7, #20]
 335 00de 07E0     		b	.L20
 336              	.L9:
 199:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 200:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 201:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else if (speed == USBD_HS_SPEED)
 337              		.loc 1 201 11
 338 00e0 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 339 00e2 002B     		cmp	r3, #0
 340 00e4 02D1     		bne	.L21
 202:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 203:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     UsbTrd = USBD_HS_TRDT_VALUE;
 341              		.loc 1 203 12
 342 00e6 0923     		movs	r3, #9
 343 00e8 7B61     		str	r3, [r7, #20]
 344 00ea 01E0     		b	.L20
 345              	.L21:
 204:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 205:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 206:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 207:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     UsbTrd = USBD_DEFAULT_TRDT_VALUE;
 346              		.loc 1 207 12
 347 00ec 0923     		movs	r3, #9
 348 00ee 7B61     		str	r3, [r7, #20]
 349              	.L20:
 208:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 209:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 210:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GUSBCFG &= ~USB_OTG_GUSBCFG_TRDT;
 350              		.loc 1 210 17
 351 00f0 FB68     		ldr	r3, [r7, #12]
 352 00f2 DB68     		ldr	r3, [r3, #12]
 353 00f4 23F47052 		bic	r2, r3, #15360
 354 00f8 FB68     		ldr	r3, [r7, #12]
 355 00fa DA60     		str	r2, [r3, #12]
 211:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GUSBCFG |= (uint32_t)((UsbTrd << 10) & USB_OTG_GUSBCFG_TRDT);
 356              		.loc 1 211 17
 357 00fc FB68     		ldr	r3, [r7, #12]
 358 00fe DA68     		ldr	r2, [r3, #12]
 359              		.loc 1 211 39
 360 0100 7B69     		ldr	r3, [r7, #20]
 361 0102 9B02     		lsls	r3, r3, #10
 362              		.loc 1 211 20
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 11


 363 0104 03F47053 		and	r3, r3, #15360
 364              		.loc 1 211 17
 365 0108 1A43     		orrs	r2, r2, r3
 366 010a FB68     		ldr	r3, [r7, #12]
 367 010c DA60     		str	r2, [r3, #12]
 212:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 213:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 368              		.loc 1 213 10
 369 010e 0023     		movs	r3, #0
 214:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 370              		.loc 1 214 1
 371 0110 1846     		mov	r0, r3
 372 0112 1C37     		adds	r7, r7, #28
 373              	.LCFI11:
 374              		.cfi_def_cfa_offset 4
 375 0114 BD46     		mov	sp, r7
 376              	.LCFI12:
 377              		.cfi_def_cfa_register 13
 378              		@ sp needed
 379 0116 5DF8047B 		ldr	r7, [sp], #4
 380              	.LCFI13:
 381              		.cfi_restore 7
 382              		.cfi_def_cfa_offset 0
 383 011a 7047     		bx	lr
 384              	.L24:
 385              		.align	2
 386              	.L23:
 387 011c BFACD800 		.word	14199999
 388 0120 C0E1E400 		.word	15000000
 389 0124 0024F400 		.word	16000000
 390 0128 80730601 		.word	17200000
 391 012c 9F491A01 		.word	18499999
 392 0130 FF2C3101 		.word	19999999
 393 0134 3FA44C01 		.word	21799999
 394 0138 00366E01 		.word	24000000
 395 013c 1FABA601 		.word	27699999
 396 0140 0048E801 		.word	32000000
 397              		.cfi_endproc
 398              	.LFE217:
 400              		.section	.text.USB_EnableGlobalInt,"ax",%progbits
 401              		.align	1
 402              		.global	USB_EnableGlobalInt
 403              		.syntax unified
 404              		.thumb
 405              		.thumb_func
 407              	USB_EnableGlobalInt:
 408              	.LFB218:
 215:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 216:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 217:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_EnableGlobalInt
 218:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         Enables the controller's Global Int in the AHB Config reg
 219:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 220:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 221:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 222:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_EnableGlobalInt(USB_OTG_GlobalTypeDef *USBx)
 223:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 409              		.loc 1 223 1
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 12


 410              		.cfi_startproc
 411              		@ args = 0, pretend = 0, frame = 8
 412              		@ frame_needed = 1, uses_anonymous_args = 0
 413              		@ link register save eliminated.
 414 0000 80B4     		push	{r7}
 415              	.LCFI14:
 416              		.cfi_def_cfa_offset 4
 417              		.cfi_offset 7, -4
 418 0002 83B0     		sub	sp, sp, #12
 419              	.LCFI15:
 420              		.cfi_def_cfa_offset 16
 421 0004 00AF     		add	r7, sp, #0
 422              	.LCFI16:
 423              		.cfi_def_cfa_register 7
 424 0006 7860     		str	r0, [r7, #4]
 224:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GAHBCFG |= USB_OTG_GAHBCFG_GINT;
 425              		.loc 1 224 17
 426 0008 7B68     		ldr	r3, [r7, #4]
 427 000a 9B68     		ldr	r3, [r3, #8]
 428 000c 43F00102 		orr	r2, r3, #1
 429 0010 7B68     		ldr	r3, [r7, #4]
 430 0012 9A60     		str	r2, [r3, #8]
 225:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 431              		.loc 1 225 10
 432 0014 0023     		movs	r3, #0
 226:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 433              		.loc 1 226 1
 434 0016 1846     		mov	r0, r3
 435 0018 0C37     		adds	r7, r7, #12
 436              	.LCFI17:
 437              		.cfi_def_cfa_offset 4
 438 001a BD46     		mov	sp, r7
 439              	.LCFI18:
 440              		.cfi_def_cfa_register 13
 441              		@ sp needed
 442 001c 5DF8047B 		ldr	r7, [sp], #4
 443              	.LCFI19:
 444              		.cfi_restore 7
 445              		.cfi_def_cfa_offset 0
 446 0020 7047     		bx	lr
 447              		.cfi_endproc
 448              	.LFE218:
 450              		.section	.text.USB_DisableGlobalInt,"ax",%progbits
 451              		.align	1
 452              		.global	USB_DisableGlobalInt
 453              		.syntax unified
 454              		.thumb
 455              		.thumb_func
 457              	USB_DisableGlobalInt:
 458              	.LFB219:
 227:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 228:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 229:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_DisableGlobalInt
 230:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         Disable the controller's Global Int in the AHB Config reg
 231:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 232:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 233:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 13


 234:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_DisableGlobalInt(USB_OTG_GlobalTypeDef *USBx)
 235:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 459              		.loc 1 235 1
 460              		.cfi_startproc
 461              		@ args = 0, pretend = 0, frame = 8
 462              		@ frame_needed = 1, uses_anonymous_args = 0
 463              		@ link register save eliminated.
 464 0000 80B4     		push	{r7}
 465              	.LCFI20:
 466              		.cfi_def_cfa_offset 4
 467              		.cfi_offset 7, -4
 468 0002 83B0     		sub	sp, sp, #12
 469              	.LCFI21:
 470              		.cfi_def_cfa_offset 16
 471 0004 00AF     		add	r7, sp, #0
 472              	.LCFI22:
 473              		.cfi_def_cfa_register 7
 474 0006 7860     		str	r0, [r7, #4]
 236:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GAHBCFG &= ~USB_OTG_GAHBCFG_GINT;
 475              		.loc 1 236 17
 476 0008 7B68     		ldr	r3, [r7, #4]
 477 000a 9B68     		ldr	r3, [r3, #8]
 478 000c 23F00102 		bic	r2, r3, #1
 479 0010 7B68     		ldr	r3, [r7, #4]
 480 0012 9A60     		str	r2, [r3, #8]
 237:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 481              		.loc 1 237 10
 482 0014 0023     		movs	r3, #0
 238:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 483              		.loc 1 238 1
 484 0016 1846     		mov	r0, r3
 485 0018 0C37     		adds	r7, r7, #12
 486              	.LCFI23:
 487              		.cfi_def_cfa_offset 4
 488 001a BD46     		mov	sp, r7
 489              	.LCFI24:
 490              		.cfi_def_cfa_register 13
 491              		@ sp needed
 492 001c 5DF8047B 		ldr	r7, [sp], #4
 493              	.LCFI25:
 494              		.cfi_restore 7
 495              		.cfi_def_cfa_offset 0
 496 0020 7047     		bx	lr
 497              		.cfi_endproc
 498              	.LFE219:
 500              		.section	.text.USB_SetCurrentMode,"ax",%progbits
 501              		.align	1
 502              		.global	USB_SetCurrentMode
 503              		.syntax unified
 504              		.thumb
 505              		.thumb_func
 507              	USB_SetCurrentMode:
 508              	.LFB220:
 239:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 240:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 241:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_SetCurrentMode Set functional mode
 242:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 14


 243:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  mode  current core mode
 244:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
 245:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_DEVICE_MODE Peripheral mode
 246:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_HOST_MODE Host mode
 247:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 248:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 249:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_SetCurrentMode(USB_OTG_GlobalTypeDef *USBx, USB_OTG_ModeTypeDef mode)
 250:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 509              		.loc 1 250 1
 510              		.cfi_startproc
 511              		@ args = 0, pretend = 0, frame = 16
 512              		@ frame_needed = 1, uses_anonymous_args = 0
 513 0000 80B5     		push	{r7, lr}
 514              	.LCFI26:
 515              		.cfi_def_cfa_offset 8
 516              		.cfi_offset 7, -8
 517              		.cfi_offset 14, -4
 518 0002 84B0     		sub	sp, sp, #16
 519              	.LCFI27:
 520              		.cfi_def_cfa_offset 24
 521 0004 00AF     		add	r7, sp, #0
 522              	.LCFI28:
 523              		.cfi_def_cfa_register 7
 524 0006 7860     		str	r0, [r7, #4]
 525 0008 0B46     		mov	r3, r1
 526 000a FB70     		strb	r3, [r7, #3]
 251:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t ms = 0U;
 527              		.loc 1 251 12
 528 000c 0023     		movs	r3, #0
 529 000e FB60     		str	r3, [r7, #12]
 252:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 253:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GUSBCFG &= ~(USB_OTG_GUSBCFG_FHMOD | USB_OTG_GUSBCFG_FDMOD);
 530              		.loc 1 253 17
 531 0010 7B68     		ldr	r3, [r7, #4]
 532 0012 DB68     		ldr	r3, [r3, #12]
 533 0014 23F0C042 		bic	r2, r3, #1610612736
 534 0018 7B68     		ldr	r3, [r7, #4]
 535 001a DA60     		str	r2, [r3, #12]
 254:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 255:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (mode == USB_HOST_MODE)
 536              		.loc 1 255 6
 537 001c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 538 001e 012B     		cmp	r3, #1
 539 0020 15D1     		bne	.L30
 256:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 257:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GUSBCFG |= USB_OTG_GUSBCFG_FHMOD;
 540              		.loc 1 257 19
 541 0022 7B68     		ldr	r3, [r7, #4]
 542 0024 DB68     		ldr	r3, [r3, #12]
 543 0026 43F00052 		orr	r2, r3, #536870912
 544 002a 7B68     		ldr	r3, [r7, #4]
 545 002c DA60     		str	r2, [r3, #12]
 546              	.L32:
 258:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 259:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     do
 260:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 261:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       HAL_Delay(1U);
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 15


 547              		.loc 1 261 7 discriminator 2
 548 002e 0120     		movs	r0, #1
 549 0030 FFF7FEFF 		bl	HAL_Delay
 262:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       ms++;
 550              		.loc 1 262 9 discriminator 2
 551 0034 FB68     		ldr	r3, [r7, #12]
 552 0036 0133     		adds	r3, r3, #1
 553 0038 FB60     		str	r3, [r7, #12]
 263:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     } while ((USB_GetMode(USBx) != (uint32_t)USB_HOST_MODE) && (ms < 50U));
 554              		.loc 1 263 15 discriminator 2
 555 003a 7868     		ldr	r0, [r7, #4]
 556 003c FFF7FEFF 		bl	USB_GetMode
 557 0040 0346     		mov	r3, r0
 558              		.loc 1 263 61 discriminator 2
 559 0042 012B     		cmp	r3, #1
 560 0044 1ED0     		beq	.L31
 561              		.loc 1 263 61 is_stmt 0 discriminator 1
 562 0046 FB68     		ldr	r3, [r7, #12]
 563 0048 312B     		cmp	r3, #49
 564 004a F0D9     		bls	.L32
 565 004c 1AE0     		b	.L31
 566              	.L30:
 264:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 265:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else if (mode == USB_DEVICE_MODE)
 567              		.loc 1 265 11 is_stmt 1
 568 004e FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 569 0050 002B     		cmp	r3, #0
 570 0052 15D1     		bne	.L33
 266:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 267:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GUSBCFG |= USB_OTG_GUSBCFG_FDMOD;
 571              		.loc 1 267 19
 572 0054 7B68     		ldr	r3, [r7, #4]
 573 0056 DB68     		ldr	r3, [r3, #12]
 574 0058 43F08042 		orr	r2, r3, #1073741824
 575 005c 7B68     		ldr	r3, [r7, #4]
 576 005e DA60     		str	r2, [r3, #12]
 577              	.L34:
 268:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 269:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     do
 270:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 271:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       HAL_Delay(1U);
 578              		.loc 1 271 7 discriminator 2
 579 0060 0120     		movs	r0, #1
 580 0062 FFF7FEFF 		bl	HAL_Delay
 272:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       ms++;
 581              		.loc 1 272 9 discriminator 2
 582 0066 FB68     		ldr	r3, [r7, #12]
 583 0068 0133     		adds	r3, r3, #1
 584 006a FB60     		str	r3, [r7, #12]
 273:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     } while ((USB_GetMode(USBx) != (uint32_t)USB_DEVICE_MODE) && (ms < 50U));
 585              		.loc 1 273 15 discriminator 2
 586 006c 7868     		ldr	r0, [r7, #4]
 587 006e FFF7FEFF 		bl	USB_GetMode
 588 0072 0346     		mov	r3, r0
 589              		.loc 1 273 63 discriminator 2
 590 0074 002B     		cmp	r3, #0
 591 0076 05D0     		beq	.L31
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 16


 592              		.loc 1 273 63 is_stmt 0 discriminator 1
 593 0078 FB68     		ldr	r3, [r7, #12]
 594 007a 312B     		cmp	r3, #49
 595 007c F0D9     		bls	.L34
 596 007e 01E0     		b	.L31
 597              	.L33:
 274:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 275:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 276:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 277:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     return HAL_ERROR;
 598              		.loc 1 277 12 is_stmt 1
 599 0080 0123     		movs	r3, #1
 600 0082 05E0     		b	.L35
 601              	.L31:
 278:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 279:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 280:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ms == 50U)
 602              		.loc 1 280 6
 603 0084 FB68     		ldr	r3, [r7, #12]
 604 0086 322B     		cmp	r3, #50
 605 0088 01D1     		bne	.L36
 281:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 282:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     return HAL_ERROR;
 606              		.loc 1 282 12
 607 008a 0123     		movs	r3, #1
 608 008c 00E0     		b	.L35
 609              	.L36:
 283:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 284:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 285:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 610              		.loc 1 285 10
 611 008e 0023     		movs	r3, #0
 612              	.L35:
 286:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 613              		.loc 1 286 1
 614 0090 1846     		mov	r0, r3
 615 0092 1037     		adds	r7, r7, #16
 616              	.LCFI29:
 617              		.cfi_def_cfa_offset 8
 618 0094 BD46     		mov	sp, r7
 619              	.LCFI30:
 620              		.cfi_def_cfa_register 13
 621              		@ sp needed
 622 0096 80BD     		pop	{r7, pc}
 623              		.cfi_endproc
 624              	.LFE220:
 626              		.section	.text.USB_DevInit,"ax",%progbits
 627              		.align	1
 628              		.global	USB_DevInit
 629              		.syntax unified
 630              		.thumb
 631              		.thumb_func
 633              	USB_DevInit:
 634              	.LFB221:
 287:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 288:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 289:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_DevInit Initializes the USB_OTG controller registers
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 17


 290:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         for device mode
 291:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 292:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  cfg   pointer to a USB_OTG_CfgTypeDef structure that contains
 293:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         the configuration information for the specified USBx peripheral.
 294:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 295:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 296:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_DevInit(USB_OTG_GlobalTypeDef *USBx, USB_OTG_CfgTypeDef cfg)
 297:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 635              		.loc 1 297 1
 636              		.cfi_startproc
 637              		@ args = 56, pretend = 16, frame = 24
 638              		@ frame_needed = 1, uses_anonymous_args = 0
 639 0000 84B0     		sub	sp, sp, #16
 640              	.LCFI31:
 641              		.cfi_def_cfa_offset 16
 642 0002 80B5     		push	{r7, lr}
 643              	.LCFI32:
 644              		.cfi_def_cfa_offset 24
 645              		.cfi_offset 7, -24
 646              		.cfi_offset 14, -20
 647 0004 86B0     		sub	sp, sp, #24
 648              	.LCFI33:
 649              		.cfi_def_cfa_offset 48
 650 0006 00AF     		add	r7, sp, #0
 651              	.LCFI34:
 652              		.cfi_def_cfa_register 7
 653 0008 7860     		str	r0, [r7, #4]
 654 000a 07F12400 		add	r0, r7, #36
 655 000e 80E80E00 		stm	r0, {r1, r2, r3}
 298:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HAL_StatusTypeDef ret = HAL_OK;
 656              		.loc 1 298 21
 657 0012 0023     		movs	r3, #0
 658 0014 FB75     		strb	r3, [r7, #23]
 299:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 659              		.loc 1 299 12
 660 0016 7B68     		ldr	r3, [r7, #4]
 661 0018 FB60     		str	r3, [r7, #12]
 300:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t i;
 301:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 302:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   for (i = 0U; i < 15U; i++)
 662              		.loc 1 302 10
 663 001a 0023     		movs	r3, #0
 664 001c 3B61     		str	r3, [r7, #16]
 665              		.loc 1 302 3
 666 001e 09E0     		b	.L38
 667              	.L39:
 303:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 304:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->DIEPTXF[i] = 0U;
 668              		.loc 1 304 22 discriminator 3
 669 0020 7A68     		ldr	r2, [r7, #4]
 670 0022 3B69     		ldr	r3, [r7, #16]
 671 0024 4033     		adds	r3, r3, #64
 672 0026 9B00     		lsls	r3, r3, #2
 673 0028 1344     		add	r3, r3, r2
 674 002a 0022     		movs	r2, #0
 675 002c 5A60     		str	r2, [r3, #4]
 302:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 18


 676              		.loc 1 302 26 discriminator 3
 677 002e 3B69     		ldr	r3, [r7, #16]
 678 0030 0133     		adds	r3, r3, #1
 679 0032 3B61     		str	r3, [r7, #16]
 680              	.L38:
 302:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 681              		.loc 1 302 18 discriminator 1
 682 0034 3B69     		ldr	r3, [r7, #16]
 683 0036 0E2B     		cmp	r3, #14
 684 0038 F2D9     		bls	.L39
 305:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 306:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 307:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #if defined(STM32F446xx) || defined(STM32F469xx) || defined(STM32F479xx) || defined(STM32F412Zx) ||
 308:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* VBUS Sensing setup */
 309:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.vbus_sensing_enable == 0U)
 310:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 311:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DCTL |= USB_OTG_DCTL_SDIS;
 312:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 313:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Deactivate VBUS Sensing B */
 314:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GCCFG &= ~USB_OTG_GCCFG_VBDEN;
 315:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 316:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* B-peripheral session valid override enable */
 317:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GOTGCTL |= USB_OTG_GOTGCTL_BVALOEN;
 318:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GOTGCTL |= USB_OTG_GOTGCTL_BVALOVAL;
 319:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 320:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 321:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 322:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Enable HW VBUS sensing */
 323:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GCCFG |= USB_OTG_GCCFG_VBDEN;
 324:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 325:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #else
 326:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* VBUS Sensing setup */
 327:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.vbus_sensing_enable == 0U)
 685              		.loc 1 327 10
 686 003a FB6C     		ldr	r3, [r7, #76]
 687              		.loc 1 327 6
 688 003c 002B     		cmp	r3, #0
 689 003e 1CD1     		bne	.L40
 328:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 329:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /*
 330:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****      * Disable HW VBUS sensing. VBUS is internally considered to be always
 331:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****      * at VBUS-Valid level (5V).
 332:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****      */
 333:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DCTL |= USB_OTG_DCTL_SDIS;
 690              		.loc 1 333 23
 691 0040 FB68     		ldr	r3, [r7, #12]
 692 0042 03F50063 		add	r3, r3, #2048
 693 0046 5B68     		ldr	r3, [r3, #4]
 694 0048 FA68     		ldr	r2, [r7, #12]
 695 004a 02F50062 		add	r2, r2, #2048
 696 004e 43F00203 		orr	r3, r3, #2
 697 0052 5360     		str	r3, [r2, #4]
 334:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GCCFG |= USB_OTG_GCCFG_NOVBUSSENS;
 698              		.loc 1 334 17
 699 0054 7B68     		ldr	r3, [r7, #4]
 700 0056 9B6B     		ldr	r3, [r3, #56]
 701 0058 43F40012 		orr	r2, r3, #2097152
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 19


 702 005c 7B68     		ldr	r3, [r7, #4]
 703 005e 9A63     		str	r2, [r3, #56]
 335:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GCCFG &= ~USB_OTG_GCCFG_VBUSBSEN;
 704              		.loc 1 335 17
 705 0060 7B68     		ldr	r3, [r7, #4]
 706 0062 9B6B     		ldr	r3, [r3, #56]
 707 0064 23F40022 		bic	r2, r3, #524288
 708 0068 7B68     		ldr	r3, [r7, #4]
 709 006a 9A63     		str	r2, [r3, #56]
 336:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GCCFG &= ~USB_OTG_GCCFG_VBUSASEN;
 710              		.loc 1 336 17
 711 006c 7B68     		ldr	r3, [r7, #4]
 712 006e 9B6B     		ldr	r3, [r3, #56]
 713 0070 23F48022 		bic	r2, r3, #262144
 714 0074 7B68     		ldr	r3, [r7, #4]
 715 0076 9A63     		str	r2, [r3, #56]
 716 0078 0BE0     		b	.L41
 717              	.L40:
 337:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 338:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 339:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 340:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Enable HW VBUS sensing */
 341:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GCCFG &= ~USB_OTG_GCCFG_NOVBUSSENS;
 718              		.loc 1 341 17
 719 007a 7B68     		ldr	r3, [r7, #4]
 720 007c 9B6B     		ldr	r3, [r3, #56]
 721 007e 23F40012 		bic	r2, r3, #2097152
 722 0082 7B68     		ldr	r3, [r7, #4]
 723 0084 9A63     		str	r2, [r3, #56]
 342:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GCCFG |= USB_OTG_GCCFG_VBUSBSEN;
 724              		.loc 1 342 17
 725 0086 7B68     		ldr	r3, [r7, #4]
 726 0088 9B6B     		ldr	r3, [r3, #56]
 727 008a 43F40022 		orr	r2, r3, #524288
 728 008e 7B68     		ldr	r3, [r7, #4]
 729 0090 9A63     		str	r2, [r3, #56]
 730              	.L41:
 343:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 344:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #endif /* defined(STM32F446xx) || defined(STM32F469xx) || defined(STM32F479xx) || defined(STM32F412
 345:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 346:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Restart the Phy Clock */
 347:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_PCGCCTL = 0U;
 731              		.loc 1 347 3
 732 0092 FB68     		ldr	r3, [r7, #12]
 733 0094 03F56063 		add	r3, r3, #3584
 734 0098 1A46     		mov	r2, r3
 735              		.loc 1 347 16
 736 009a 0023     		movs	r3, #0
 737 009c 1360     		str	r3, [r2]
 348:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 349:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Device mode configuration */
 350:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DCFG |= DCFG_FRAME_INTERVAL_80;
 738              		.loc 1 350 21
 739 009e FB68     		ldr	r3, [r7, #12]
 740 00a0 03F50063 		add	r3, r3, #2048
 741 00a4 1946     		mov	r1, r3
 742 00a6 FB68     		ldr	r3, [r7, #12]
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 20


 743 00a8 03F50063 		add	r3, r3, #2048
 744 00ac 1A46     		mov	r2, r3
 745 00ae 0B68     		ldr	r3, [r1]
 746 00b0 1360     		str	r3, [r2]
 351:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 352:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.phy_itface == USB_OTG_ULPI_PHY)
 747              		.loc 1 352 10
 748 00b2 BB6B     		ldr	r3, [r7, #56]
 749              		.loc 1 352 6
 750 00b4 012B     		cmp	r3, #1
 751 00b6 0CD1     		bne	.L42
 353:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 354:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (cfg.speed == USBD_HS_SPEED)
 752              		.loc 1 354 12
 753 00b8 FB6A     		ldr	r3, [r7, #44]
 754              		.loc 1 354 8
 755 00ba 002B     		cmp	r3, #0
 756 00bc 04D1     		bne	.L43
 355:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 356:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Set Core speed to High speed mode */
 357:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       (void)USB_SetDevSpeed(USBx, USB_OTG_SPEED_HIGH);
 757              		.loc 1 357 13
 758 00be 0021     		movs	r1, #0
 759 00c0 7868     		ldr	r0, [r7, #4]
 760 00c2 FFF7FEFF 		bl	USB_SetDevSpeed
 761 00c6 08E0     		b	.L44
 762              	.L43:
 358:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 359:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
 360:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 361:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Set Core speed to Full speed mode */
 362:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       (void)USB_SetDevSpeed(USBx, USB_OTG_SPEED_HIGH_IN_FULL);
 763              		.loc 1 362 13
 764 00c8 0121     		movs	r1, #1
 765 00ca 7868     		ldr	r0, [r7, #4]
 766 00cc FFF7FEFF 		bl	USB_SetDevSpeed
 767 00d0 03E0     		b	.L44
 768              	.L42:
 363:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 364:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 365:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 366:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 367:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Set Core speed to Full speed mode */
 368:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     (void)USB_SetDevSpeed(USBx, USB_OTG_SPEED_FULL);
 769              		.loc 1 368 11
 770 00d2 0321     		movs	r1, #3
 771 00d4 7868     		ldr	r0, [r7, #4]
 772 00d6 FFF7FEFF 		bl	USB_SetDevSpeed
 773              	.L44:
 369:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 370:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 371:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Flush the FIFOs */
 372:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (USB_FlushTxFifo(USBx, 0x10U) != HAL_OK) /* all Tx FIFOs */
 774              		.loc 1 372 7
 775 00da 1021     		movs	r1, #16
 776 00dc 7868     		ldr	r0, [r7, #4]
 777 00de FFF7FEFF 		bl	USB_FlushTxFifo
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 21


 778 00e2 0346     		mov	r3, r0
 779              		.loc 1 372 6
 780 00e4 002B     		cmp	r3, #0
 781 00e6 01D0     		beq	.L45
 373:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 374:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     ret = HAL_ERROR;
 782              		.loc 1 374 9
 783 00e8 0123     		movs	r3, #1
 784 00ea FB75     		strb	r3, [r7, #23]
 785              	.L45:
 375:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 376:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 377:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (USB_FlushRxFifo(USBx) != HAL_OK)
 786              		.loc 1 377 7
 787 00ec 7868     		ldr	r0, [r7, #4]
 788 00ee FFF7FEFF 		bl	USB_FlushRxFifo
 789 00f2 0346     		mov	r3, r0
 790              		.loc 1 377 6
 791 00f4 002B     		cmp	r3, #0
 792 00f6 01D0     		beq	.L46
 378:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 379:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     ret = HAL_ERROR;
 793              		.loc 1 379 9
 794 00f8 0123     		movs	r3, #1
 795 00fa FB75     		strb	r3, [r7, #23]
 796              	.L46:
 380:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 381:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 382:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Clear all pending Device Interrupts */
 383:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DIEPMSK = 0U;
 797              		.loc 1 383 3
 798 00fc FB68     		ldr	r3, [r7, #12]
 799 00fe 03F50063 		add	r3, r3, #2048
 800 0102 1A46     		mov	r2, r3
 801              		.loc 1 383 24
 802 0104 0023     		movs	r3, #0
 803 0106 1361     		str	r3, [r2, #16]
 384:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DOEPMSK = 0U;
 804              		.loc 1 384 3
 805 0108 FB68     		ldr	r3, [r7, #12]
 806 010a 03F50063 		add	r3, r3, #2048
 807 010e 1A46     		mov	r2, r3
 808              		.loc 1 384 24
 809 0110 0023     		movs	r3, #0
 810 0112 5361     		str	r3, [r2, #20]
 385:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DAINTMSK = 0U;
 811              		.loc 1 385 3
 812 0114 FB68     		ldr	r3, [r7, #12]
 813 0116 03F50063 		add	r3, r3, #2048
 814 011a 1A46     		mov	r2, r3
 815              		.loc 1 385 25
 816 011c 0023     		movs	r3, #0
 817 011e D361     		str	r3, [r2, #28]
 386:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 387:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   for (i = 0U; i < cfg.dev_endpoints; i++)
 818              		.loc 1 387 10
 819 0120 0023     		movs	r3, #0
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 22


 820 0122 3B61     		str	r3, [r7, #16]
 821              		.loc 1 387 3
 822 0124 43E0     		b	.L47
 823              	.L51:
 388:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 389:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((USBx_INEP(i)->DIEPCTL & USB_OTG_DIEPCTL_EPENA) == USB_OTG_DIEPCTL_EPENA)
 824              		.loc 1 389 10
 825 0126 3B69     		ldr	r3, [r7, #16]
 826 0128 5A01     		lsls	r2, r3, #5
 827 012a FB68     		ldr	r3, [r7, #12]
 828 012c 1344     		add	r3, r3, r2
 829 012e 03F51063 		add	r3, r3, #2304
 830              		.loc 1 389 22
 831 0132 1B68     		ldr	r3, [r3]
 832              		.loc 1 389 32
 833 0134 03F00043 		and	r3, r3, #-2147483648
 834              		.loc 1 389 8
 835 0138 B3F1004F 		cmp	r3, #-2147483648
 836 013c 18D1     		bne	.L48
 390:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 391:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if (i == 0U)
 837              		.loc 1 391 10
 838 013e 3B69     		ldr	r3, [r7, #16]
 839 0140 002B     		cmp	r3, #0
 840 0142 0AD1     		bne	.L49
 392:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 393:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_INEP(i)->DIEPCTL = USB_OTG_DIEPCTL_SNAK;
 841              		.loc 1 393 9
 842 0144 3B69     		ldr	r3, [r7, #16]
 843 0146 5A01     		lsls	r2, r3, #5
 844 0148 FB68     		ldr	r3, [r7, #12]
 845 014a 1344     		add	r3, r3, r2
 846 014c 03F51063 		add	r3, r3, #2304
 847 0150 1A46     		mov	r2, r3
 848              		.loc 1 393 31
 849 0152 4FF00063 		mov	r3, #134217728
 850 0156 1360     		str	r3, [r2]
 851 0158 13E0     		b	.L50
 852              	.L49:
 394:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 395:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       else
 396:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 397:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_INEP(i)->DIEPCTL = USB_OTG_DIEPCTL_EPDIS | USB_OTG_DIEPCTL_SNAK;
 853              		.loc 1 397 9
 854 015a 3B69     		ldr	r3, [r7, #16]
 855 015c 5A01     		lsls	r2, r3, #5
 856 015e FB68     		ldr	r3, [r7, #12]
 857 0160 1344     		add	r3, r3, r2
 858 0162 03F51063 		add	r3, r3, #2304
 859 0166 1A46     		mov	r2, r3
 860              		.loc 1 397 31
 861 0168 4FF09043 		mov	r3, #1207959552
 862 016c 1360     		str	r3, [r2]
 863 016e 08E0     		b	.L50
 864              	.L48:
 398:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 399:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 23


 400:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
 401:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 402:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(i)->DIEPCTL = 0U;
 865              		.loc 1 402 7
 866 0170 3B69     		ldr	r3, [r7, #16]
 867 0172 5A01     		lsls	r2, r3, #5
 868 0174 FB68     		ldr	r3, [r7, #12]
 869 0176 1344     		add	r3, r3, r2
 870 0178 03F51063 		add	r3, r3, #2304
 871 017c 1A46     		mov	r2, r3
 872              		.loc 1 402 29
 873 017e 0023     		movs	r3, #0
 874 0180 1360     		str	r3, [r2]
 875              	.L50:
 403:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 404:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 405:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(i)->DIEPTSIZ = 0U;
 876              		.loc 1 405 5 discriminator 2
 877 0182 3B69     		ldr	r3, [r7, #16]
 878 0184 5A01     		lsls	r2, r3, #5
 879 0186 FB68     		ldr	r3, [r7, #12]
 880 0188 1344     		add	r3, r3, r2
 881 018a 03F51063 		add	r3, r3, #2304
 882 018e 1A46     		mov	r2, r3
 883              		.loc 1 405 28 discriminator 2
 884 0190 0023     		movs	r3, #0
 885 0192 1361     		str	r3, [r2, #16]
 406:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(i)->DIEPINT  = 0xFB7FU;
 886              		.loc 1 406 5 discriminator 2
 887 0194 3B69     		ldr	r3, [r7, #16]
 888 0196 5A01     		lsls	r2, r3, #5
 889 0198 FB68     		ldr	r3, [r7, #12]
 890 019a 1344     		add	r3, r3, r2
 891 019c 03F51063 		add	r3, r3, #2304
 892 01a0 1A46     		mov	r2, r3
 893              		.loc 1 406 28 discriminator 2
 894 01a2 4FF67F33 		movw	r3, #64383
 895 01a6 9360     		str	r3, [r2, #8]
 387:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 896              		.loc 1 387 40 discriminator 2
 897 01a8 3B69     		ldr	r3, [r7, #16]
 898 01aa 0133     		adds	r3, r3, #1
 899 01ac 3B61     		str	r3, [r7, #16]
 900              	.L47:
 387:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 901              		.loc 1 387 23 discriminator 1
 902 01ae 7B6A     		ldr	r3, [r7, #36]
 387:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 903              		.loc 1 387 18 discriminator 1
 904 01b0 3A69     		ldr	r2, [r7, #16]
 905 01b2 9A42     		cmp	r2, r3
 906 01b4 B7D3     		bcc	.L51
 407:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 408:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 409:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   for (i = 0U; i < cfg.dev_endpoints; i++)
 907              		.loc 1 409 10
 908 01b6 0023     		movs	r3, #0
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 24


 909 01b8 3B61     		str	r3, [r7, #16]
 910              		.loc 1 409 3
 911 01ba 43E0     		b	.L52
 912              	.L56:
 410:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 411:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((USBx_OUTEP(i)->DOEPCTL & USB_OTG_DOEPCTL_EPENA) == USB_OTG_DOEPCTL_EPENA)
 913              		.loc 1 411 10
 914 01bc 3B69     		ldr	r3, [r7, #16]
 915 01be 5A01     		lsls	r2, r3, #5
 916 01c0 FB68     		ldr	r3, [r7, #12]
 917 01c2 1344     		add	r3, r3, r2
 918 01c4 03F53063 		add	r3, r3, #2816
 919              		.loc 1 411 23
 920 01c8 1B68     		ldr	r3, [r3]
 921              		.loc 1 411 33
 922 01ca 03F00043 		and	r3, r3, #-2147483648
 923              		.loc 1 411 8
 924 01ce B3F1004F 		cmp	r3, #-2147483648
 925 01d2 18D1     		bne	.L53
 412:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 413:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if (i == 0U)
 926              		.loc 1 413 10
 927 01d4 3B69     		ldr	r3, [r7, #16]
 928 01d6 002B     		cmp	r3, #0
 929 01d8 0AD1     		bne	.L54
 414:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 415:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_OUTEP(i)->DOEPCTL = USB_OTG_DOEPCTL_SNAK;
 930              		.loc 1 415 9
 931 01da 3B69     		ldr	r3, [r7, #16]
 932 01dc 5A01     		lsls	r2, r3, #5
 933 01de FB68     		ldr	r3, [r7, #12]
 934 01e0 1344     		add	r3, r3, r2
 935 01e2 03F53063 		add	r3, r3, #2816
 936 01e6 1A46     		mov	r2, r3
 937              		.loc 1 415 32
 938 01e8 4FF00063 		mov	r3, #134217728
 939 01ec 1360     		str	r3, [r2]
 940 01ee 13E0     		b	.L55
 941              	.L54:
 416:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 417:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       else
 418:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 419:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_OUTEP(i)->DOEPCTL = USB_OTG_DOEPCTL_EPDIS | USB_OTG_DOEPCTL_SNAK;
 942              		.loc 1 419 9
 943 01f0 3B69     		ldr	r3, [r7, #16]
 944 01f2 5A01     		lsls	r2, r3, #5
 945 01f4 FB68     		ldr	r3, [r7, #12]
 946 01f6 1344     		add	r3, r3, r2
 947 01f8 03F53063 		add	r3, r3, #2816
 948 01fc 1A46     		mov	r2, r3
 949              		.loc 1 419 32
 950 01fe 4FF09043 		mov	r3, #1207959552
 951 0202 1360     		str	r3, [r2]
 952 0204 08E0     		b	.L55
 953              	.L53:
 420:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 421:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 25


 422:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
 423:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 424:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(i)->DOEPCTL = 0U;
 954              		.loc 1 424 7
 955 0206 3B69     		ldr	r3, [r7, #16]
 956 0208 5A01     		lsls	r2, r3, #5
 957 020a FB68     		ldr	r3, [r7, #12]
 958 020c 1344     		add	r3, r3, r2
 959 020e 03F53063 		add	r3, r3, #2816
 960 0212 1A46     		mov	r2, r3
 961              		.loc 1 424 30
 962 0214 0023     		movs	r3, #0
 963 0216 1360     		str	r3, [r2]
 964              	.L55:
 425:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 426:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 427:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(i)->DOEPTSIZ = 0U;
 965              		.loc 1 427 5 discriminator 2
 966 0218 3B69     		ldr	r3, [r7, #16]
 967 021a 5A01     		lsls	r2, r3, #5
 968 021c FB68     		ldr	r3, [r7, #12]
 969 021e 1344     		add	r3, r3, r2
 970 0220 03F53063 		add	r3, r3, #2816
 971 0224 1A46     		mov	r2, r3
 972              		.loc 1 427 29 discriminator 2
 973 0226 0023     		movs	r3, #0
 974 0228 1361     		str	r3, [r2, #16]
 428:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(i)->DOEPINT  = 0xFB7FU;
 975              		.loc 1 428 5 discriminator 2
 976 022a 3B69     		ldr	r3, [r7, #16]
 977 022c 5A01     		lsls	r2, r3, #5
 978 022e FB68     		ldr	r3, [r7, #12]
 979 0230 1344     		add	r3, r3, r2
 980 0232 03F53063 		add	r3, r3, #2816
 981 0236 1A46     		mov	r2, r3
 982              		.loc 1 428 29 discriminator 2
 983 0238 4FF67F33 		movw	r3, #64383
 984 023c 9360     		str	r3, [r2, #8]
 409:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 985              		.loc 1 409 40 discriminator 2
 986 023e 3B69     		ldr	r3, [r7, #16]
 987 0240 0133     		adds	r3, r3, #1
 988 0242 3B61     		str	r3, [r7, #16]
 989              	.L52:
 409:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 990              		.loc 1 409 23 discriminator 1
 991 0244 7B6A     		ldr	r3, [r7, #36]
 409:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 992              		.loc 1 409 18 discriminator 1
 993 0246 3A69     		ldr	r2, [r7, #16]
 994 0248 9A42     		cmp	r2, r3
 995 024a B7D3     		bcc	.L56
 429:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 430:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 431:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DIEPMSK &= ~(USB_OTG_DIEPMSK_TXFURM);
 996              		.loc 1 431 24
 997 024c FB68     		ldr	r3, [r7, #12]
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 26


 998 024e 03F50063 		add	r3, r3, #2048
 999 0252 1B69     		ldr	r3, [r3, #16]
 1000 0254 FA68     		ldr	r2, [r7, #12]
 1001 0256 02F50062 		add	r2, r2, #2048
 1002 025a 23F48073 		bic	r3, r3, #256
 1003 025e 1361     		str	r3, [r2, #16]
 432:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 433:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Disable all interrupts. */
 434:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTMSK = 0U;
 1004              		.loc 1 434 17
 1005 0260 7B68     		ldr	r3, [r7, #4]
 1006 0262 0022     		movs	r2, #0
 1007 0264 9A61     		str	r2, [r3, #24]
 435:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 436:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Clear any pending interrupts */
 437:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTSTS = 0xBFFFFFFFU;
 1008              		.loc 1 437 17
 1009 0266 7B68     		ldr	r3, [r7, #4]
 1010 0268 6FF08042 		mvn	r2, #1073741824
 1011 026c 5A61     		str	r2, [r3, #20]
 438:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 439:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Enable the common interrupts */
 440:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.dma_enable == 0U)
 1012              		.loc 1 440 10
 1013 026e 3B6B     		ldr	r3, [r7, #48]
 1014              		.loc 1 440 6
 1015 0270 002B     		cmp	r3, #0
 1016 0272 05D1     		bne	.L57
 441:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 442:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GINTMSK |= USB_OTG_GINTMSK_RXFLVLM;
 1017              		.loc 1 442 19
 1018 0274 7B68     		ldr	r3, [r7, #4]
 1019 0276 9B69     		ldr	r3, [r3, #24]
 1020 0278 43F01002 		orr	r2, r3, #16
 1021 027c 7B68     		ldr	r3, [r7, #4]
 1022 027e 9A61     		str	r2, [r3, #24]
 1023              	.L57:
 443:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 444:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 445:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Enable interrupts matching to the Device mode ONLY */
 446:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTMSK |= USB_OTG_GINTMSK_USBSUSPM | USB_OTG_GINTMSK_USBRST |
 1024              		.loc 1 446 17
 1025 0280 7B68     		ldr	r3, [r7, #4]
 1026 0282 9A69     		ldr	r2, [r3, #24]
 1027 0284 0F4B     		ldr	r3, .L61
 1028 0286 1343     		orrs	r3, r3, r2
 1029 0288 7A68     		ldr	r2, [r7, #4]
 1030 028a 9361     		str	r3, [r2, #24]
 447:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                    USB_OTG_GINTMSK_ENUMDNEM | USB_OTG_GINTMSK_IEPINT |
 448:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                    USB_OTG_GINTMSK_OEPINT   | USB_OTG_GINTMSK_IISOIXFRM |
 449:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                    USB_OTG_GINTMSK_PXFRM_IISOOXFRM | USB_OTG_GINTMSK_WUIM;
 450:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 451:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.Sof_enable != 0U)
 1031              		.loc 1 451 10
 1032 028c FB6B     		ldr	r3, [r7, #60]
 1033              		.loc 1 451 6
 1034 028e 002B     		cmp	r3, #0
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 27


 1035 0290 05D0     		beq	.L58
 452:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 453:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GINTMSK |= USB_OTG_GINTMSK_SOFM;
 1036              		.loc 1 453 19
 1037 0292 7B68     		ldr	r3, [r7, #4]
 1038 0294 9B69     		ldr	r3, [r3, #24]
 1039 0296 43F00802 		orr	r2, r3, #8
 1040 029a 7B68     		ldr	r3, [r7, #4]
 1041 029c 9A61     		str	r2, [r3, #24]
 1042              	.L58:
 454:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 455:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 456:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.vbus_sensing_enable == 1U)
 1043              		.loc 1 456 10
 1044 029e FB6C     		ldr	r3, [r7, #76]
 1045              		.loc 1 456 6
 1046 02a0 012B     		cmp	r3, #1
 1047 02a2 07D1     		bne	.L59
 457:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 458:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GINTMSK |= (USB_OTG_GINTMSK_SRQIM | USB_OTG_GINTMSK_OTGINT);
 1048              		.loc 1 458 19
 1049 02a4 7B68     		ldr	r3, [r7, #4]
 1050 02a6 9B69     		ldr	r3, [r3, #24]
 1051 02a8 43F08043 		orr	r3, r3, #1073741824
 1052 02ac 43F00403 		orr	r3, r3, #4
 1053 02b0 7A68     		ldr	r2, [r7, #4]
 1054 02b2 9361     		str	r3, [r2, #24]
 1055              	.L59:
 459:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 460:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 461:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ret;
 1056              		.loc 1 461 10
 1057 02b4 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 462:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 1058              		.loc 1 462 1
 1059 02b6 1846     		mov	r0, r3
 1060 02b8 1837     		adds	r7, r7, #24
 1061              	.LCFI35:
 1062              		.cfi_def_cfa_offset 24
 1063 02ba BD46     		mov	sp, r7
 1064              	.LCFI36:
 1065              		.cfi_def_cfa_register 13
 1066              		@ sp needed
 1067 02bc BDE88040 		pop	{r7, lr}
 1068              	.LCFI37:
 1069              		.cfi_restore 14
 1070              		.cfi_restore 7
 1071              		.cfi_def_cfa_offset 16
 1072 02c0 04B0     		add	sp, sp, #16
 1073              	.LCFI38:
 1074              		.cfi_def_cfa_offset 0
 1075 02c2 7047     		bx	lr
 1076              	.L62:
 1077              		.align	2
 1078              	.L61:
 1079 02c4 00383C80 		.word	-2143537152
 1080              		.cfi_endproc
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 28


 1081              	.LFE221:
 1083              		.section	.text.USB_FlushTxFifo,"ax",%progbits
 1084              		.align	1
 1085              		.global	USB_FlushTxFifo
 1086              		.syntax unified
 1087              		.thumb
 1088              		.thumb_func
 1090              	USB_FlushTxFifo:
 1091              	.LFB222:
 463:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 464:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 465:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_FlushTxFifo Flush a Tx FIFO
 466:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 467:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  num  FIFO number
 468:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         This parameter can be a value from 1 to 15
 469:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****             15 means Flush all Tx FIFOs
 470:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 471:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 472:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_FlushTxFifo(USB_OTG_GlobalTypeDef *USBx, uint32_t num)
 473:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 1092              		.loc 1 473 1
 1093              		.cfi_startproc
 1094              		@ args = 0, pretend = 0, frame = 16
 1095              		@ frame_needed = 1, uses_anonymous_args = 0
 1096              		@ link register save eliminated.
 1097 0000 80B4     		push	{r7}
 1098              	.LCFI39:
 1099              		.cfi_def_cfa_offset 4
 1100              		.cfi_offset 7, -4
 1101 0002 85B0     		sub	sp, sp, #20
 1102              	.LCFI40:
 1103              		.cfi_def_cfa_offset 24
 1104 0004 00AF     		add	r7, sp, #0
 1105              	.LCFI41:
 1106              		.cfi_def_cfa_register 7
 1107 0006 7860     		str	r0, [r7, #4]
 1108 0008 3960     		str	r1, [r7]
 474:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   __IO uint32_t count = 0U;
 1109              		.loc 1 474 17
 1110 000a 0023     		movs	r3, #0
 1111 000c FB60     		str	r3, [r7, #12]
 1112              	.L66:
 475:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 476:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Wait for AHB master IDLE state. */
 477:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   do
 478:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 479:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     count++;
 1113              		.loc 1 479 10
 1114 000e FB68     		ldr	r3, [r7, #12]
 1115 0010 0133     		adds	r3, r3, #1
 1116 0012 FB60     		str	r3, [r7, #12]
 480:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 481:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (count > 200000U)
 1117              		.loc 1 481 15
 1118 0014 FB68     		ldr	r3, [r7, #12]
 1119              		.loc 1 481 8
 1120 0016 134A     		ldr	r2, .L69
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 29


 1121 0018 9342     		cmp	r3, r2
 1122 001a 01D9     		bls	.L64
 482:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 483:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       return HAL_TIMEOUT;
 1123              		.loc 1 483 14
 1124 001c 0323     		movs	r3, #3
 1125 001e 1BE0     		b	.L65
 1126              	.L64:
 484:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 485:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   } while ((USBx->GRSTCTL & USB_OTG_GRSTCTL_AHBIDL) == 0U);
 1127              		.loc 1 485 17
 1128 0020 7B68     		ldr	r3, [r7, #4]
 1129 0022 1B69     		ldr	r3, [r3, #16]
 1130              		.loc 1 485 53
 1131 0024 002B     		cmp	r3, #0
 1132 0026 F2DA     		bge	.L66
 486:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 487:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Flush TX Fifo */
 488:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   count = 0U;
 1133              		.loc 1 488 9
 1134 0028 0023     		movs	r3, #0
 1135 002a FB60     		str	r3, [r7, #12]
 489:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GRSTCTL = (USB_OTG_GRSTCTL_TXFFLSH | (num << 6));
 1136              		.loc 1 489 51
 1137 002c 3B68     		ldr	r3, [r7]
 1138 002e 9B01     		lsls	r3, r3, #6
 1139              		.loc 1 489 44
 1140 0030 43F02002 		orr	r2, r3, #32
 1141              		.loc 1 489 17
 1142 0034 7B68     		ldr	r3, [r7, #4]
 1143 0036 1A61     		str	r2, [r3, #16]
 1144              	.L68:
 490:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 491:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   do
 492:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 493:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     count++;
 1145              		.loc 1 493 10
 1146 0038 FB68     		ldr	r3, [r7, #12]
 1147 003a 0133     		adds	r3, r3, #1
 1148 003c FB60     		str	r3, [r7, #12]
 494:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 495:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (count > 200000U)
 1149              		.loc 1 495 15
 1150 003e FB68     		ldr	r3, [r7, #12]
 1151              		.loc 1 495 8
 1152 0040 084A     		ldr	r2, .L69
 1153 0042 9342     		cmp	r3, r2
 1154 0044 01D9     		bls	.L67
 496:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 497:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       return HAL_TIMEOUT;
 1155              		.loc 1 497 14
 1156 0046 0323     		movs	r3, #3
 1157 0048 06E0     		b	.L65
 1158              	.L67:
 498:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 499:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   } while ((USBx->GRSTCTL & USB_OTG_GRSTCTL_TXFFLSH) == USB_OTG_GRSTCTL_TXFFLSH);
 1159              		.loc 1 499 17
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 30


 1160 004a 7B68     		ldr	r3, [r7, #4]
 1161 004c 1B69     		ldr	r3, [r3, #16]
 1162              		.loc 1 499 27
 1163 004e 03F02003 		and	r3, r3, #32
 1164              		.loc 1 499 54
 1165 0052 202B     		cmp	r3, #32
 1166 0054 F0D0     		beq	.L68
 500:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 501:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 1167              		.loc 1 501 10
 1168 0056 0023     		movs	r3, #0
 1169              	.L65:
 502:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 1170              		.loc 1 502 1
 1171 0058 1846     		mov	r0, r3
 1172 005a 1437     		adds	r7, r7, #20
 1173              	.LCFI42:
 1174              		.cfi_def_cfa_offset 4
 1175 005c BD46     		mov	sp, r7
 1176              	.LCFI43:
 1177              		.cfi_def_cfa_register 13
 1178              		@ sp needed
 1179 005e 5DF8047B 		ldr	r7, [sp], #4
 1180              	.LCFI44:
 1181              		.cfi_restore 7
 1182              		.cfi_def_cfa_offset 0
 1183 0062 7047     		bx	lr
 1184              	.L70:
 1185              		.align	2
 1186              	.L69:
 1187 0064 400D0300 		.word	200000
 1188              		.cfi_endproc
 1189              	.LFE222:
 1191              		.section	.text.USB_FlushRxFifo,"ax",%progbits
 1192              		.align	1
 1193              		.global	USB_FlushRxFifo
 1194              		.syntax unified
 1195              		.thumb
 1196              		.thumb_func
 1198              	USB_FlushRxFifo:
 1199              	.LFB223:
 503:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 504:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 505:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_FlushRxFifo  Flush Rx FIFO
 506:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 507:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 508:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 509:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_FlushRxFifo(USB_OTG_GlobalTypeDef *USBx)
 510:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 1200              		.loc 1 510 1
 1201              		.cfi_startproc
 1202              		@ args = 0, pretend = 0, frame = 16
 1203              		@ frame_needed = 1, uses_anonymous_args = 0
 1204              		@ link register save eliminated.
 1205 0000 80B4     		push	{r7}
 1206              	.LCFI45:
 1207              		.cfi_def_cfa_offset 4
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 31


 1208              		.cfi_offset 7, -4
 1209 0002 85B0     		sub	sp, sp, #20
 1210              	.LCFI46:
 1211              		.cfi_def_cfa_offset 24
 1212 0004 00AF     		add	r7, sp, #0
 1213              	.LCFI47:
 1214              		.cfi_def_cfa_register 7
 1215 0006 7860     		str	r0, [r7, #4]
 511:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   __IO uint32_t count = 0U;
 1216              		.loc 1 511 17
 1217 0008 0023     		movs	r3, #0
 1218 000a FB60     		str	r3, [r7, #12]
 1219              	.L74:
 512:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 513:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Wait for AHB master IDLE state. */
 514:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   do
 515:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 516:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     count++;
 1220              		.loc 1 516 10
 1221 000c FB68     		ldr	r3, [r7, #12]
 1222 000e 0133     		adds	r3, r3, #1
 1223 0010 FB60     		str	r3, [r7, #12]
 517:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 518:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (count > 200000U)
 1224              		.loc 1 518 15
 1225 0012 FB68     		ldr	r3, [r7, #12]
 1226              		.loc 1 518 8
 1227 0014 114A     		ldr	r2, .L77
 1228 0016 9342     		cmp	r3, r2
 1229 0018 01D9     		bls	.L72
 519:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 520:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       return HAL_TIMEOUT;
 1230              		.loc 1 520 14
 1231 001a 0323     		movs	r3, #3
 1232 001c 18E0     		b	.L73
 1233              	.L72:
 521:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 522:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   } while ((USBx->GRSTCTL & USB_OTG_GRSTCTL_AHBIDL) == 0U);
 1234              		.loc 1 522 17
 1235 001e 7B68     		ldr	r3, [r7, #4]
 1236 0020 1B69     		ldr	r3, [r3, #16]
 1237              		.loc 1 522 53
 1238 0022 002B     		cmp	r3, #0
 1239 0024 F2DA     		bge	.L74
 523:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 524:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Flush RX Fifo */
 525:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   count = 0U;
 1240              		.loc 1 525 9
 1241 0026 0023     		movs	r3, #0
 1242 0028 FB60     		str	r3, [r7, #12]
 526:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GRSTCTL = USB_OTG_GRSTCTL_RXFFLSH;
 1243              		.loc 1 526 17
 1244 002a 7B68     		ldr	r3, [r7, #4]
 1245 002c 1022     		movs	r2, #16
 1246 002e 1A61     		str	r2, [r3, #16]
 1247              	.L76:
 527:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 32


 528:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   do
 529:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 530:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     count++;
 1248              		.loc 1 530 10
 1249 0030 FB68     		ldr	r3, [r7, #12]
 1250 0032 0133     		adds	r3, r3, #1
 1251 0034 FB60     		str	r3, [r7, #12]
 531:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 532:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (count > 200000U)
 1252              		.loc 1 532 15
 1253 0036 FB68     		ldr	r3, [r7, #12]
 1254              		.loc 1 532 8
 1255 0038 084A     		ldr	r2, .L77
 1256 003a 9342     		cmp	r3, r2
 1257 003c 01D9     		bls	.L75
 533:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 534:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       return HAL_TIMEOUT;
 1258              		.loc 1 534 14
 1259 003e 0323     		movs	r3, #3
 1260 0040 06E0     		b	.L73
 1261              	.L75:
 535:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 536:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   } while ((USBx->GRSTCTL & USB_OTG_GRSTCTL_RXFFLSH) == USB_OTG_GRSTCTL_RXFFLSH);
 1262              		.loc 1 536 17
 1263 0042 7B68     		ldr	r3, [r7, #4]
 1264 0044 1B69     		ldr	r3, [r3, #16]
 1265              		.loc 1 536 27
 1266 0046 03F01003 		and	r3, r3, #16
 1267              		.loc 1 536 54
 1268 004a 102B     		cmp	r3, #16
 1269 004c F0D0     		beq	.L76
 537:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 538:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 1270              		.loc 1 538 10
 1271 004e 0023     		movs	r3, #0
 1272              	.L73:
 539:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 1273              		.loc 1 539 1
 1274 0050 1846     		mov	r0, r3
 1275 0052 1437     		adds	r7, r7, #20
 1276              	.LCFI48:
 1277              		.cfi_def_cfa_offset 4
 1278 0054 BD46     		mov	sp, r7
 1279              	.LCFI49:
 1280              		.cfi_def_cfa_register 13
 1281              		@ sp needed
 1282 0056 5DF8047B 		ldr	r7, [sp], #4
 1283              	.LCFI50:
 1284              		.cfi_restore 7
 1285              		.cfi_def_cfa_offset 0
 1286 005a 7047     		bx	lr
 1287              	.L78:
 1288              		.align	2
 1289              	.L77:
 1290 005c 400D0300 		.word	200000
 1291              		.cfi_endproc
 1292              	.LFE223:
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 33


 1294              		.section	.text.USB_SetDevSpeed,"ax",%progbits
 1295              		.align	1
 1296              		.global	USB_SetDevSpeed
 1297              		.syntax unified
 1298              		.thumb
 1299              		.thumb_func
 1301              	USB_SetDevSpeed:
 1302              	.LFB224:
 540:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 541:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 542:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_SetDevSpeed  Initializes the DevSpd field of DCFG register
 543:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         depending the PHY type and the enumeration speed of the device.
 544:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 545:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  speed  device speed
 546:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
 547:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_HIGH: High speed mode
 548:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_HIGH_IN_FULL: High speed core in Full Speed mode
 549:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_FULL: Full speed mode
 550:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval  Hal status
 551:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 552:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_SetDevSpeed(USB_OTG_GlobalTypeDef *USBx, uint8_t speed)
 553:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 1303              		.loc 1 553 1
 1304              		.cfi_startproc
 1305              		@ args = 0, pretend = 0, frame = 16
 1306              		@ frame_needed = 1, uses_anonymous_args = 0
 1307              		@ link register save eliminated.
 1308 0000 80B4     		push	{r7}
 1309              	.LCFI51:
 1310              		.cfi_def_cfa_offset 4
 1311              		.cfi_offset 7, -4
 1312 0002 85B0     		sub	sp, sp, #20
 1313              	.LCFI52:
 1314              		.cfi_def_cfa_offset 24
 1315 0004 00AF     		add	r7, sp, #0
 1316              	.LCFI53:
 1317              		.cfi_def_cfa_register 7
 1318 0006 7860     		str	r0, [r7, #4]
 1319 0008 0B46     		mov	r3, r1
 1320 000a FB70     		strb	r3, [r7, #3]
 554:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 1321              		.loc 1 554 12
 1322 000c 7B68     		ldr	r3, [r7, #4]
 1323 000e FB60     		str	r3, [r7, #12]
 555:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 556:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DCFG |= speed;
 1324              		.loc 1 556 21
 1325 0010 FB68     		ldr	r3, [r7, #12]
 1326 0012 03F50063 		add	r3, r3, #2048
 1327 0016 1A68     		ldr	r2, [r3]
 1328 0018 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 1329 001a F968     		ldr	r1, [r7, #12]
 1330 001c 01F50061 		add	r1, r1, #2048
 1331 0020 1343     		orrs	r3, r3, r2
 1332 0022 0B60     		str	r3, [r1]
 557:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 1333              		.loc 1 557 10
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 34


 1334 0024 0023     		movs	r3, #0
 558:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 1335              		.loc 1 558 1
 1336 0026 1846     		mov	r0, r3
 1337 0028 1437     		adds	r7, r7, #20
 1338              	.LCFI54:
 1339              		.cfi_def_cfa_offset 4
 1340 002a BD46     		mov	sp, r7
 1341              	.LCFI55:
 1342              		.cfi_def_cfa_register 13
 1343              		@ sp needed
 1344 002c 5DF8047B 		ldr	r7, [sp], #4
 1345              	.LCFI56:
 1346              		.cfi_restore 7
 1347              		.cfi_def_cfa_offset 0
 1348 0030 7047     		bx	lr
 1349              		.cfi_endproc
 1350              	.LFE224:
 1352              		.section	.text.USB_GetDevSpeed,"ax",%progbits
 1353              		.align	1
 1354              		.global	USB_GetDevSpeed
 1355              		.syntax unified
 1356              		.thumb
 1357              		.thumb_func
 1359              	USB_GetDevSpeed:
 1360              	.LFB225:
 559:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 560:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 561:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_GetDevSpeed  Return the Dev Speed
 562:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 563:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval speed  device speed
 564:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
 565:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USBD_HS_SPEED: High speed mode
 566:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USBD_FS_SPEED: Full speed mode
 567:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 568:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint8_t USB_GetDevSpeed(USB_OTG_GlobalTypeDef *USBx)
 569:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 1361              		.loc 1 569 1
 1362              		.cfi_startproc
 1363              		@ args = 0, pretend = 0, frame = 24
 1364              		@ frame_needed = 1, uses_anonymous_args = 0
 1365              		@ link register save eliminated.
 1366 0000 80B4     		push	{r7}
 1367              	.LCFI57:
 1368              		.cfi_def_cfa_offset 4
 1369              		.cfi_offset 7, -4
 1370 0002 87B0     		sub	sp, sp, #28
 1371              	.LCFI58:
 1372              		.cfi_def_cfa_offset 32
 1373 0004 00AF     		add	r7, sp, #0
 1374              	.LCFI59:
 1375              		.cfi_def_cfa_register 7
 1376 0006 7860     		str	r0, [r7, #4]
 570:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 1377              		.loc 1 570 12
 1378 0008 7B68     		ldr	r3, [r7, #4]
 1379 000a 3B61     		str	r3, [r7, #16]
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 35


 571:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint8_t speed;
 572:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t DevEnumSpeed = USBx_DEVICE->DSTS & USB_OTG_DSTS_ENUMSPD;
 1380              		.loc 1 572 27
 1381 000c 3B69     		ldr	r3, [r7, #16]
 1382 000e 03F50063 		add	r3, r3, #2048
 1383              		.loc 1 572 38
 1384 0012 9B68     		ldr	r3, [r3, #8]
 1385              		.loc 1 572 12
 1386 0014 03F00603 		and	r3, r3, #6
 1387 0018 FB60     		str	r3, [r7, #12]
 573:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 574:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (DevEnumSpeed == DSTS_ENUMSPD_HS_PHY_30MHZ_OR_60MHZ)
 1388              		.loc 1 574 6
 1389 001a FB68     		ldr	r3, [r7, #12]
 1390 001c 002B     		cmp	r3, #0
 1391 001e 02D1     		bne	.L82
 575:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 576:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     speed = USBD_HS_SPEED;
 1392              		.loc 1 576 11
 1393 0020 0023     		movs	r3, #0
 1394 0022 FB75     		strb	r3, [r7, #23]
 1395 0024 0AE0     		b	.L83
 1396              	.L82:
 577:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 578:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else if ((DevEnumSpeed == DSTS_ENUMSPD_FS_PHY_30MHZ_OR_60MHZ) ||
 1397              		.loc 1 578 11
 1398 0026 FB68     		ldr	r3, [r7, #12]
 1399 0028 022B     		cmp	r3, #2
 1400 002a 02D0     		beq	.L84
 1401              		.loc 1 578 65 discriminator 1
 1402 002c FB68     		ldr	r3, [r7, #12]
 1403 002e 062B     		cmp	r3, #6
 1404 0030 02D1     		bne	.L85
 1405              	.L84:
 579:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****            (DevEnumSpeed == DSTS_ENUMSPD_FS_PHY_48MHZ))
 580:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 581:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     speed = USBD_FS_SPEED;
 1406              		.loc 1 581 11
 1407 0032 0223     		movs	r3, #2
 1408 0034 FB75     		strb	r3, [r7, #23]
 1409 0036 01E0     		b	.L83
 1410              	.L85:
 582:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 583:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 584:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 585:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     speed = 0xFU;
 1411              		.loc 1 585 11
 1412 0038 0F23     		movs	r3, #15
 1413 003a FB75     		strb	r3, [r7, #23]
 1414              	.L83:
 586:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 587:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 588:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return speed;
 1415              		.loc 1 588 10
 1416 003c FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 589:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 1417              		.loc 1 589 1
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 36


 1418 003e 1846     		mov	r0, r3
 1419 0040 1C37     		adds	r7, r7, #28
 1420              	.LCFI60:
 1421              		.cfi_def_cfa_offset 4
 1422 0042 BD46     		mov	sp, r7
 1423              	.LCFI61:
 1424              		.cfi_def_cfa_register 13
 1425              		@ sp needed
 1426 0044 5DF8047B 		ldr	r7, [sp], #4
 1427              	.LCFI62:
 1428              		.cfi_restore 7
 1429              		.cfi_def_cfa_offset 0
 1430 0048 7047     		bx	lr
 1431              		.cfi_endproc
 1432              	.LFE225:
 1434              		.section	.text.USB_ActivateEndpoint,"ax",%progbits
 1435              		.align	1
 1436              		.global	USB_ActivateEndpoint
 1437              		.syntax unified
 1438              		.thumb
 1439              		.thumb_func
 1441              	USB_ActivateEndpoint:
 1442              	.LFB226:
 590:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 591:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 592:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Activate and configure an endpoint
 593:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 594:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 595:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 596:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 597:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_ActivateEndpoint(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep)
 598:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 1443              		.loc 1 598 1
 1444              		.cfi_startproc
 1445              		@ args = 0, pretend = 0, frame = 16
 1446              		@ frame_needed = 1, uses_anonymous_args = 0
 1447              		@ link register save eliminated.
 1448 0000 80B4     		push	{r7}
 1449              	.LCFI63:
 1450              		.cfi_def_cfa_offset 4
 1451              		.cfi_offset 7, -4
 1452 0002 85B0     		sub	sp, sp, #20
 1453              	.LCFI64:
 1454              		.cfi_def_cfa_offset 24
 1455 0004 00AF     		add	r7, sp, #0
 1456              	.LCFI65:
 1457              		.cfi_def_cfa_register 7
 1458 0006 7860     		str	r0, [r7, #4]
 1459 0008 3960     		str	r1, [r7]
 599:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 1460              		.loc 1 599 12
 1461 000a 7B68     		ldr	r3, [r7, #4]
 1462 000c FB60     		str	r3, [r7, #12]
 600:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
 1463              		.loc 1 600 32
 1464 000e 3B68     		ldr	r3, [r7]
 1465 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 37


 1466              		.loc 1 600 12
 1467 0012 BB60     		str	r3, [r7, #8]
 601:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 602:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 1468              		.loc 1 602 9
 1469 0014 3B68     		ldr	r3, [r7]
 1470 0016 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 1471              		.loc 1 602 6
 1472 0018 012B     		cmp	r3, #1
 1473 001a 3AD1     		bne	.L88
 603:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 604:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DAINTMSK |= USB_OTG_DAINTMSK_IEPM & (uint32_t)(1UL << (ep->num & EP_ADDR_MSK));
 1474              		.loc 1 604 27
 1475 001c FB68     		ldr	r3, [r7, #12]
 1476 001e 03F50063 		add	r3, r3, #2048
 1477 0022 DA69     		ldr	r2, [r3, #28]
 1478              		.loc 1 604 75
 1479 0024 3B68     		ldr	r3, [r7]
 1480 0026 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1481              		.loc 1 604 81
 1482 0028 03F00F03 		and	r3, r3, #15
 1483              		.loc 1 604 54
 1484 002c 0121     		movs	r1, #1
 1485 002e 01FA03F3 		lsl	r3, r1, r3
 1486              		.loc 1 604 52
 1487 0032 9BB2     		uxth	r3, r3
 1488              		.loc 1 604 27
 1489 0034 F968     		ldr	r1, [r7, #12]
 1490 0036 01F50061 		add	r1, r1, #2048
 1491 003a 1343     		orrs	r3, r3, r2
 1492 003c CB61     		str	r3, [r1, #28]
 605:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 606:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((USBx_INEP(epnum)->DIEPCTL & USB_OTG_DIEPCTL_USBAEP) == 0U)
 1493              		.loc 1 606 10
 1494 003e BB68     		ldr	r3, [r7, #8]
 1495 0040 5A01     		lsls	r2, r3, #5
 1496 0042 FB68     		ldr	r3, [r7, #12]
 1497 0044 1344     		add	r3, r3, r2
 1498 0046 03F51063 		add	r3, r3, #2304
 1499              		.loc 1 606 26
 1500 004a 1B68     		ldr	r3, [r3]
 1501              		.loc 1 606 36
 1502 004c 03F40043 		and	r3, r3, #32768
 1503              		.loc 1 606 8
 1504 0050 002B     		cmp	r3, #0
 1505 0052 55D1     		bne	.L89
 607:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 608:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL |= (ep->maxpacket & USB_OTG_DIEPCTL_MPSIZ) |
 1506              		.loc 1 608 33
 1507 0054 BB68     		ldr	r3, [r7, #8]
 1508 0056 5A01     		lsls	r2, r3, #5
 1509 0058 FB68     		ldr	r3, [r7, #12]
 1510 005a 1344     		add	r3, r3, r2
 1511 005c 03F51063 		add	r3, r3, #2304
 1512 0060 1A68     		ldr	r2, [r3]
 1513              		.loc 1 608 39
 1514 0062 3B68     		ldr	r3, [r7]
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 38


 1515 0064 DB68     		ldr	r3, [r3, #12]
 1516              		.loc 1 608 51
 1517 0066 C3F30A01 		ubfx	r1, r3, #0, #11
 609:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    ((uint32_t)ep->type << 18) | (epnum << 22) |
 1518              		.loc 1 609 49
 1519 006a 3B68     		ldr	r3, [r7]
 1520 006c 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 1521              		.loc 1 609 56
 1522 006e 9B04     		lsls	r3, r3, #18
 608:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    ((uint32_t)ep->type << 18) | (epnum << 22) |
 1523              		.loc 1 608 76
 1524 0070 1943     		orrs	r1, r1, r3
 1525              		.loc 1 609 72
 1526 0072 BB68     		ldr	r3, [r7, #8]
 1527 0074 9B05     		lsls	r3, r3, #22
 1528              		.loc 1 609 63
 1529 0076 0B43     		orrs	r3, r3, r1
 608:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    ((uint32_t)ep->type << 18) | (epnum << 22) |
 1530              		.loc 1 608 33
 1531 0078 1343     		orrs	r3, r3, r2
 1532 007a BA68     		ldr	r2, [r7, #8]
 1533 007c 5101     		lsls	r1, r2, #5
 1534 007e FA68     		ldr	r2, [r7, #12]
 1535 0080 0A44     		add	r2, r2, r1
 1536 0082 02F51062 		add	r2, r2, #2304
 1537 0086 43F08053 		orr	r3, r3, #268435456
 1538 008a 43F40043 		orr	r3, r3, #32768
 1539 008e 1360     		str	r3, [r2]
 1540 0090 36E0     		b	.L89
 1541              	.L88:
 610:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_SD0PID_SEVNFRM |
 611:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_USBAEP;
 612:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 613:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 614:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 615:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 616:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DAINTMSK |= USB_OTG_DAINTMSK_OEPM & ((uint32_t)(1UL << (ep->num & EP_ADDR_MSK)) <<
 1542              		.loc 1 616 27
 1543 0092 FB68     		ldr	r3, [r7, #12]
 1544 0094 03F50063 		add	r3, r3, #2048
 1545 0098 DA69     		ldr	r2, [r3, #28]
 1546              		.loc 1 616 76
 1547 009a 3B68     		ldr	r3, [r7]
 1548 009c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1549              		.loc 1 616 82
 1550 009e 03F00F03 		and	r3, r3, #15
 1551              		.loc 1 616 55
 1552 00a2 0121     		movs	r1, #1
 1553 00a4 01FA03F3 		lsl	r3, r1, r3
 1554              		.loc 1 616 52
 1555 00a8 1B04     		lsls	r3, r3, #16
 1556              		.loc 1 616 27
 1557 00aa F968     		ldr	r1, [r7, #12]
 1558 00ac 01F50061 		add	r1, r1, #2048
 1559 00b0 1343     		orrs	r3, r3, r2
 1560 00b2 CB61     		str	r3, [r1, #28]
 617:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 39


 618:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (((USBx_OUTEP(epnum)->DOEPCTL) & USB_OTG_DOEPCTL_USBAEP) == 0U)
 1561              		.loc 1 618 11
 1562 00b4 BB68     		ldr	r3, [r7, #8]
 1563 00b6 5A01     		lsls	r2, r3, #5
 1564 00b8 FB68     		ldr	r3, [r7, #12]
 1565 00ba 1344     		add	r3, r3, r2
 1566 00bc 03F53063 		add	r3, r3, #2816
 1567              		.loc 1 618 28
 1568 00c0 1B68     		ldr	r3, [r3]
 1569              		.loc 1 618 39
 1570 00c2 03F40043 		and	r3, r3, #32768
 1571              		.loc 1 618 8
 1572 00c6 002B     		cmp	r3, #0
 1573 00c8 1AD1     		bne	.L89
 619:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 620:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPCTL |= (ep->maxpacket & USB_OTG_DOEPCTL_MPSIZ) |
 1574              		.loc 1 620 34
 1575 00ca BB68     		ldr	r3, [r7, #8]
 1576 00cc 5A01     		lsls	r2, r3, #5
 1577 00ce FB68     		ldr	r3, [r7, #12]
 1578 00d0 1344     		add	r3, r3, r2
 1579 00d2 03F53063 		add	r3, r3, #2816
 1580 00d6 1A68     		ldr	r2, [r3]
 1581              		.loc 1 620 40
 1582 00d8 3B68     		ldr	r3, [r7]
 1583 00da DB68     		ldr	r3, [r3, #12]
 1584              		.loc 1 620 52
 1585 00dc C3F30A01 		ubfx	r1, r3, #0, #11
 621:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                     ((uint32_t)ep->type << 18) |
 1586              		.loc 1 621 50
 1587 00e0 3B68     		ldr	r3, [r7]
 1588 00e2 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 1589              		.loc 1 621 57
 1590 00e4 9B04     		lsls	r3, r3, #18
 620:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                     ((uint32_t)ep->type << 18) |
 1591              		.loc 1 620 77
 1592 00e6 0B43     		orrs	r3, r3, r1
 620:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                     ((uint32_t)ep->type << 18) |
 1593              		.loc 1 620 34
 1594 00e8 1343     		orrs	r3, r3, r2
 1595 00ea BA68     		ldr	r2, [r7, #8]
 1596 00ec 5101     		lsls	r1, r2, #5
 1597 00ee FA68     		ldr	r2, [r7, #12]
 1598 00f0 0A44     		add	r2, r2, r1
 1599 00f2 02F53062 		add	r2, r2, #2816
 1600 00f6 43F08053 		orr	r3, r3, #268435456
 1601 00fa 43F40043 		orr	r3, r3, #32768
 1602 00fe 1360     		str	r3, [r2]
 1603              	.L89:
 622:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                     USB_OTG_DIEPCTL_SD0PID_SEVNFRM |
 623:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                     USB_OTG_DOEPCTL_USBAEP;
 624:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 625:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 626:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 1604              		.loc 1 626 10
 1605 0100 0023     		movs	r3, #0
 627:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 40


 1606              		.loc 1 627 1
 1607 0102 1846     		mov	r0, r3
 1608 0104 1437     		adds	r7, r7, #20
 1609              	.LCFI66:
 1610              		.cfi_def_cfa_offset 4
 1611 0106 BD46     		mov	sp, r7
 1612              	.LCFI67:
 1613              		.cfi_def_cfa_register 13
 1614              		@ sp needed
 1615 0108 5DF8047B 		ldr	r7, [sp], #4
 1616              	.LCFI68:
 1617              		.cfi_restore 7
 1618              		.cfi_def_cfa_offset 0
 1619 010c 7047     		bx	lr
 1620              		.cfi_endproc
 1621              	.LFE226:
 1623              		.section	.text.USB_ActivateDedicatedEndpoint,"ax",%progbits
 1624              		.align	1
 1625              		.global	USB_ActivateDedicatedEndpoint
 1626              		.syntax unified
 1627              		.thumb
 1628              		.thumb_func
 1630              	USB_ActivateDedicatedEndpoint:
 1631              	.LFB227:
 628:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 629:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 630:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Activate and configure a dedicated endpoint
 631:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 632:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 633:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 634:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 635:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_ActivateDedicatedEndpoint(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep)
 636:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 1632              		.loc 1 636 1
 1633              		.cfi_startproc
 1634              		@ args = 0, pretend = 0, frame = 16
 1635              		@ frame_needed = 1, uses_anonymous_args = 0
 1636              		@ link register save eliminated.
 1637 0000 80B4     		push	{r7}
 1638              	.LCFI69:
 1639              		.cfi_def_cfa_offset 4
 1640              		.cfi_offset 7, -4
 1641 0002 85B0     		sub	sp, sp, #20
 1642              	.LCFI70:
 1643              		.cfi_def_cfa_offset 24
 1644 0004 00AF     		add	r7, sp, #0
 1645              	.LCFI71:
 1646              		.cfi_def_cfa_register 7
 1647 0006 7860     		str	r0, [r7, #4]
 1648 0008 3960     		str	r1, [r7]
 637:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 1649              		.loc 1 637 12
 1650 000a 7B68     		ldr	r3, [r7, #4]
 1651 000c FB60     		str	r3, [r7, #12]
 638:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
 1652              		.loc 1 638 32
 1653 000e 3B68     		ldr	r3, [r7]
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 41


 1654 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1655              		.loc 1 638 12
 1656 0012 BB60     		str	r3, [r7, #8]
 639:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 640:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Read DEPCTLn register */
 641:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 1657              		.loc 1 641 9
 1658 0014 3B68     		ldr	r3, [r7]
 1659 0016 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 1660              		.loc 1 641 6
 1661 0018 012B     		cmp	r3, #1
 1662 001a 3AD1     		bne	.L92
 642:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 643:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (((USBx_INEP(epnum)->DIEPCTL) & USB_OTG_DIEPCTL_USBAEP) == 0U)
 1663              		.loc 1 643 11
 1664 001c BB68     		ldr	r3, [r7, #8]
 1665 001e 5A01     		lsls	r2, r3, #5
 1666 0020 FB68     		ldr	r3, [r7, #12]
 1667 0022 1344     		add	r3, r3, r2
 1668 0024 03F51063 		add	r3, r3, #2304
 1669              		.loc 1 643 27
 1670 0028 1B68     		ldr	r3, [r3]
 1671              		.loc 1 643 38
 1672 002a 03F40043 		and	r3, r3, #32768
 1673              		.loc 1 643 8
 1674 002e 002B     		cmp	r3, #0
 1675 0030 1DD1     		bne	.L93
 644:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 645:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL |= (ep->maxpacket & USB_OTG_DIEPCTL_MPSIZ) |
 1676              		.loc 1 645 33
 1677 0032 BB68     		ldr	r3, [r7, #8]
 1678 0034 5A01     		lsls	r2, r3, #5
 1679 0036 FB68     		ldr	r3, [r7, #12]
 1680 0038 1344     		add	r3, r3, r2
 1681 003a 03F51063 		add	r3, r3, #2304
 1682 003e 1A68     		ldr	r2, [r3]
 1683              		.loc 1 645 39
 1684 0040 3B68     		ldr	r3, [r7]
 1685 0042 DB68     		ldr	r3, [r3, #12]
 1686              		.loc 1 645 51
 1687 0044 C3F30A01 		ubfx	r1, r3, #0, #11
 646:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    ((uint32_t)ep->type << 18) | (epnum << 22) |
 1688              		.loc 1 646 49
 1689 0048 3B68     		ldr	r3, [r7]
 1690 004a 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 1691              		.loc 1 646 56
 1692 004c 9B04     		lsls	r3, r3, #18
 645:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    ((uint32_t)ep->type << 18) | (epnum << 22) |
 1693              		.loc 1 645 76
 1694 004e 1943     		orrs	r1, r1, r3
 1695              		.loc 1 646 72
 1696 0050 BB68     		ldr	r3, [r7, #8]
 1697 0052 9B05     		lsls	r3, r3, #22
 1698              		.loc 1 646 63
 1699 0054 0B43     		orrs	r3, r3, r1
 645:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    ((uint32_t)ep->type << 18) | (epnum << 22) |
 1700              		.loc 1 645 33
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 42


 1701 0056 1343     		orrs	r3, r3, r2
 1702 0058 BA68     		ldr	r2, [r7, #8]
 1703 005a 5101     		lsls	r1, r2, #5
 1704 005c FA68     		ldr	r2, [r7, #12]
 1705 005e 0A44     		add	r2, r2, r1
 1706 0060 02F51062 		add	r2, r2, #2304
 1707 0064 43F08053 		orr	r3, r3, #268435456
 1708 0068 43F40043 		orr	r3, r3, #32768
 1709 006c 1360     		str	r3, [r2]
 1710              	.L93:
 647:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_SD0PID_SEVNFRM |
 648:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_USBAEP;
 649:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 650:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 651:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DEACHMSK |= USB_OTG_DAINTMSK_IEPM & (uint32_t)(1UL << (ep->num & EP_ADDR_MSK));
 1711              		.loc 1 651 27
 1712 006e FB68     		ldr	r3, [r7, #12]
 1713 0070 03F50063 		add	r3, r3, #2048
 1714 0074 DA6B     		ldr	r2, [r3, #60]
 1715              		.loc 1 651 75
 1716 0076 3B68     		ldr	r3, [r7]
 1717 0078 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1718              		.loc 1 651 81
 1719 007a 03F00F03 		and	r3, r3, #15
 1720              		.loc 1 651 54
 1721 007e 0121     		movs	r1, #1
 1722 0080 01FA03F3 		lsl	r3, r1, r3
 1723              		.loc 1 651 52
 1724 0084 9BB2     		uxth	r3, r3
 1725              		.loc 1 651 27
 1726 0086 F968     		ldr	r1, [r7, #12]
 1727 0088 01F50061 		add	r1, r1, #2048
 1728 008c 1343     		orrs	r3, r3, r2
 1729 008e CB63     		str	r3, [r1, #60]
 1730 0090 37E0     		b	.L94
 1731              	.L92:
 652:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 653:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 654:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 655:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (((USBx_OUTEP(epnum)->DOEPCTL) & USB_OTG_DOEPCTL_USBAEP) == 0U)
 1732              		.loc 1 655 11
 1733 0092 BB68     		ldr	r3, [r7, #8]
 1734 0094 5A01     		lsls	r2, r3, #5
 1735 0096 FB68     		ldr	r3, [r7, #12]
 1736 0098 1344     		add	r3, r3, r2
 1737 009a 03F53063 		add	r3, r3, #2816
 1738              		.loc 1 655 28
 1739 009e 1B68     		ldr	r3, [r3]
 1740              		.loc 1 655 39
 1741 00a0 03F40043 		and	r3, r3, #32768
 1742              		.loc 1 655 8
 1743 00a4 002B     		cmp	r3, #0
 1744 00a6 1BD1     		bne	.L95
 656:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 657:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPCTL |= (ep->maxpacket & USB_OTG_DOEPCTL_MPSIZ) |
 1745              		.loc 1 657 34
 1746 00a8 BB68     		ldr	r3, [r7, #8]
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 43


 1747 00aa 5A01     		lsls	r2, r3, #5
 1748 00ac FB68     		ldr	r3, [r7, #12]
 1749 00ae 1344     		add	r3, r3, r2
 1750 00b0 03F53063 		add	r3, r3, #2816
 1751 00b4 1A68     		ldr	r2, [r3]
 1752              		.loc 1 657 40
 1753 00b6 3B68     		ldr	r3, [r7]
 1754 00b8 DB68     		ldr	r3, [r3, #12]
 1755              		.loc 1 657 52
 1756 00ba C3F30A01 		ubfx	r1, r3, #0, #11
 658:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                     ((uint32_t)ep->type << 18) | (epnum << 22) |
 1757              		.loc 1 658 50
 1758 00be 3B68     		ldr	r3, [r7]
 1759 00c0 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 1760              		.loc 1 658 57
 1761 00c2 9B04     		lsls	r3, r3, #18
 657:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                     ((uint32_t)ep->type << 18) | (epnum << 22) |
 1762              		.loc 1 657 77
 1763 00c4 1943     		orrs	r1, r1, r3
 1764              		.loc 1 658 73
 1765 00c6 BB68     		ldr	r3, [r7, #8]
 1766 00c8 9B05     		lsls	r3, r3, #22
 1767              		.loc 1 658 64
 1768 00ca 0B43     		orrs	r3, r3, r1
 657:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                     ((uint32_t)ep->type << 18) | (epnum << 22) |
 1769              		.loc 1 657 34
 1770 00cc 1343     		orrs	r3, r3, r2
 1771 00ce BA68     		ldr	r2, [r7, #8]
 1772 00d0 5101     		lsls	r1, r2, #5
 1773 00d2 FA68     		ldr	r2, [r7, #12]
 1774 00d4 0A44     		add	r2, r2, r1
 1775 00d6 02F53062 		add	r2, r2, #2816
 1776 00da 43F40043 		orr	r3, r3, #32768
 1777 00de 1360     		str	r3, [r2]
 1778              	.L95:
 659:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                     USB_OTG_DOEPCTL_USBAEP;
 660:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 661:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 662:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DEACHMSK |= USB_OTG_DAINTMSK_OEPM & ((uint32_t)(1UL << (ep->num & EP_ADDR_MSK)) <<
 1779              		.loc 1 662 27
 1780 00e0 FB68     		ldr	r3, [r7, #12]
 1781 00e2 03F50063 		add	r3, r3, #2048
 1782 00e6 DA6B     		ldr	r2, [r3, #60]
 1783              		.loc 1 662 76
 1784 00e8 3B68     		ldr	r3, [r7]
 1785 00ea 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1786              		.loc 1 662 82
 1787 00ec 03F00F03 		and	r3, r3, #15
 1788              		.loc 1 662 55
 1789 00f0 0121     		movs	r1, #1
 1790 00f2 01FA03F3 		lsl	r3, r1, r3
 1791              		.loc 1 662 52
 1792 00f6 1B04     		lsls	r3, r3, #16
 1793              		.loc 1 662 27
 1794 00f8 F968     		ldr	r1, [r7, #12]
 1795 00fa 01F50061 		add	r1, r1, #2048
 1796 00fe 1343     		orrs	r3, r3, r2
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 44


 1797 0100 CB63     		str	r3, [r1, #60]
 1798              	.L94:
 663:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 664:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 665:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 1799              		.loc 1 665 10
 1800 0102 0023     		movs	r3, #0
 666:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 1801              		.loc 1 666 1
 1802 0104 1846     		mov	r0, r3
 1803 0106 1437     		adds	r7, r7, #20
 1804              	.LCFI72:
 1805              		.cfi_def_cfa_offset 4
 1806 0108 BD46     		mov	sp, r7
 1807              	.LCFI73:
 1808              		.cfi_def_cfa_register 13
 1809              		@ sp needed
 1810 010a 5DF8047B 		ldr	r7, [sp], #4
 1811              	.LCFI74:
 1812              		.cfi_restore 7
 1813              		.cfi_def_cfa_offset 0
 1814 010e 7047     		bx	lr
 1815              		.cfi_endproc
 1816              	.LFE227:
 1818              		.section	.text.USB_DeactivateEndpoint,"ax",%progbits
 1819              		.align	1
 1820              		.global	USB_DeactivateEndpoint
 1821              		.syntax unified
 1822              		.thumb
 1823              		.thumb_func
 1825              	USB_DeactivateEndpoint:
 1826              	.LFB228:
 667:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 668:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 669:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  De-activate and de-initialize an endpoint
 670:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 671:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 672:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 673:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 674:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_DeactivateEndpoint(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep)
 675:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 1827              		.loc 1 675 1
 1828              		.cfi_startproc
 1829              		@ args = 0, pretend = 0, frame = 16
 1830              		@ frame_needed = 1, uses_anonymous_args = 0
 1831              		@ link register save eliminated.
 1832 0000 80B4     		push	{r7}
 1833              	.LCFI75:
 1834              		.cfi_def_cfa_offset 4
 1835              		.cfi_offset 7, -4
 1836 0002 85B0     		sub	sp, sp, #20
 1837              	.LCFI76:
 1838              		.cfi_def_cfa_offset 24
 1839 0004 00AF     		add	r7, sp, #0
 1840              	.LCFI77:
 1841              		.cfi_def_cfa_register 7
 1842 0006 7860     		str	r0, [r7, #4]
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 45


 1843 0008 3960     		str	r1, [r7]
 676:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 1844              		.loc 1 676 12
 1845 000a 7B68     		ldr	r3, [r7, #4]
 1846 000c FB60     		str	r3, [r7, #12]
 677:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
 1847              		.loc 1 677 32
 1848 000e 3B68     		ldr	r3, [r7]
 1849 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1850              		.loc 1 677 12
 1851 0012 BB60     		str	r3, [r7, #8]
 678:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 679:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Read DEPCTLn register */
 680:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 1852              		.loc 1 680 9
 1853 0014 3B68     		ldr	r3, [r7]
 1854 0016 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 1855              		.loc 1 680 6
 1856 0018 012B     		cmp	r3, #1
 1857 001a 61D1     		bne	.L98
 681:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 682:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((USBx_INEP(epnum)->DIEPCTL & USB_OTG_DIEPCTL_EPENA) == USB_OTG_DIEPCTL_EPENA)
 1858              		.loc 1 682 10
 1859 001c BB68     		ldr	r3, [r7, #8]
 1860 001e 5A01     		lsls	r2, r3, #5
 1861 0020 FB68     		ldr	r3, [r7, #12]
 1862 0022 1344     		add	r3, r3, r2
 1863 0024 03F51063 		add	r3, r3, #2304
 1864              		.loc 1 682 26
 1865 0028 1B68     		ldr	r3, [r3]
 1866              		.loc 1 682 36
 1867 002a 03F00043 		and	r3, r3, #-2147483648
 1868              		.loc 1 682 8
 1869 002e B3F1004F 		cmp	r3, #-2147483648
 1870 0032 1FD1     		bne	.L99
 683:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 684:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL |= USB_OTG_DIEPCTL_SNAK;
 1871              		.loc 1 684 33
 1872 0034 BB68     		ldr	r3, [r7, #8]
 1873 0036 5A01     		lsls	r2, r3, #5
 1874 0038 FB68     		ldr	r3, [r7, #12]
 1875 003a 1344     		add	r3, r3, r2
 1876 003c 03F51063 		add	r3, r3, #2304
 1877 0040 1B68     		ldr	r3, [r3]
 1878 0042 BA68     		ldr	r2, [r7, #8]
 1879 0044 5101     		lsls	r1, r2, #5
 1880 0046 FA68     		ldr	r2, [r7, #12]
 1881 0048 0A44     		add	r2, r2, r1
 1882 004a 02F51062 		add	r2, r2, #2304
 1883 004e 43F00063 		orr	r3, r3, #134217728
 1884 0052 1360     		str	r3, [r2]
 685:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL |= USB_OTG_DIEPCTL_EPDIS;
 1885              		.loc 1 685 33
 1886 0054 BB68     		ldr	r3, [r7, #8]
 1887 0056 5A01     		lsls	r2, r3, #5
 1888 0058 FB68     		ldr	r3, [r7, #12]
 1889 005a 1344     		add	r3, r3, r2
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 46


 1890 005c 03F51063 		add	r3, r3, #2304
 1891 0060 1B68     		ldr	r3, [r3]
 1892 0062 BA68     		ldr	r2, [r7, #8]
 1893 0064 5101     		lsls	r1, r2, #5
 1894 0066 FA68     		ldr	r2, [r7, #12]
 1895 0068 0A44     		add	r2, r2, r1
 1896 006a 02F51062 		add	r2, r2, #2304
 1897 006e 43F08043 		orr	r3, r3, #1073741824
 1898 0072 1360     		str	r3, [r2]
 1899              	.L99:
 686:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 687:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 688:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DEACHMSK &= ~(USB_OTG_DAINTMSK_IEPM & (uint32_t)(1UL << (ep->num & EP_ADDR_MSK)));
 1900              		.loc 1 688 27
 1901 0074 FB68     		ldr	r3, [r7, #12]
 1902 0076 03F50063 		add	r3, r3, #2048
 1903 007a DA6B     		ldr	r2, [r3, #60]
 1904              		.loc 1 688 77
 1905 007c 3B68     		ldr	r3, [r7]
 1906 007e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1907              		.loc 1 688 83
 1908 0080 03F00F03 		and	r3, r3, #15
 1909              		.loc 1 688 56
 1910 0084 0121     		movs	r1, #1
 1911 0086 01FA03F3 		lsl	r3, r1, r3
 1912              		.loc 1 688 54
 1913 008a 9BB2     		uxth	r3, r3
 1914              		.loc 1 688 30
 1915 008c DB43     		mvns	r3, r3
 1916              		.loc 1 688 27
 1917 008e F968     		ldr	r1, [r7, #12]
 1918 0090 01F50061 		add	r1, r1, #2048
 1919 0094 1340     		ands	r3, r3, r2
 1920 0096 CB63     		str	r3, [r1, #60]
 689:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DAINTMSK &= ~(USB_OTG_DAINTMSK_IEPM & (uint32_t)(1UL << (ep->num & EP_ADDR_MSK)));
 1921              		.loc 1 689 27
 1922 0098 FB68     		ldr	r3, [r7, #12]
 1923 009a 03F50063 		add	r3, r3, #2048
 1924 009e DA69     		ldr	r2, [r3, #28]
 1925              		.loc 1 689 77
 1926 00a0 3B68     		ldr	r3, [r7]
 1927 00a2 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1928              		.loc 1 689 83
 1929 00a4 03F00F03 		and	r3, r3, #15
 1930              		.loc 1 689 56
 1931 00a8 0121     		movs	r1, #1
 1932 00aa 01FA03F3 		lsl	r3, r1, r3
 1933              		.loc 1 689 54
 1934 00ae 9BB2     		uxth	r3, r3
 1935              		.loc 1 689 30
 1936 00b0 DB43     		mvns	r3, r3
 1937              		.loc 1 689 27
 1938 00b2 F968     		ldr	r1, [r7, #12]
 1939 00b4 01F50061 		add	r1, r1, #2048
 1940 00b8 1340     		ands	r3, r3, r2
 1941 00ba CB61     		str	r3, [r1, #28]
 690:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(epnum)->DIEPCTL &= ~(USB_OTG_DIEPCTL_USBAEP |
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 47


 1942              		.loc 1 690 31
 1943 00bc BB68     		ldr	r3, [r7, #8]
 1944 00be 5A01     		lsls	r2, r3, #5
 1945 00c0 FB68     		ldr	r3, [r7, #12]
 1946 00c2 1344     		add	r3, r3, r2
 1947 00c4 03F51063 		add	r3, r3, #2304
 1948 00c8 1A68     		ldr	r2, [r3]
 1949 00ca BB68     		ldr	r3, [r7, #8]
 1950 00cc 5901     		lsls	r1, r3, #5
 1951 00ce FB68     		ldr	r3, [r7, #12]
 1952 00d0 0B44     		add	r3, r3, r1
 1953 00d2 03F51063 		add	r3, r3, #2304
 1954 00d6 1946     		mov	r1, r3
 1955 00d8 354B     		ldr	r3, .L103
 1956 00da 1340     		ands	r3, r3, r2
 1957 00dc 0B60     		str	r3, [r1]
 1958 00de 60E0     		b	.L100
 1959              	.L98:
 691:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_MPSIZ |
 692:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_TXFNUM |
 693:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_SD0PID_SEVNFRM |
 694:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_EPTYP);
 695:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 696:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 697:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 698:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((USBx_OUTEP(epnum)->DOEPCTL & USB_OTG_DOEPCTL_EPENA) == USB_OTG_DOEPCTL_EPENA)
 1960              		.loc 1 698 10
 1961 00e0 BB68     		ldr	r3, [r7, #8]
 1962 00e2 5A01     		lsls	r2, r3, #5
 1963 00e4 FB68     		ldr	r3, [r7, #12]
 1964 00e6 1344     		add	r3, r3, r2
 1965 00e8 03F53063 		add	r3, r3, #2816
 1966              		.loc 1 698 27
 1967 00ec 1B68     		ldr	r3, [r3]
 1968              		.loc 1 698 37
 1969 00ee 03F00043 		and	r3, r3, #-2147483648
 1970              		.loc 1 698 8
 1971 00f2 B3F1004F 		cmp	r3, #-2147483648
 1972 00f6 1FD1     		bne	.L101
 699:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 700:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPCTL |= USB_OTG_DOEPCTL_SNAK;
 1973              		.loc 1 700 34
 1974 00f8 BB68     		ldr	r3, [r7, #8]
 1975 00fa 5A01     		lsls	r2, r3, #5
 1976 00fc FB68     		ldr	r3, [r7, #12]
 1977 00fe 1344     		add	r3, r3, r2
 1978 0100 03F53063 		add	r3, r3, #2816
 1979 0104 1B68     		ldr	r3, [r3]
 1980 0106 BA68     		ldr	r2, [r7, #8]
 1981 0108 5101     		lsls	r1, r2, #5
 1982 010a FA68     		ldr	r2, [r7, #12]
 1983 010c 0A44     		add	r2, r2, r1
 1984 010e 02F53062 		add	r2, r2, #2816
 1985 0112 43F00063 		orr	r3, r3, #134217728
 1986 0116 1360     		str	r3, [r2]
 701:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPCTL |= USB_OTG_DOEPCTL_EPDIS;
 1987              		.loc 1 701 34
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 48


 1988 0118 BB68     		ldr	r3, [r7, #8]
 1989 011a 5A01     		lsls	r2, r3, #5
 1990 011c FB68     		ldr	r3, [r7, #12]
 1991 011e 1344     		add	r3, r3, r2
 1992 0120 03F53063 		add	r3, r3, #2816
 1993 0124 1B68     		ldr	r3, [r3]
 1994 0126 BA68     		ldr	r2, [r7, #8]
 1995 0128 5101     		lsls	r1, r2, #5
 1996 012a FA68     		ldr	r2, [r7, #12]
 1997 012c 0A44     		add	r2, r2, r1
 1998 012e 02F53062 		add	r2, r2, #2816
 1999 0132 43F08043 		orr	r3, r3, #1073741824
 2000 0136 1360     		str	r3, [r2]
 2001              	.L101:
 702:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 703:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 704:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DEACHMSK &= ~(USB_OTG_DAINTMSK_OEPM & ((uint32_t)(1UL << (ep->num & EP_ADDR_MSK)) 
 2002              		.loc 1 704 27
 2003 0138 FB68     		ldr	r3, [r7, #12]
 2004 013a 03F50063 		add	r3, r3, #2048
 2005 013e DA6B     		ldr	r2, [r3, #60]
 2006              		.loc 1 704 78
 2007 0140 3B68     		ldr	r3, [r7]
 2008 0142 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2009              		.loc 1 704 84
 2010 0144 03F00F03 		and	r3, r3, #15
 2011              		.loc 1 704 57
 2012 0148 0121     		movs	r1, #1
 2013 014a 01FA03F3 		lsl	r3, r1, r3
 2014              		.loc 1 704 54
 2015 014e 1B04     		lsls	r3, r3, #16
 2016              		.loc 1 704 30
 2017 0150 DB43     		mvns	r3, r3
 2018              		.loc 1 704 27
 2019 0152 F968     		ldr	r1, [r7, #12]
 2020 0154 01F50061 		add	r1, r1, #2048
 2021 0158 1340     		ands	r3, r3, r2
 2022 015a CB63     		str	r3, [r1, #60]
 705:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DAINTMSK &= ~(USB_OTG_DAINTMSK_OEPM & ((uint32_t)(1UL << (ep->num & EP_ADDR_MSK)) 
 2023              		.loc 1 705 27
 2024 015c FB68     		ldr	r3, [r7, #12]
 2025 015e 03F50063 		add	r3, r3, #2048
 2026 0162 DA69     		ldr	r2, [r3, #28]
 2027              		.loc 1 705 78
 2028 0164 3B68     		ldr	r3, [r7]
 2029 0166 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2030              		.loc 1 705 84
 2031 0168 03F00F03 		and	r3, r3, #15
 2032              		.loc 1 705 57
 2033 016c 0121     		movs	r1, #1
 2034 016e 01FA03F3 		lsl	r3, r1, r3
 2035              		.loc 1 705 54
 2036 0172 1B04     		lsls	r3, r3, #16
 2037              		.loc 1 705 30
 2038 0174 DB43     		mvns	r3, r3
 2039              		.loc 1 705 27
 2040 0176 F968     		ldr	r1, [r7, #12]
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 49


 2041 0178 01F50061 		add	r1, r1, #2048
 2042 017c 1340     		ands	r3, r3, r2
 2043 017e CB61     		str	r3, [r1, #28]
 706:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPCTL &= ~(USB_OTG_DOEPCTL_USBAEP |
 2044              		.loc 1 706 32
 2045 0180 BB68     		ldr	r3, [r7, #8]
 2046 0182 5A01     		lsls	r2, r3, #5
 2047 0184 FB68     		ldr	r3, [r7, #12]
 2048 0186 1344     		add	r3, r3, r2
 2049 0188 03F53063 		add	r3, r3, #2816
 2050 018c 1A68     		ldr	r2, [r3]
 2051 018e BB68     		ldr	r3, [r7, #8]
 2052 0190 5901     		lsls	r1, r3, #5
 2053 0192 FB68     		ldr	r3, [r7, #12]
 2054 0194 0B44     		add	r3, r3, r1
 2055 0196 03F53063 		add	r3, r3, #2816
 2056 019a 1946     		mov	r1, r3
 2057 019c 054B     		ldr	r3, .L103+4
 2058 019e 1340     		ands	r3, r3, r2
 2059 01a0 0B60     		str	r3, [r1]
 2060              	.L100:
 707:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                     USB_OTG_DOEPCTL_MPSIZ |
 708:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                     USB_OTG_DOEPCTL_SD0PID_SEVNFRM |
 709:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                     USB_OTG_DOEPCTL_EPTYP);
 710:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 711:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 712:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 2061              		.loc 1 712 10
 2062 01a2 0023     		movs	r3, #0
 713:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 2063              		.loc 1 713 1
 2064 01a4 1846     		mov	r0, r3
 2065 01a6 1437     		adds	r7, r7, #20
 2066              	.LCFI78:
 2067              		.cfi_def_cfa_offset 4
 2068 01a8 BD46     		mov	sp, r7
 2069              	.LCFI79:
 2070              		.cfi_def_cfa_register 13
 2071              		@ sp needed
 2072 01aa 5DF8047B 		ldr	r7, [sp], #4
 2073              	.LCFI80:
 2074              		.cfi_restore 7
 2075              		.cfi_def_cfa_offset 0
 2076 01ae 7047     		bx	lr
 2077              	.L104:
 2078              		.align	2
 2079              	.L103:
 2080 01b0 007833EC 		.word	-332171264
 2081 01b4 0078F3EF 		.word	-269256704
 2082              		.cfi_endproc
 2083              	.LFE228:
 2085              		.section	.text.USB_DeactivateDedicatedEndpoint,"ax",%progbits
 2086              		.align	1
 2087              		.global	USB_DeactivateDedicatedEndpoint
 2088              		.syntax unified
 2089              		.thumb
 2090              		.thumb_func
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 50


 2092              	USB_DeactivateDedicatedEndpoint:
 2093              	.LFB229:
 714:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 715:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 716:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  De-activate and de-initialize a dedicated endpoint
 717:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 718:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 719:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 720:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 721:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_DeactivateDedicatedEndpoint(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *e
 722:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 2094              		.loc 1 722 1
 2095              		.cfi_startproc
 2096              		@ args = 0, pretend = 0, frame = 16
 2097              		@ frame_needed = 1, uses_anonymous_args = 0
 2098              		@ link register save eliminated.
 2099 0000 80B4     		push	{r7}
 2100              	.LCFI81:
 2101              		.cfi_def_cfa_offset 4
 2102              		.cfi_offset 7, -4
 2103 0002 85B0     		sub	sp, sp, #20
 2104              	.LCFI82:
 2105              		.cfi_def_cfa_offset 24
 2106 0004 00AF     		add	r7, sp, #0
 2107              	.LCFI83:
 2108              		.cfi_def_cfa_register 7
 2109 0006 7860     		str	r0, [r7, #4]
 2110 0008 3960     		str	r1, [r7]
 723:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 2111              		.loc 1 723 12
 2112 000a 7B68     		ldr	r3, [r7, #4]
 2113 000c FB60     		str	r3, [r7, #12]
 724:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
 2114              		.loc 1 724 32
 2115 000e 3B68     		ldr	r3, [r7]
 2116 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2117              		.loc 1 724 12
 2118 0012 BB60     		str	r3, [r7, #8]
 725:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 726:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Read DEPCTLn register */
 727:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 2119              		.loc 1 727 9
 2120 0014 3B68     		ldr	r3, [r7]
 2121 0016 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 2122              		.loc 1 727 6
 2123 0018 012B     		cmp	r3, #1
 2124 001a 4ED1     		bne	.L106
 728:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 729:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((USBx_INEP(epnum)->DIEPCTL & USB_OTG_DIEPCTL_EPENA) == USB_OTG_DIEPCTL_EPENA)
 2125              		.loc 1 729 10
 2126 001c BB68     		ldr	r3, [r7, #8]
 2127 001e 5A01     		lsls	r2, r3, #5
 2128 0020 FB68     		ldr	r3, [r7, #12]
 2129 0022 1344     		add	r3, r3, r2
 2130 0024 03F51063 		add	r3, r3, #2304
 2131              		.loc 1 729 26
 2132 0028 1B68     		ldr	r3, [r3]
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 51


 2133              		.loc 1 729 36
 2134 002a 03F00043 		and	r3, r3, #-2147483648
 2135              		.loc 1 729 8
 2136 002e B3F1004F 		cmp	r3, #-2147483648
 2137 0032 1FD1     		bne	.L107
 730:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 731:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL  |= USB_OTG_DIEPCTL_SNAK;
 2138              		.loc 1 731 34
 2139 0034 BB68     		ldr	r3, [r7, #8]
 2140 0036 5A01     		lsls	r2, r3, #5
 2141 0038 FB68     		ldr	r3, [r7, #12]
 2142 003a 1344     		add	r3, r3, r2
 2143 003c 03F51063 		add	r3, r3, #2304
 2144 0040 1B68     		ldr	r3, [r3]
 2145 0042 BA68     		ldr	r2, [r7, #8]
 2146 0044 5101     		lsls	r1, r2, #5
 2147 0046 FA68     		ldr	r2, [r7, #12]
 2148 0048 0A44     		add	r2, r2, r1
 2149 004a 02F51062 		add	r2, r2, #2304
 2150 004e 43F00063 		orr	r3, r3, #134217728
 2151 0052 1360     		str	r3, [r2]
 732:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL  |= USB_OTG_DIEPCTL_EPDIS;
 2152              		.loc 1 732 34
 2153 0054 BB68     		ldr	r3, [r7, #8]
 2154 0056 5A01     		lsls	r2, r3, #5
 2155 0058 FB68     		ldr	r3, [r7, #12]
 2156 005a 1344     		add	r3, r3, r2
 2157 005c 03F51063 		add	r3, r3, #2304
 2158 0060 1B68     		ldr	r3, [r3]
 2159 0062 BA68     		ldr	r2, [r7, #8]
 2160 0064 5101     		lsls	r1, r2, #5
 2161 0066 FA68     		ldr	r2, [r7, #12]
 2162 0068 0A44     		add	r2, r2, r1
 2163 006a 02F51062 		add	r2, r2, #2304
 2164 006e 43F08043 		orr	r3, r3, #1073741824
 2165 0072 1360     		str	r3, [r2]
 2166              	.L107:
 733:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 734:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 735:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(epnum)->DIEPCTL &= ~ USB_OTG_DIEPCTL_USBAEP;
 2167              		.loc 1 735 31
 2168 0074 BB68     		ldr	r3, [r7, #8]
 2169 0076 5A01     		lsls	r2, r3, #5
 2170 0078 FB68     		ldr	r3, [r7, #12]
 2171 007a 1344     		add	r3, r3, r2
 2172 007c 03F51063 		add	r3, r3, #2304
 2173 0080 1B68     		ldr	r3, [r3]
 2174 0082 BA68     		ldr	r2, [r7, #8]
 2175 0084 5101     		lsls	r1, r2, #5
 2176 0086 FA68     		ldr	r2, [r7, #12]
 2177 0088 0A44     		add	r2, r2, r1
 2178 008a 02F51062 		add	r2, r2, #2304
 2179 008e 23F40043 		bic	r3, r3, #32768
 2180 0092 1360     		str	r3, [r2]
 736:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DAINTMSK &= ~(USB_OTG_DAINTMSK_IEPM & (uint32_t)(1UL << (ep->num & EP_ADDR_MSK)));
 2181              		.loc 1 736 27
 2182 0094 FB68     		ldr	r3, [r7, #12]
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 52


 2183 0096 03F50063 		add	r3, r3, #2048
 2184 009a DA69     		ldr	r2, [r3, #28]
 2185              		.loc 1 736 77
 2186 009c 3B68     		ldr	r3, [r7]
 2187 009e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2188              		.loc 1 736 83
 2189 00a0 03F00F03 		and	r3, r3, #15
 2190              		.loc 1 736 56
 2191 00a4 0121     		movs	r1, #1
 2192 00a6 01FA03F3 		lsl	r3, r1, r3
 2193              		.loc 1 736 54
 2194 00aa 9BB2     		uxth	r3, r3
 2195              		.loc 1 736 30
 2196 00ac DB43     		mvns	r3, r3
 2197              		.loc 1 736 27
 2198 00ae F968     		ldr	r1, [r7, #12]
 2199 00b0 01F50061 		add	r1, r1, #2048
 2200 00b4 1340     		ands	r3, r3, r2
 2201 00b6 CB61     		str	r3, [r1, #28]
 2202 00b8 4DE0     		b	.L108
 2203              	.L106:
 737:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 738:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 739:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 740:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((USBx_OUTEP(epnum)->DOEPCTL & USB_OTG_DOEPCTL_EPENA) == USB_OTG_DOEPCTL_EPENA)
 2204              		.loc 1 740 10
 2205 00ba BB68     		ldr	r3, [r7, #8]
 2206 00bc 5A01     		lsls	r2, r3, #5
 2207 00be FB68     		ldr	r3, [r7, #12]
 2208 00c0 1344     		add	r3, r3, r2
 2209 00c2 03F53063 		add	r3, r3, #2816
 2210              		.loc 1 740 27
 2211 00c6 1B68     		ldr	r3, [r3]
 2212              		.loc 1 740 37
 2213 00c8 03F00043 		and	r3, r3, #-2147483648
 2214              		.loc 1 740 8
 2215 00cc B3F1004F 		cmp	r3, #-2147483648
 2216 00d0 1FD1     		bne	.L109
 741:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 742:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPCTL  |= USB_OTG_DOEPCTL_SNAK;
 2217              		.loc 1 742 35
 2218 00d2 BB68     		ldr	r3, [r7, #8]
 2219 00d4 5A01     		lsls	r2, r3, #5
 2220 00d6 FB68     		ldr	r3, [r7, #12]
 2221 00d8 1344     		add	r3, r3, r2
 2222 00da 03F53063 		add	r3, r3, #2816
 2223 00de 1B68     		ldr	r3, [r3]
 2224 00e0 BA68     		ldr	r2, [r7, #8]
 2225 00e2 5101     		lsls	r1, r2, #5
 2226 00e4 FA68     		ldr	r2, [r7, #12]
 2227 00e6 0A44     		add	r2, r2, r1
 2228 00e8 02F53062 		add	r2, r2, #2816
 2229 00ec 43F00063 		orr	r3, r3, #134217728
 2230 00f0 1360     		str	r3, [r2]
 743:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPCTL  |= USB_OTG_DOEPCTL_EPDIS;
 2231              		.loc 1 743 35
 2232 00f2 BB68     		ldr	r3, [r7, #8]
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 53


 2233 00f4 5A01     		lsls	r2, r3, #5
 2234 00f6 FB68     		ldr	r3, [r7, #12]
 2235 00f8 1344     		add	r3, r3, r2
 2236 00fa 03F53063 		add	r3, r3, #2816
 2237 00fe 1B68     		ldr	r3, [r3]
 2238 0100 BA68     		ldr	r2, [r7, #8]
 2239 0102 5101     		lsls	r1, r2, #5
 2240 0104 FA68     		ldr	r2, [r7, #12]
 2241 0106 0A44     		add	r2, r2, r1
 2242 0108 02F53062 		add	r2, r2, #2816
 2243 010c 43F08043 		orr	r3, r3, #1073741824
 2244 0110 1360     		str	r3, [r2]
 2245              	.L109:
 744:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 745:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 746:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPCTL &= ~USB_OTG_DOEPCTL_USBAEP;
 2246              		.loc 1 746 32
 2247 0112 BB68     		ldr	r3, [r7, #8]
 2248 0114 5A01     		lsls	r2, r3, #5
 2249 0116 FB68     		ldr	r3, [r7, #12]
 2250 0118 1344     		add	r3, r3, r2
 2251 011a 03F53063 		add	r3, r3, #2816
 2252 011e 1B68     		ldr	r3, [r3]
 2253 0120 BA68     		ldr	r2, [r7, #8]
 2254 0122 5101     		lsls	r1, r2, #5
 2255 0124 FA68     		ldr	r2, [r7, #12]
 2256 0126 0A44     		add	r2, r2, r1
 2257 0128 02F53062 		add	r2, r2, #2816
 2258 012c 23F40043 		bic	r3, r3, #32768
 2259 0130 1360     		str	r3, [r2]
 747:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DAINTMSK &= ~(USB_OTG_DAINTMSK_OEPM & ((uint32_t)(1UL << (ep->num & EP_ADDR_MSK)) 
 2260              		.loc 1 747 27
 2261 0132 FB68     		ldr	r3, [r7, #12]
 2262 0134 03F50063 		add	r3, r3, #2048
 2263 0138 DA69     		ldr	r2, [r3, #28]
 2264              		.loc 1 747 78
 2265 013a 3B68     		ldr	r3, [r7]
 2266 013c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2267              		.loc 1 747 84
 2268 013e 03F00F03 		and	r3, r3, #15
 2269              		.loc 1 747 57
 2270 0142 0121     		movs	r1, #1
 2271 0144 01FA03F3 		lsl	r3, r1, r3
 2272              		.loc 1 747 54
 2273 0148 1B04     		lsls	r3, r3, #16
 2274              		.loc 1 747 30
 2275 014a DB43     		mvns	r3, r3
 2276              		.loc 1 747 27
 2277 014c F968     		ldr	r1, [r7, #12]
 2278 014e 01F50061 		add	r1, r1, #2048
 2279 0152 1340     		ands	r3, r3, r2
 2280 0154 CB61     		str	r3, [r1, #28]
 2281              	.L108:
 748:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 749:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 750:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 2282              		.loc 1 750 10
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 54


 2283 0156 0023     		movs	r3, #0
 751:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 2284              		.loc 1 751 1
 2285 0158 1846     		mov	r0, r3
 2286 015a 1437     		adds	r7, r7, #20
 2287              	.LCFI84:
 2288              		.cfi_def_cfa_offset 4
 2289 015c BD46     		mov	sp, r7
 2290              	.LCFI85:
 2291              		.cfi_def_cfa_register 13
 2292              		@ sp needed
 2293 015e 5DF8047B 		ldr	r7, [sp], #4
 2294              	.LCFI86:
 2295              		.cfi_restore 7
 2296              		.cfi_def_cfa_offset 0
 2297 0162 7047     		bx	lr
 2298              		.cfi_endproc
 2299              	.LFE229:
 2301              		.section	.text.USB_EPStartXfer,"ax",%progbits
 2302              		.align	1
 2303              		.global	USB_EPStartXfer
 2304              		.syntax unified
 2305              		.thumb
 2306              		.thumb_func
 2308              	USB_EPStartXfer:
 2309              	.LFB230:
 752:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 753:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 754:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_EPStartXfer : setup and starts a transfer over an EP
 755:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 756:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 757:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  dma USB dma enabled or disabled
 758:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
 759:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           0 : DMA feature not used
 760:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           1 : DMA feature used
 761:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 762:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 763:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_EPStartXfer(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep, uint8_t dma)
 764:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 2310              		.loc 1 764 1
 2311              		.cfi_startproc
 2312              		@ args = 0, pretend = 0, frame = 32
 2313              		@ frame_needed = 1, uses_anonymous_args = 0
 2314 0000 80B5     		push	{r7, lr}
 2315              	.LCFI87:
 2316              		.cfi_def_cfa_offset 8
 2317              		.cfi_offset 7, -8
 2318              		.cfi_offset 14, -4
 2319 0002 8AB0     		sub	sp, sp, #40
 2320              	.LCFI88:
 2321              		.cfi_def_cfa_offset 48
 2322 0004 02AF     		add	r7, sp, #8
 2323              	.LCFI89:
 2324              		.cfi_def_cfa 7, 40
 2325 0006 F860     		str	r0, [r7, #12]
 2326 0008 B960     		str	r1, [r7, #8]
 2327 000a 1346     		mov	r3, r2
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 55


 2328 000c FB71     		strb	r3, [r7, #7]
 765:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 2329              		.loc 1 765 12
 2330 000e FB68     		ldr	r3, [r7, #12]
 2331 0010 FB61     		str	r3, [r7, #28]
 766:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
 2332              		.loc 1 766 32
 2333 0012 BB68     		ldr	r3, [r7, #8]
 2334 0014 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2335              		.loc 1 766 12
 2336 0016 BB61     		str	r3, [r7, #24]
 767:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint16_t pktcnt;
 768:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 769:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* IN endpoint */
 770:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 2337              		.loc 1 770 9
 2338 0018 BB68     		ldr	r3, [r7, #8]
 2339 001a 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 2340              		.loc 1 770 6
 2341 001c 012B     		cmp	r3, #1
 2342 001e 40F05C81 		bne	.L112
 771:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 772:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Zero Length Packet? */
 773:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (ep->xfer_len == 0U)
 2343              		.loc 1 773 11
 2344 0022 BB68     		ldr	r3, [r7, #8]
 2345 0024 9B69     		ldr	r3, [r3, #24]
 2346              		.loc 1 773 8
 2347 0026 002B     		cmp	r3, #0
 2348 0028 32D1     		bne	.L113
 774:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 775:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_PKTCNT);
 2349              		.loc 1 775 34
 2350 002a BB69     		ldr	r3, [r7, #24]
 2351 002c 5A01     		lsls	r2, r3, #5
 2352 002e FB69     		ldr	r3, [r7, #28]
 2353 0030 1344     		add	r3, r3, r2
 2354 0032 03F51063 		add	r3, r3, #2304
 2355 0036 1B69     		ldr	r3, [r3, #16]
 2356 0038 BA69     		ldr	r2, [r7, #24]
 2357 003a 5101     		lsls	r1, r2, #5
 2358 003c FA69     		ldr	r2, [r7, #28]
 2359 003e 0A44     		add	r2, r2, r1
 2360 0040 02F51062 		add	r2, r2, #2304
 2361 0044 23F0FF53 		bic	r3, r3, #534773760
 2362 0048 23F4C013 		bic	r3, r3, #1572864
 2363 004c 1361     		str	r3, [r2, #16]
 776:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_PKTCNT & (1U << 19));
 2364              		.loc 1 776 34
 2365 004e BB69     		ldr	r3, [r7, #24]
 2366 0050 5A01     		lsls	r2, r3, #5
 2367 0052 FB69     		ldr	r3, [r7, #28]
 2368 0054 1344     		add	r3, r3, r2
 2369 0056 03F51063 		add	r3, r3, #2304
 2370 005a 1B69     		ldr	r3, [r3, #16]
 2371 005c BA69     		ldr	r2, [r7, #24]
 2372 005e 5101     		lsls	r1, r2, #5
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 56


 2373 0060 FA69     		ldr	r2, [r7, #28]
 2374 0062 0A44     		add	r2, r2, r1
 2375 0064 02F51062 		add	r2, r2, #2304
 2376 0068 43F40023 		orr	r3, r3, #524288
 2377 006c 1361     		str	r3, [r2, #16]
 777:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_XFRSIZ);
 2378              		.loc 1 777 34
 2379 006e BB69     		ldr	r3, [r7, #24]
 2380 0070 5A01     		lsls	r2, r3, #5
 2381 0072 FB69     		ldr	r3, [r7, #28]
 2382 0074 1344     		add	r3, r3, r2
 2383 0076 03F51063 		add	r3, r3, #2304
 2384 007a 1B69     		ldr	r3, [r3, #16]
 2385 007c BA69     		ldr	r2, [r7, #24]
 2386 007e 5101     		lsls	r1, r2, #5
 2387 0080 FA69     		ldr	r2, [r7, #28]
 2388 0082 0A44     		add	r2, r2, r1
 2389 0084 02F51062 		add	r2, r2, #2304
 2390 0088 DB0C     		lsrs	r3, r3, #19
 2391 008a DB04     		lsls	r3, r3, #19
 2392 008c 1361     		str	r3, [r2, #16]
 2393 008e 74E0     		b	.L114
 2394              	.L113:
 778:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 779:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
 780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 781:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Program the transfer size and packet count
 782:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       * as follows: xfersize = N * maxpacket +
 783:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       * short_packet pktcnt = N + (short_packet
 784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       * exist ? 1 : 0)
 785:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       */
 786:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_XFRSIZ);
 2395              		.loc 1 786 34
 2396 0090 BB69     		ldr	r3, [r7, #24]
 2397 0092 5A01     		lsls	r2, r3, #5
 2398 0094 FB69     		ldr	r3, [r7, #28]
 2399 0096 1344     		add	r3, r3, r2
 2400 0098 03F51063 		add	r3, r3, #2304
 2401 009c 1B69     		ldr	r3, [r3, #16]
 2402 009e BA69     		ldr	r2, [r7, #24]
 2403 00a0 5101     		lsls	r1, r2, #5
 2404 00a2 FA69     		ldr	r2, [r7, #28]
 2405 00a4 0A44     		add	r2, r2, r1
 2406 00a6 02F51062 		add	r2, r2, #2304
 2407 00aa DB0C     		lsrs	r3, r3, #19
 2408 00ac DB04     		lsls	r3, r3, #19
 2409 00ae 1361     		str	r3, [r2, #16]
 787:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_PKTCNT);
 2410              		.loc 1 787 34
 2411 00b0 BB69     		ldr	r3, [r7, #24]
 2412 00b2 5A01     		lsls	r2, r3, #5
 2413 00b4 FB69     		ldr	r3, [r7, #28]
 2414 00b6 1344     		add	r3, r3, r2
 2415 00b8 03F51063 		add	r3, r3, #2304
 2416 00bc 1B69     		ldr	r3, [r3, #16]
 2417 00be BA69     		ldr	r2, [r7, #24]
 2418 00c0 5101     		lsls	r1, r2, #5
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 57


 2419 00c2 FA69     		ldr	r2, [r7, #28]
 2420 00c4 0A44     		add	r2, r2, r1
 2421 00c6 02F51062 		add	r2, r2, #2304
 2422 00ca 23F0FF53 		bic	r3, r3, #534773760
 2423 00ce 23F4C013 		bic	r3, r3, #1572864
 2424 00d2 1361     		str	r3, [r2, #16]
 788:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_PKTCNT &
 2425              		.loc 1 788 34
 2426 00d4 BB69     		ldr	r3, [r7, #24]
 2427 00d6 5A01     		lsls	r2, r3, #5
 2428 00d8 FB69     		ldr	r3, [r7, #28]
 2429 00da 1344     		add	r3, r3, r2
 2430 00dc 03F51063 		add	r3, r3, #2304
 2431 00e0 1A69     		ldr	r2, [r3, #16]
 789:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                      (((ep->xfer_len + ep->maxpacket - 1U) / ep->maxpacket) << 19))
 2432              		.loc 1 789 43
 2433 00e2 BB68     		ldr	r3, [r7, #8]
 2434 00e4 9969     		ldr	r1, [r3, #24]
 2435              		.loc 1 789 58
 2436 00e6 BB68     		ldr	r3, [r7, #8]
 2437 00e8 DB68     		ldr	r3, [r3, #12]
 2438              		.loc 1 789 54
 2439 00ea 0B44     		add	r3, r3, r1
 2440              		.loc 1 789 70
 2441 00ec 591E     		subs	r1, r3, #1
 2442              		.loc 1 789 80
 2443 00ee BB68     		ldr	r3, [r7, #8]
 2444 00f0 DB68     		ldr	r3, [r3, #12]
 2445              		.loc 1 789 76
 2446 00f2 B1FBF3F3 		udiv	r3, r1, r3
 2447              		.loc 1 789 93
 2448 00f6 D904     		lsls	r1, r3, #19
 788:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_PKTCNT &
 2449              		.loc 1 788 62
 2450 00f8 9D4B     		ldr	r3, .L129
 2451 00fa 0B40     		ands	r3, r3, r1
 788:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_PKTCNT &
 2452              		.loc 1 788 34
 2453 00fc B969     		ldr	r1, [r7, #24]
 2454 00fe 4801     		lsls	r0, r1, #5
 2455 0100 F969     		ldr	r1, [r7, #28]
 2456 0102 0144     		add	r1, r1, r0
 2457 0104 01F51061 		add	r1, r1, #2304
 2458 0108 1343     		orrs	r3, r3, r2
 2459 010a 0B61     		str	r3, [r1, #16]
 790:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 791:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_XFRSIZ & ep->xfer_len);
 2460              		.loc 1 791 34
 2461 010c BB69     		ldr	r3, [r7, #24]
 2462 010e 5A01     		lsls	r2, r3, #5
 2463 0110 FB69     		ldr	r3, [r7, #28]
 2464 0112 1344     		add	r3, r3, r2
 2465 0114 03F51063 		add	r3, r3, #2304
 2466 0118 1A69     		ldr	r2, [r3, #16]
 2467              		.loc 1 791 66
 2468 011a BB68     		ldr	r3, [r7, #8]
 2469 011c 9B69     		ldr	r3, [r3, #24]
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 58


 2470              		.loc 1 791 62
 2471 011e C3F31203 		ubfx	r3, r3, #0, #19
 2472              		.loc 1 791 34
 2473 0122 B969     		ldr	r1, [r7, #24]
 2474 0124 4801     		lsls	r0, r1, #5
 2475 0126 F969     		ldr	r1, [r7, #28]
 2476 0128 0144     		add	r1, r1, r0
 2477 012a 01F51061 		add	r1, r1, #2304
 2478 012e 1343     		orrs	r3, r3, r2
 2479 0130 0B61     		str	r3, [r1, #16]
 792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 793:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if (ep->type == EP_TYPE_ISOC)
 2480              		.loc 1 793 13
 2481 0132 BB68     		ldr	r3, [r7, #8]
 2482 0134 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 2483              		.loc 1 793 10
 2484 0136 012B     		cmp	r3, #1
 2485 0138 1FD1     		bne	.L114
 794:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 795:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_MULCNT);
 2486              		.loc 1 795 36
 2487 013a BB69     		ldr	r3, [r7, #24]
 2488 013c 5A01     		lsls	r2, r3, #5
 2489 013e FB69     		ldr	r3, [r7, #28]
 2490 0140 1344     		add	r3, r3, r2
 2491 0142 03F51063 		add	r3, r3, #2304
 2492 0146 1B69     		ldr	r3, [r3, #16]
 2493 0148 BA69     		ldr	r2, [r7, #24]
 2494 014a 5101     		lsls	r1, r2, #5
 2495 014c FA69     		ldr	r2, [r7, #28]
 2496 014e 0A44     		add	r2, r2, r1
 2497 0150 02F51062 		add	r2, r2, #2304
 2498 0154 23F0C043 		bic	r3, r3, #1610612736
 2499 0158 1361     		str	r3, [r2, #16]
 796:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_MULCNT & (1U << 29));
 2500              		.loc 1 796 36
 2501 015a BB69     		ldr	r3, [r7, #24]
 2502 015c 5A01     		lsls	r2, r3, #5
 2503 015e FB69     		ldr	r3, [r7, #28]
 2504 0160 1344     		add	r3, r3, r2
 2505 0162 03F51063 		add	r3, r3, #2304
 2506 0166 1B69     		ldr	r3, [r3, #16]
 2507 0168 BA69     		ldr	r2, [r7, #24]
 2508 016a 5101     		lsls	r1, r2, #5
 2509 016c FA69     		ldr	r2, [r7, #28]
 2510 016e 0A44     		add	r2, r2, r1
 2511 0170 02F51062 		add	r2, r2, #2304
 2512 0174 43F00053 		orr	r3, r3, #536870912
 2513 0178 1361     		str	r3, [r2, #16]
 2514              	.L114:
 797:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 798:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 799:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 800:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (dma == 1U)
 2515              		.loc 1 800 8
 2516 017a FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2517 017c 012B     		cmp	r3, #1
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 59


 2518 017e 4BD1     		bne	.L115
 801:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if ((uint32_t)ep->dma_addr != 0U)
 2519              		.loc 1 802 23
 2520 0180 BB68     		ldr	r3, [r7, #8]
 2521 0182 5B69     		ldr	r3, [r3, #20]
 2522              		.loc 1 802 10
 2523 0184 002B     		cmp	r3, #0
 2524 0186 09D0     		beq	.L116
 803:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 804:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_INEP(epnum)->DIEPDMA = (uint32_t)(ep->dma_addr);
 2525              		.loc 1 804 9
 2526 0188 BB69     		ldr	r3, [r7, #24]
 2527 018a 5A01     		lsls	r2, r3, #5
 2528 018c FB69     		ldr	r3, [r7, #28]
 2529 018e 1344     		add	r3, r3, r2
 2530 0190 03F51063 		add	r3, r3, #2304
 2531 0194 1A46     		mov	r2, r3
 2532              		.loc 1 804 50
 2533 0196 BB68     		ldr	r3, [r7, #8]
 2534 0198 5B69     		ldr	r3, [r3, #20]
 2535              		.loc 1 804 35
 2536 019a 5361     		str	r3, [r2, #20]
 2537              	.L116:
 805:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 806:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 807:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if (ep->type == EP_TYPE_ISOC)
 2538              		.loc 1 807 13
 2539 019c BB68     		ldr	r3, [r7, #8]
 2540 019e 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 2541              		.loc 1 807 10
 2542 01a0 012B     		cmp	r3, #1
 2543 01a2 28D1     		bne	.L117
 808:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 809:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         if ((USBx_DEVICE->DSTS & (1U << 8)) == 0U)
 2544              		.loc 1 809 14
 2545 01a4 FB69     		ldr	r3, [r7, #28]
 2546 01a6 03F50063 		add	r3, r3, #2048
 2547              		.loc 1 809 25
 2548 01aa 9B68     		ldr	r3, [r3, #8]
 2549              		.loc 1 809 32
 2550 01ac 03F48073 		and	r3, r3, #256
 2551              		.loc 1 809 12
 2552 01b0 002B     		cmp	r3, #0
 2553 01b2 10D1     		bne	.L118
 810:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
 811:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           USBx_INEP(epnum)->DIEPCTL |= USB_OTG_DIEPCTL_SODDFRM;
 2554              		.loc 1 811 37
 2555 01b4 BB69     		ldr	r3, [r7, #24]
 2556 01b6 5A01     		lsls	r2, r3, #5
 2557 01b8 FB69     		ldr	r3, [r7, #28]
 2558 01ba 1344     		add	r3, r3, r2
 2559 01bc 03F51063 		add	r3, r3, #2304
 2560 01c0 1B68     		ldr	r3, [r3]
 2561 01c2 BA69     		ldr	r2, [r7, #24]
 2562 01c4 5101     		lsls	r1, r2, #5
 2563 01c6 FA69     		ldr	r2, [r7, #28]
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 60


 2564 01c8 0A44     		add	r2, r2, r1
 2565 01ca 02F51062 		add	r2, r2, #2304
 2566 01ce 43F00053 		orr	r3, r3, #536870912
 2567 01d2 1360     		str	r3, [r2]
 2568 01d4 0FE0     		b	.L117
 2569              	.L118:
 812:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
 813:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         else
 814:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
 815:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           USBx_INEP(epnum)->DIEPCTL |= USB_OTG_DIEPCTL_SD0PID_SEVNFRM;
 2570              		.loc 1 815 37
 2571 01d6 BB69     		ldr	r3, [r7, #24]
 2572 01d8 5A01     		lsls	r2, r3, #5
 2573 01da FB69     		ldr	r3, [r7, #28]
 2574 01dc 1344     		add	r3, r3, r2
 2575 01de 03F51063 		add	r3, r3, #2304
 2576 01e2 1B68     		ldr	r3, [r3]
 2577 01e4 BA69     		ldr	r2, [r7, #24]
 2578 01e6 5101     		lsls	r1, r2, #5
 2579 01e8 FA69     		ldr	r2, [r7, #28]
 2580 01ea 0A44     		add	r2, r2, r1
 2581 01ec 02F51062 		add	r2, r2, #2304
 2582 01f0 43F08053 		orr	r3, r3, #268435456
 2583 01f4 1360     		str	r3, [r2]
 2584              	.L117:
 816:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
 817:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 818:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 819:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* EP enable, IN data in FIFO */
 820:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL |= (USB_OTG_DIEPCTL_CNAK | USB_OTG_DIEPCTL_EPENA);
 2585              		.loc 1 820 33
 2586 01f6 BB69     		ldr	r3, [r7, #24]
 2587 01f8 5A01     		lsls	r2, r3, #5
 2588 01fa FB69     		ldr	r3, [r7, #28]
 2589 01fc 1344     		add	r3, r3, r2
 2590 01fe 03F51063 		add	r3, r3, #2304
 2591 0202 1B68     		ldr	r3, [r3]
 2592 0204 BA69     		ldr	r2, [r7, #24]
 2593 0206 5101     		lsls	r1, r2, #5
 2594 0208 FA69     		ldr	r2, [r7, #28]
 2595 020a 0A44     		add	r2, r2, r1
 2596 020c 02F51062 		add	r2, r2, #2304
 2597 0210 43F00443 		orr	r3, r3, #-2080374784
 2598 0214 1360     		str	r3, [r2]
 2599 0216 33E1     		b	.L119
 2600              	.L115:
 821:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 822:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
 823:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 824:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* EP enable, IN data in FIFO */
 825:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL |= (USB_OTG_DIEPCTL_CNAK | USB_OTG_DIEPCTL_EPENA);
 2601              		.loc 1 825 33
 2602 0218 BB69     		ldr	r3, [r7, #24]
 2603 021a 5A01     		lsls	r2, r3, #5
 2604 021c FB69     		ldr	r3, [r7, #28]
 2605 021e 1344     		add	r3, r3, r2
 2606 0220 03F51063 		add	r3, r3, #2304
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 61


 2607 0224 1B68     		ldr	r3, [r3]
 2608 0226 BA69     		ldr	r2, [r7, #24]
 2609 0228 5101     		lsls	r1, r2, #5
 2610 022a FA69     		ldr	r2, [r7, #28]
 2611 022c 0A44     		add	r2, r2, r1
 2612 022e 02F51062 		add	r2, r2, #2304
 2613 0232 43F00443 		orr	r3, r3, #-2080374784
 2614 0236 1360     		str	r3, [r2]
 826:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 827:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if (ep->type != EP_TYPE_ISOC)
 2615              		.loc 1 827 13
 2616 0238 BB68     		ldr	r3, [r7, #8]
 2617 023a 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 2618              		.loc 1 827 10
 2619 023c 012B     		cmp	r3, #1
 2620 023e 15D0     		beq	.L120
 828:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 829:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         /* Enable the Tx FIFO Empty Interrupt for this EP */
 830:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         if (ep->xfer_len > 0U)
 2621              		.loc 1 830 15
 2622 0240 BB68     		ldr	r3, [r7, #8]
 2623 0242 9B69     		ldr	r3, [r3, #24]
 2624              		.loc 1 830 12
 2625 0244 002B     		cmp	r3, #0
 2626 0246 00F01B81 		beq	.L119
 831:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
 832:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           USBx_DEVICE->DIEPEMPMSK |= 1UL << (ep->num & EP_ADDR_MSK);
 2627              		.loc 1 832 35
 2628 024a FB69     		ldr	r3, [r7, #28]
 2629 024c 03F50063 		add	r3, r3, #2048
 2630 0250 5A6B     		ldr	r2, [r3, #52]
 2631              		.loc 1 832 48
 2632 0252 BB68     		ldr	r3, [r7, #8]
 2633 0254 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2634              		.loc 1 832 54
 2635 0256 03F00F03 		and	r3, r3, #15
 2636              		.loc 1 832 42
 2637 025a 0121     		movs	r1, #1
 2638 025c 01FA03F3 		lsl	r3, r1, r3
 2639              		.loc 1 832 35
 2640 0260 F969     		ldr	r1, [r7, #28]
 2641 0262 01F50061 		add	r1, r1, #2048
 2642 0266 1343     		orrs	r3, r3, r2
 2643 0268 4B63     		str	r3, [r1, #52]
 2644 026a 09E1     		b	.L119
 2645              	.L120:
 833:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
 834:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 835:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       else
 836:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 837:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         if ((USBx_DEVICE->DSTS & (1U << 8)) == 0U)
 2646              		.loc 1 837 14
 2647 026c FB69     		ldr	r3, [r7, #28]
 2648 026e 03F50063 		add	r3, r3, #2048
 2649              		.loc 1 837 25
 2650 0272 9B68     		ldr	r3, [r3, #8]
 2651              		.loc 1 837 32
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 62


 2652 0274 03F48073 		and	r3, r3, #256
 2653              		.loc 1 837 12
 2654 0278 002B     		cmp	r3, #0
 2655 027a 10D1     		bne	.L121
 838:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
 839:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           USBx_INEP(epnum)->DIEPCTL |= USB_OTG_DIEPCTL_SODDFRM;
 2656              		.loc 1 839 37
 2657 027c BB69     		ldr	r3, [r7, #24]
 2658 027e 5A01     		lsls	r2, r3, #5
 2659 0280 FB69     		ldr	r3, [r7, #28]
 2660 0282 1344     		add	r3, r3, r2
 2661 0284 03F51063 		add	r3, r3, #2304
 2662 0288 1B68     		ldr	r3, [r3]
 2663 028a BA69     		ldr	r2, [r7, #24]
 2664 028c 5101     		lsls	r1, r2, #5
 2665 028e FA69     		ldr	r2, [r7, #28]
 2666 0290 0A44     		add	r2, r2, r1
 2667 0292 02F51062 		add	r2, r2, #2304
 2668 0296 43F00053 		orr	r3, r3, #536870912
 2669 029a 1360     		str	r3, [r2]
 2670 029c 0FE0     		b	.L122
 2671              	.L121:
 840:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
 841:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         else
 842:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
 843:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           USBx_INEP(epnum)->DIEPCTL |= USB_OTG_DIEPCTL_SD0PID_SEVNFRM;
 2672              		.loc 1 843 37
 2673 029e BB69     		ldr	r3, [r7, #24]
 2674 02a0 5A01     		lsls	r2, r3, #5
 2675 02a2 FB69     		ldr	r3, [r7, #28]
 2676 02a4 1344     		add	r3, r3, r2
 2677 02a6 03F51063 		add	r3, r3, #2304
 2678 02aa 1B68     		ldr	r3, [r3]
 2679 02ac BA69     		ldr	r2, [r7, #24]
 2680 02ae 5101     		lsls	r1, r2, #5
 2681 02b0 FA69     		ldr	r2, [r7, #28]
 2682 02b2 0A44     		add	r2, r2, r1
 2683 02b4 02F51062 		add	r2, r2, #2304
 2684 02b8 43F08053 		orr	r3, r3, #268435456
 2685 02bc 1360     		str	r3, [r2]
 2686              	.L122:
 844:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
 845:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 846:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         (void)USB_WritePacket(USBx, ep->xfer_buff, ep->num, (uint16_t)ep->xfer_len, dma);
 2687              		.loc 1 846 15
 2688 02be BB68     		ldr	r3, [r7, #8]
 2689 02c0 1969     		ldr	r1, [r3, #16]
 2690 02c2 BB68     		ldr	r3, [r7, #8]
 2691 02c4 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 2692              		.loc 1 846 73
 2693 02c6 BB68     		ldr	r3, [r7, #8]
 2694 02c8 9B69     		ldr	r3, [r3, #24]
 2695              		.loc 1 846 15
 2696 02ca 98B2     		uxth	r0, r3
 2697 02cc FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2698 02ce 0093     		str	r3, [sp]
 2699 02d0 0346     		mov	r3, r0
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 63


 2700 02d2 F868     		ldr	r0, [r7, #12]
 2701 02d4 FFF7FEFF 		bl	USB_WritePacket
 2702 02d8 D2E0     		b	.L119
 2703              	.L112:
 847:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 848:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 849:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 850:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else /* OUT endpoint */
 851:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 852:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Program the transfer size and packet count as follows:
 853:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     * pktcnt = N
 854:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     * xfersize = N * maxpacket
 855:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     */
 856:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPTSIZ &= ~(USB_OTG_DOEPTSIZ_XFRSIZ);
 2704              		.loc 1 856 33
 2705 02da BB69     		ldr	r3, [r7, #24]
 2706 02dc 5A01     		lsls	r2, r3, #5
 2707 02de FB69     		ldr	r3, [r7, #28]
 2708 02e0 1344     		add	r3, r3, r2
 2709 02e2 03F53063 		add	r3, r3, #2816
 2710 02e6 1B69     		ldr	r3, [r3, #16]
 2711 02e8 BA69     		ldr	r2, [r7, #24]
 2712 02ea 5101     		lsls	r1, r2, #5
 2713 02ec FA69     		ldr	r2, [r7, #28]
 2714 02ee 0A44     		add	r2, r2, r1
 2715 02f0 02F53062 		add	r2, r2, #2816
 2716 02f4 DB0C     		lsrs	r3, r3, #19
 2717 02f6 DB04     		lsls	r3, r3, #19
 2718 02f8 1361     		str	r3, [r2, #16]
 857:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPTSIZ &= ~(USB_OTG_DOEPTSIZ_PKTCNT);
 2719              		.loc 1 857 33
 2720 02fa BB69     		ldr	r3, [r7, #24]
 2721 02fc 5A01     		lsls	r2, r3, #5
 2722 02fe FB69     		ldr	r3, [r7, #28]
 2723 0300 1344     		add	r3, r3, r2
 2724 0302 03F53063 		add	r3, r3, #2816
 2725 0306 1B69     		ldr	r3, [r3, #16]
 2726 0308 BA69     		ldr	r2, [r7, #24]
 2727 030a 5101     		lsls	r1, r2, #5
 2728 030c FA69     		ldr	r2, [r7, #28]
 2729 030e 0A44     		add	r2, r2, r1
 2730 0310 02F53062 		add	r2, r2, #2816
 2731 0314 23F0FF53 		bic	r3, r3, #534773760
 2732 0318 23F4C013 		bic	r3, r3, #1572864
 2733 031c 1361     		str	r3, [r2, #16]
 858:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 859:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (ep->xfer_len == 0U)
 2734              		.loc 1 859 11
 2735 031e BB68     		ldr	r3, [r7, #8]
 2736 0320 9B69     		ldr	r3, [r3, #24]
 2737              		.loc 1 859 8
 2738 0322 002B     		cmp	r3, #0
 2739 0324 26D1     		bne	.L123
 860:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 861:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_XFRSIZ & ep->maxpacket);
 2740              		.loc 1 861 35
 2741 0326 BB69     		ldr	r3, [r7, #24]
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 64


 2742 0328 5A01     		lsls	r2, r3, #5
 2743 032a FB69     		ldr	r3, [r7, #28]
 2744 032c 1344     		add	r3, r3, r2
 2745 032e 03F53063 		add	r3, r3, #2816
 2746 0332 1A69     		ldr	r2, [r3, #16]
 2747              		.loc 1 861 67
 2748 0334 BB68     		ldr	r3, [r7, #8]
 2749 0336 DB68     		ldr	r3, [r3, #12]
 2750              		.loc 1 861 63
 2751 0338 C3F31203 		ubfx	r3, r3, #0, #19
 2752              		.loc 1 861 35
 2753 033c B969     		ldr	r1, [r7, #24]
 2754 033e 4801     		lsls	r0, r1, #5
 2755 0340 F969     		ldr	r1, [r7, #28]
 2756 0342 0144     		add	r1, r1, r0
 2757 0344 01F53061 		add	r1, r1, #2816
 2758 0348 1343     		orrs	r3, r3, r2
 2759 034a 0B61     		str	r3, [r1, #16]
 862:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_PKTCNT & (1U << 19));
 2760              		.loc 1 862 35
 2761 034c BB69     		ldr	r3, [r7, #24]
 2762 034e 5A01     		lsls	r2, r3, #5
 2763 0350 FB69     		ldr	r3, [r7, #28]
 2764 0352 1344     		add	r3, r3, r2
 2765 0354 03F53063 		add	r3, r3, #2816
 2766 0358 1B69     		ldr	r3, [r3, #16]
 2767 035a BA69     		ldr	r2, [r7, #24]
 2768 035c 5101     		lsls	r1, r2, #5
 2769 035e FA69     		ldr	r2, [r7, #28]
 2770 0360 0A44     		add	r2, r2, r1
 2771 0362 02F53062 		add	r2, r2, #2816
 2772 0366 43F40023 		orr	r3, r3, #524288
 2773 036a 1361     		str	r3, [r2, #16]
 2774 036c 3AE0     		b	.L124
 2775              	.L130:
 2776 036e 00BF     		.align	2
 2777              	.L129:
 2778 0370 0000F81F 		.word	536346624
 2779              	.L123:
 863:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 864:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
 865:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 866:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       pktcnt = (uint16_t)((ep->xfer_len + ep->maxpacket - 1U) / ep->maxpacket);
 2780              		.loc 1 866 30
 2781 0374 BB68     		ldr	r3, [r7, #8]
 2782 0376 9A69     		ldr	r2, [r3, #24]
 2783              		.loc 1 866 45
 2784 0378 BB68     		ldr	r3, [r7, #8]
 2785 037a DB68     		ldr	r3, [r3, #12]
 2786              		.loc 1 866 41
 2787 037c 1344     		add	r3, r3, r2
 2788              		.loc 1 866 57
 2789 037e 5A1E     		subs	r2, r3, #1
 2790              		.loc 1 866 67
 2791 0380 BB68     		ldr	r3, [r7, #8]
 2792 0382 DB68     		ldr	r3, [r3, #12]
 2793              		.loc 1 866 63
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 65


 2794 0384 B2FBF3F3 		udiv	r3, r2, r3
 2795              		.loc 1 866 14
 2796 0388 FB82     		strh	r3, [r7, #22]	@ movhi
 867:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       ep->xfer_size = ep->maxpacket * pktcnt;
 2797              		.loc 1 867 25
 2798 038a BB68     		ldr	r3, [r7, #8]
 2799 038c DB68     		ldr	r3, [r3, #12]
 2800              		.loc 1 867 37
 2801 038e FA8A     		ldrh	r2, [r7, #22]
 2802 0390 03FB02F2 		mul	r2, r3, r2
 2803              		.loc 1 867 21
 2804 0394 BB68     		ldr	r3, [r7, #8]
 2805 0396 DA61     		str	r2, [r3, #28]
 868:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 869:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPTSIZ |= USB_OTG_DOEPTSIZ_PKTCNT & ((uint32_t)pktcnt << 19);
 2806              		.loc 1 869 35
 2807 0398 BB69     		ldr	r3, [r7, #24]
 2808 039a 5A01     		lsls	r2, r3, #5
 2809 039c FB69     		ldr	r3, [r7, #28]
 2810 039e 1344     		add	r3, r3, r2
 2811 03a0 03F53063 		add	r3, r3, #2816
 2812 03a4 1A69     		ldr	r2, [r3, #16]
 2813              		.loc 1 869 65
 2814 03a6 FB8A     		ldrh	r3, [r7, #22]
 2815              		.loc 1 869 82
 2816 03a8 D904     		lsls	r1, r3, #19
 2817              		.loc 1 869 62
 2818 03aa 384B     		ldr	r3, .L131
 2819 03ac 0B40     		ands	r3, r3, r1
 2820              		.loc 1 869 35
 2821 03ae B969     		ldr	r1, [r7, #24]
 2822 03b0 4801     		lsls	r0, r1, #5
 2823 03b2 F969     		ldr	r1, [r7, #28]
 2824 03b4 0144     		add	r1, r1, r0
 2825 03b6 01F53061 		add	r1, r1, #2816
 2826 03ba 1343     		orrs	r3, r3, r2
 2827 03bc 0B61     		str	r3, [r1, #16]
 870:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPTSIZ |= USB_OTG_DOEPTSIZ_XFRSIZ & ep->xfer_size;
 2828              		.loc 1 870 35
 2829 03be BB69     		ldr	r3, [r7, #24]
 2830 03c0 5A01     		lsls	r2, r3, #5
 2831 03c2 FB69     		ldr	r3, [r7, #28]
 2832 03c4 1344     		add	r3, r3, r2
 2833 03c6 03F53063 		add	r3, r3, #2816
 2834 03ca 1A69     		ldr	r2, [r3, #16]
 2835              		.loc 1 870 66
 2836 03cc BB68     		ldr	r3, [r7, #8]
 2837 03ce DB69     		ldr	r3, [r3, #28]
 2838              		.loc 1 870 62
 2839 03d0 C3F31203 		ubfx	r3, r3, #0, #19
 2840              		.loc 1 870 35
 2841 03d4 B969     		ldr	r1, [r7, #24]
 2842 03d6 4801     		lsls	r0, r1, #5
 2843 03d8 F969     		ldr	r1, [r7, #28]
 2844 03da 0144     		add	r1, r1, r0
 2845 03dc 01F53061 		add	r1, r1, #2816
 2846 03e0 1343     		orrs	r3, r3, r2
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 66


 2847 03e2 0B61     		str	r3, [r1, #16]
 2848              	.L124:
 871:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 872:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 873:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (dma == 1U)
 2849              		.loc 1 873 8
 2850 03e4 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2851 03e6 012B     		cmp	r3, #1
 2852 03e8 0DD1     		bne	.L125
 874:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 875:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if ((uint32_t)ep->xfer_buff != 0U)
 2853              		.loc 1 875 23
 2854 03ea BB68     		ldr	r3, [r7, #8]
 2855 03ec 1B69     		ldr	r3, [r3, #16]
 2856              		.loc 1 875 10
 2857 03ee 002B     		cmp	r3, #0
 2858 03f0 09D0     		beq	.L125
 876:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 877:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_OUTEP(epnum)->DOEPDMA = (uint32_t)(ep->xfer_buff);
 2859              		.loc 1 877 51
 2860 03f2 BB68     		ldr	r3, [r7, #8]
 2861 03f4 1969     		ldr	r1, [r3, #16]
 2862              		.loc 1 877 9
 2863 03f6 BB69     		ldr	r3, [r7, #24]
 2864 03f8 5A01     		lsls	r2, r3, #5
 2865 03fa FB69     		ldr	r3, [r7, #28]
 2866 03fc 1344     		add	r3, r3, r2
 2867 03fe 03F53063 		add	r3, r3, #2816
 2868              		.loc 1 877 38
 2869 0402 0A46     		mov	r2, r1
 2870              		.loc 1 877 36
 2871 0404 5A61     		str	r2, [r3, #20]
 2872              	.L125:
 878:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 879:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 880:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 881:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (ep->type == EP_TYPE_ISOC)
 2873              		.loc 1 881 11
 2874 0406 BB68     		ldr	r3, [r7, #8]
 2875 0408 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 2876              		.loc 1 881 8
 2877 040a 012B     		cmp	r3, #1
 2878 040c 28D1     		bne	.L126
 882:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 883:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if ((USBx_DEVICE->DSTS & (1U << 8)) == 0U)
 2879              		.loc 1 883 12
 2880 040e FB69     		ldr	r3, [r7, #28]
 2881 0410 03F50063 		add	r3, r3, #2048
 2882              		.loc 1 883 23
 2883 0414 9B68     		ldr	r3, [r3, #8]
 2884              		.loc 1 883 30
 2885 0416 03F48073 		and	r3, r3, #256
 2886              		.loc 1 883 10
 2887 041a 002B     		cmp	r3, #0
 2888 041c 10D1     		bne	.L127
 884:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 885:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_OUTEP(epnum)->DOEPCTL |= USB_OTG_DOEPCTL_SODDFRM;
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 67


 2889              		.loc 1 885 36
 2890 041e BB69     		ldr	r3, [r7, #24]
 2891 0420 5A01     		lsls	r2, r3, #5
 2892 0422 FB69     		ldr	r3, [r7, #28]
 2893 0424 1344     		add	r3, r3, r2
 2894 0426 03F53063 		add	r3, r3, #2816
 2895 042a 1B68     		ldr	r3, [r3]
 2896 042c BA69     		ldr	r2, [r7, #24]
 2897 042e 5101     		lsls	r1, r2, #5
 2898 0430 FA69     		ldr	r2, [r7, #28]
 2899 0432 0A44     		add	r2, r2, r1
 2900 0434 02F53062 		add	r2, r2, #2816
 2901 0438 43F00053 		orr	r3, r3, #536870912
 2902 043c 1360     		str	r3, [r2]
 2903 043e 0FE0     		b	.L126
 2904              	.L127:
 886:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 887:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       else
 888:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 889:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_OUTEP(epnum)->DOEPCTL |= USB_OTG_DOEPCTL_SD0PID_SEVNFRM;
 2905              		.loc 1 889 36
 2906 0440 BB69     		ldr	r3, [r7, #24]
 2907 0442 5A01     		lsls	r2, r3, #5
 2908 0444 FB69     		ldr	r3, [r7, #28]
 2909 0446 1344     		add	r3, r3, r2
 2910 0448 03F53063 		add	r3, r3, #2816
 2911 044c 1B68     		ldr	r3, [r3]
 2912 044e BA69     		ldr	r2, [r7, #24]
 2913 0450 5101     		lsls	r1, r2, #5
 2914 0452 FA69     		ldr	r2, [r7, #28]
 2915 0454 0A44     		add	r2, r2, r1
 2916 0456 02F53062 		add	r2, r2, #2816
 2917 045a 43F08053 		orr	r3, r3, #268435456
 2918 045e 1360     		str	r3, [r2]
 2919              	.L126:
 890:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 891:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 892:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* EP enable */
 893:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPCTL |= (USB_OTG_DOEPCTL_CNAK | USB_OTG_DOEPCTL_EPENA);
 2920              		.loc 1 893 32
 2921 0460 BB69     		ldr	r3, [r7, #24]
 2922 0462 5A01     		lsls	r2, r3, #5
 2923 0464 FB69     		ldr	r3, [r7, #28]
 2924 0466 1344     		add	r3, r3, r2
 2925 0468 03F53063 		add	r3, r3, #2816
 2926 046c 1B68     		ldr	r3, [r3]
 2927 046e BA69     		ldr	r2, [r7, #24]
 2928 0470 5101     		lsls	r1, r2, #5
 2929 0472 FA69     		ldr	r2, [r7, #28]
 2930 0474 0A44     		add	r2, r2, r1
 2931 0476 02F53062 		add	r2, r2, #2816
 2932 047a 43F00443 		orr	r3, r3, #-2080374784
 2933 047e 1360     		str	r3, [r2]
 2934              	.L119:
 894:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 895:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 896:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 68


 2935              		.loc 1 896 10
 2936 0480 0023     		movs	r3, #0
 897:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 2937              		.loc 1 897 1
 2938 0482 1846     		mov	r0, r3
 2939 0484 2037     		adds	r7, r7, #32
 2940              	.LCFI90:
 2941              		.cfi_def_cfa_offset 8
 2942 0486 BD46     		mov	sp, r7
 2943              	.LCFI91:
 2944              		.cfi_def_cfa_register 13
 2945              		@ sp needed
 2946 0488 80BD     		pop	{r7, pc}
 2947              	.L132:
 2948 048a 00BF     		.align	2
 2949              	.L131:
 2950 048c 0000F81F 		.word	536346624
 2951              		.cfi_endproc
 2952              	.LFE230:
 2954              		.section	.text.USB_EP0StartXfer,"ax",%progbits
 2955              		.align	1
 2956              		.global	USB_EP0StartXfer
 2957              		.syntax unified
 2958              		.thumb
 2959              		.thumb_func
 2961              	USB_EP0StartXfer:
 2962              	.LFB231:
 898:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 899:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 900:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_EP0StartXfer : setup and starts a transfer over the EP  0
 901:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 902:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 903:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  dma USB dma enabled or disabled
 904:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
 905:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           0 : DMA feature not used
 906:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           1 : DMA feature used
 907:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 908:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 909:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_EP0StartXfer(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep, uint8_t dma)
 910:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 2963              		.loc 1 910 1
 2964              		.cfi_startproc
 2965              		@ args = 0, pretend = 0, frame = 24
 2966              		@ frame_needed = 1, uses_anonymous_args = 0
 2967              		@ link register save eliminated.
 2968 0000 80B4     		push	{r7}
 2969              	.LCFI92:
 2970              		.cfi_def_cfa_offset 4
 2971              		.cfi_offset 7, -4
 2972 0002 87B0     		sub	sp, sp, #28
 2973              	.LCFI93:
 2974              		.cfi_def_cfa_offset 32
 2975 0004 00AF     		add	r7, sp, #0
 2976              	.LCFI94:
 2977              		.cfi_def_cfa_register 7
 2978 0006 F860     		str	r0, [r7, #12]
 2979 0008 B960     		str	r1, [r7, #8]
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 69


 2980 000a 1346     		mov	r3, r2
 2981 000c FB71     		strb	r3, [r7, #7]
 911:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 2982              		.loc 1 911 12
 2983 000e FB68     		ldr	r3, [r7, #12]
 2984 0010 7B61     		str	r3, [r7, #20]
 912:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
 2985              		.loc 1 912 32
 2986 0012 BB68     		ldr	r3, [r7, #8]
 2987 0014 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2988              		.loc 1 912 12
 2989 0016 3B61     		str	r3, [r7, #16]
 913:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 914:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* IN endpoint */
 915:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 2990              		.loc 1 915 9
 2991 0018 BB68     		ldr	r3, [r7, #8]
 2992 001a 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 2993              		.loc 1 915 6
 2994 001c 012B     		cmp	r3, #1
 2995 001e 40F0CE80 		bne	.L134
 916:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 917:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Zero Length Packet? */
 918:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (ep->xfer_len == 0U)
 2996              		.loc 1 918 11
 2997 0022 BB68     		ldr	r3, [r7, #8]
 2998 0024 9B69     		ldr	r3, [r3, #24]
 2999              		.loc 1 918 8
 3000 0026 002B     		cmp	r3, #0
 3001 0028 32D1     		bne	.L135
 919:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 920:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_PKTCNT);
 3002              		.loc 1 920 34
 3003 002a 3B69     		ldr	r3, [r7, #16]
 3004 002c 5A01     		lsls	r2, r3, #5
 3005 002e 7B69     		ldr	r3, [r7, #20]
 3006 0030 1344     		add	r3, r3, r2
 3007 0032 03F51063 		add	r3, r3, #2304
 3008 0036 1B69     		ldr	r3, [r3, #16]
 3009 0038 3A69     		ldr	r2, [r7, #16]
 3010 003a 5101     		lsls	r1, r2, #5
 3011 003c 7A69     		ldr	r2, [r7, #20]
 3012 003e 0A44     		add	r2, r2, r1
 3013 0040 02F51062 		add	r2, r2, #2304
 3014 0044 23F0FF53 		bic	r3, r3, #534773760
 3015 0048 23F4C013 		bic	r3, r3, #1572864
 3016 004c 1361     		str	r3, [r2, #16]
 921:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_PKTCNT & (1U << 19));
 3017              		.loc 1 921 34
 3018 004e 3B69     		ldr	r3, [r7, #16]
 3019 0050 5A01     		lsls	r2, r3, #5
 3020 0052 7B69     		ldr	r3, [r7, #20]
 3021 0054 1344     		add	r3, r3, r2
 3022 0056 03F51063 		add	r3, r3, #2304
 3023 005a 1B69     		ldr	r3, [r3, #16]
 3024 005c 3A69     		ldr	r2, [r7, #16]
 3025 005e 5101     		lsls	r1, r2, #5
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 70


 3026 0060 7A69     		ldr	r2, [r7, #20]
 3027 0062 0A44     		add	r2, r2, r1
 3028 0064 02F51062 		add	r2, r2, #2304
 3029 0068 43F40023 		orr	r3, r3, #524288
 3030 006c 1361     		str	r3, [r2, #16]
 922:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_XFRSIZ);
 3031              		.loc 1 922 34
 3032 006e 3B69     		ldr	r3, [r7, #16]
 3033 0070 5A01     		lsls	r2, r3, #5
 3034 0072 7B69     		ldr	r3, [r7, #20]
 3035 0074 1344     		add	r3, r3, r2
 3036 0076 03F51063 		add	r3, r3, #2304
 3037 007a 1B69     		ldr	r3, [r3, #16]
 3038 007c 3A69     		ldr	r2, [r7, #16]
 3039 007e 5101     		lsls	r1, r2, #5
 3040 0080 7A69     		ldr	r2, [r7, #20]
 3041 0082 0A44     		add	r2, r2, r1
 3042 0084 02F51062 		add	r2, r2, #2304
 3043 0088 DB0C     		lsrs	r3, r3, #19
 3044 008a DB04     		lsls	r3, r3, #19
 3045 008c 1361     		str	r3, [r2, #16]
 3046 008e 4EE0     		b	.L136
 3047              	.L135:
 923:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 924:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
 925:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 926:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Program the transfer size and packet count
 927:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       * as follows: xfersize = N * maxpacket +
 928:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       * short_packet pktcnt = N + (short_packet
 929:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       * exist ? 1 : 0)
 930:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       */
 931:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_XFRSIZ);
 3048              		.loc 1 931 34
 3049 0090 3B69     		ldr	r3, [r7, #16]
 3050 0092 5A01     		lsls	r2, r3, #5
 3051 0094 7B69     		ldr	r3, [r7, #20]
 3052 0096 1344     		add	r3, r3, r2
 3053 0098 03F51063 		add	r3, r3, #2304
 3054 009c 1B69     		ldr	r3, [r3, #16]
 3055 009e 3A69     		ldr	r2, [r7, #16]
 3056 00a0 5101     		lsls	r1, r2, #5
 3057 00a2 7A69     		ldr	r2, [r7, #20]
 3058 00a4 0A44     		add	r2, r2, r1
 3059 00a6 02F51062 		add	r2, r2, #2304
 3060 00aa DB0C     		lsrs	r3, r3, #19
 3061 00ac DB04     		lsls	r3, r3, #19
 3062 00ae 1361     		str	r3, [r2, #16]
 932:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_PKTCNT);
 3063              		.loc 1 932 34
 3064 00b0 3B69     		ldr	r3, [r7, #16]
 3065 00b2 5A01     		lsls	r2, r3, #5
 3066 00b4 7B69     		ldr	r3, [r7, #20]
 3067 00b6 1344     		add	r3, r3, r2
 3068 00b8 03F51063 		add	r3, r3, #2304
 3069 00bc 1B69     		ldr	r3, [r3, #16]
 3070 00be 3A69     		ldr	r2, [r7, #16]
 3071 00c0 5101     		lsls	r1, r2, #5
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 71


 3072 00c2 7A69     		ldr	r2, [r7, #20]
 3073 00c4 0A44     		add	r2, r2, r1
 3074 00c6 02F51062 		add	r2, r2, #2304
 3075 00ca 23F0FF53 		bic	r3, r3, #534773760
 3076 00ce 23F4C013 		bic	r3, r3, #1572864
 3077 00d2 1361     		str	r3, [r2, #16]
 933:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 934:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if (ep->xfer_len > ep->maxpacket)
 3078              		.loc 1 934 13
 3079 00d4 BB68     		ldr	r3, [r7, #8]
 3080 00d6 9A69     		ldr	r2, [r3, #24]
 3081              		.loc 1 934 28
 3082 00d8 BB68     		ldr	r3, [r7, #8]
 3083 00da DB68     		ldr	r3, [r3, #12]
 3084              		.loc 1 934 10
 3085 00dc 9A42     		cmp	r2, r3
 3086 00de 03D9     		bls	.L137
 935:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 936:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         ep->xfer_len = ep->maxpacket;
 3087              		.loc 1 936 26
 3088 00e0 BB68     		ldr	r3, [r7, #8]
 3089 00e2 DA68     		ldr	r2, [r3, #12]
 3090              		.loc 1 936 22
 3091 00e4 BB68     		ldr	r3, [r7, #8]
 3092 00e6 9A61     		str	r2, [r3, #24]
 3093              	.L137:
 937:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 938:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_PKTCNT & (1U << 19));
 3094              		.loc 1 938 34
 3095 00e8 3B69     		ldr	r3, [r7, #16]
 3096 00ea 5A01     		lsls	r2, r3, #5
 3097 00ec 7B69     		ldr	r3, [r7, #20]
 3098 00ee 1344     		add	r3, r3, r2
 3099 00f0 03F51063 		add	r3, r3, #2304
 3100 00f4 1B69     		ldr	r3, [r3, #16]
 3101 00f6 3A69     		ldr	r2, [r7, #16]
 3102 00f8 5101     		lsls	r1, r2, #5
 3103 00fa 7A69     		ldr	r2, [r7, #20]
 3104 00fc 0A44     		add	r2, r2, r1
 3105 00fe 02F51062 		add	r2, r2, #2304
 3106 0102 43F40023 		orr	r3, r3, #524288
 3107 0106 1361     		str	r3, [r2, #16]
 939:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_XFRSIZ & ep->xfer_len);
 3108              		.loc 1 939 34
 3109 0108 3B69     		ldr	r3, [r7, #16]
 3110 010a 5A01     		lsls	r2, r3, #5
 3111 010c 7B69     		ldr	r3, [r7, #20]
 3112 010e 1344     		add	r3, r3, r2
 3113 0110 03F51063 		add	r3, r3, #2304
 3114 0114 1A69     		ldr	r2, [r3, #16]
 3115              		.loc 1 939 66
 3116 0116 BB68     		ldr	r3, [r7, #8]
 3117 0118 9B69     		ldr	r3, [r3, #24]
 3118              		.loc 1 939 62
 3119 011a C3F31203 		ubfx	r3, r3, #0, #19
 3120              		.loc 1 939 34
 3121 011e 3969     		ldr	r1, [r7, #16]
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 72


 3122 0120 4801     		lsls	r0, r1, #5
 3123 0122 7969     		ldr	r1, [r7, #20]
 3124 0124 0144     		add	r1, r1, r0
 3125 0126 01F51061 		add	r1, r1, #2304
 3126 012a 1343     		orrs	r3, r3, r2
 3127 012c 0B61     		str	r3, [r1, #16]
 3128              	.L136:
 940:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 941:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 942:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (dma == 1U)
 3129              		.loc 1 942 8
 3130 012e FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 3131 0130 012B     		cmp	r3, #1
 3132 0132 1ED1     		bne	.L138
 943:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 944:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if ((uint32_t)ep->dma_addr != 0U)
 3133              		.loc 1 944 23
 3134 0134 BB68     		ldr	r3, [r7, #8]
 3135 0136 5B69     		ldr	r3, [r3, #20]
 3136              		.loc 1 944 10
 3137 0138 002B     		cmp	r3, #0
 3138 013a 09D0     		beq	.L139
 945:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 946:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_INEP(epnum)->DIEPDMA = (uint32_t)(ep->dma_addr);
 3139              		.loc 1 946 9
 3140 013c 3B69     		ldr	r3, [r7, #16]
 3141 013e 5A01     		lsls	r2, r3, #5
 3142 0140 7B69     		ldr	r3, [r7, #20]
 3143 0142 1344     		add	r3, r3, r2
 3144 0144 03F51063 		add	r3, r3, #2304
 3145 0148 1A46     		mov	r2, r3
 3146              		.loc 1 946 50
 3147 014a BB68     		ldr	r3, [r7, #8]
 3148 014c 5B69     		ldr	r3, [r3, #20]
 3149              		.loc 1 946 35
 3150 014e 5361     		str	r3, [r2, #20]
 3151              	.L139:
 947:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 948:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 949:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* EP enable, IN data in FIFO */
 950:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL |= (USB_OTG_DIEPCTL_CNAK | USB_OTG_DIEPCTL_EPENA);
 3152              		.loc 1 950 33
 3153 0150 3B69     		ldr	r3, [r7, #16]
 3154 0152 5A01     		lsls	r2, r3, #5
 3155 0154 7B69     		ldr	r3, [r7, #20]
 3156 0156 1344     		add	r3, r3, r2
 3157 0158 03F51063 		add	r3, r3, #2304
 3158 015c 1B68     		ldr	r3, [r3]
 3159 015e 3A69     		ldr	r2, [r7, #16]
 3160 0160 5101     		lsls	r1, r2, #5
 3161 0162 7A69     		ldr	r2, [r7, #20]
 3162 0164 0A44     		add	r2, r2, r1
 3163 0166 02F51062 		add	r2, r2, #2304
 3164 016a 43F00443 		orr	r3, r3, #-2080374784
 3165 016e 1360     		str	r3, [r2]
 3166 0170 97E0     		b	.L140
 3167              	.L138:
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 73


 951:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 952:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
 953:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 954:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* EP enable, IN data in FIFO */
 955:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL |= (USB_OTG_DIEPCTL_CNAK | USB_OTG_DIEPCTL_EPENA);
 3168              		.loc 1 955 33
 3169 0172 3B69     		ldr	r3, [r7, #16]
 3170 0174 5A01     		lsls	r2, r3, #5
 3171 0176 7B69     		ldr	r3, [r7, #20]
 3172 0178 1344     		add	r3, r3, r2
 3173 017a 03F51063 		add	r3, r3, #2304
 3174 017e 1B68     		ldr	r3, [r3]
 3175 0180 3A69     		ldr	r2, [r7, #16]
 3176 0182 5101     		lsls	r1, r2, #5
 3177 0184 7A69     		ldr	r2, [r7, #20]
 3178 0186 0A44     		add	r2, r2, r1
 3179 0188 02F51062 		add	r2, r2, #2304
 3180 018c 43F00443 		orr	r3, r3, #-2080374784
 3181 0190 1360     		str	r3, [r2]
 956:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 957:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Enable the Tx FIFO Empty Interrupt for this EP */
 958:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if (ep->xfer_len > 0U)
 3182              		.loc 1 958 13
 3183 0192 BB68     		ldr	r3, [r7, #8]
 3184 0194 9B69     		ldr	r3, [r3, #24]
 3185              		.loc 1 958 10
 3186 0196 002B     		cmp	r3, #0
 3187 0198 00F08380 		beq	.L140
 959:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 960:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_DEVICE->DIEPEMPMSK |= 1UL << (ep->num & EP_ADDR_MSK);
 3188              		.loc 1 960 33
 3189 019c 7B69     		ldr	r3, [r7, #20]
 3190 019e 03F50063 		add	r3, r3, #2048
 3191 01a2 5A6B     		ldr	r2, [r3, #52]
 3192              		.loc 1 960 46
 3193 01a4 BB68     		ldr	r3, [r7, #8]
 3194 01a6 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3195              		.loc 1 960 52
 3196 01a8 03F00F03 		and	r3, r3, #15
 3197              		.loc 1 960 40
 3198 01ac 0121     		movs	r1, #1
 3199 01ae 01FA03F3 		lsl	r3, r1, r3
 3200              		.loc 1 960 33
 3201 01b2 7969     		ldr	r1, [r7, #20]
 3202 01b4 01F50061 		add	r1, r1, #2048
 3203 01b8 1343     		orrs	r3, r3, r2
 3204 01ba 4B63     		str	r3, [r1, #52]
 3205 01bc 71E0     		b	.L140
 3206              	.L134:
 961:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 962:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 963:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 964:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else /* OUT endpoint */
 965:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 966:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Program the transfer size and packet count as follows:
 967:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     * pktcnt = N
 968:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     * xfersize = N * maxpacket
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 74


 969:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     */
 970:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPTSIZ &= ~(USB_OTG_DOEPTSIZ_XFRSIZ);
 3207              		.loc 1 970 33
 3208 01be 3B69     		ldr	r3, [r7, #16]
 3209 01c0 5A01     		lsls	r2, r3, #5
 3210 01c2 7B69     		ldr	r3, [r7, #20]
 3211 01c4 1344     		add	r3, r3, r2
 3212 01c6 03F53063 		add	r3, r3, #2816
 3213 01ca 1B69     		ldr	r3, [r3, #16]
 3214 01cc 3A69     		ldr	r2, [r7, #16]
 3215 01ce 5101     		lsls	r1, r2, #5
 3216 01d0 7A69     		ldr	r2, [r7, #20]
 3217 01d2 0A44     		add	r2, r2, r1
 3218 01d4 02F53062 		add	r2, r2, #2816
 3219 01d8 DB0C     		lsrs	r3, r3, #19
 3220 01da DB04     		lsls	r3, r3, #19
 3221 01dc 1361     		str	r3, [r2, #16]
 971:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPTSIZ &= ~(USB_OTG_DOEPTSIZ_PKTCNT);
 3222              		.loc 1 971 33
 3223 01de 3B69     		ldr	r3, [r7, #16]
 3224 01e0 5A01     		lsls	r2, r3, #5
 3225 01e2 7B69     		ldr	r3, [r7, #20]
 3226 01e4 1344     		add	r3, r3, r2
 3227 01e6 03F53063 		add	r3, r3, #2816
 3228 01ea 1B69     		ldr	r3, [r3, #16]
 3229 01ec 3A69     		ldr	r2, [r7, #16]
 3230 01ee 5101     		lsls	r1, r2, #5
 3231 01f0 7A69     		ldr	r2, [r7, #20]
 3232 01f2 0A44     		add	r2, r2, r1
 3233 01f4 02F53062 		add	r2, r2, #2816
 3234 01f8 23F0FF53 		bic	r3, r3, #534773760
 3235 01fc 23F4C013 		bic	r3, r3, #1572864
 3236 0200 1361     		str	r3, [r2, #16]
 972:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 973:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (ep->xfer_len > 0U)
 3237              		.loc 1 973 11
 3238 0202 BB68     		ldr	r3, [r7, #8]
 3239 0204 9B69     		ldr	r3, [r3, #24]
 3240              		.loc 1 973 8
 3241 0206 002B     		cmp	r3, #0
 3242 0208 03D0     		beq	.L141
 974:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 975:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       ep->xfer_len = ep->maxpacket;
 3243              		.loc 1 975 24
 3244 020a BB68     		ldr	r3, [r7, #8]
 3245 020c DA68     		ldr	r2, [r3, #12]
 3246              		.loc 1 975 20
 3247 020e BB68     		ldr	r3, [r7, #8]
 3248 0210 9A61     		str	r2, [r3, #24]
 3249              	.L141:
 976:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 977:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 978:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Store transfer size, for EP0 this is equal to endpoint max packet size */
 979:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     ep->xfer_size = ep->maxpacket;
 3250              		.loc 1 979 23
 3251 0212 BB68     		ldr	r3, [r7, #8]
 3252 0214 DA68     		ldr	r2, [r3, #12]
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 75


 3253              		.loc 1 979 19
 3254 0216 BB68     		ldr	r3, [r7, #8]
 3255 0218 DA61     		str	r2, [r3, #28]
 980:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 981:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_PKTCNT & (1U << 19));
 3256              		.loc 1 981 33
 3257 021a 3B69     		ldr	r3, [r7, #16]
 3258 021c 5A01     		lsls	r2, r3, #5
 3259 021e 7B69     		ldr	r3, [r7, #20]
 3260 0220 1344     		add	r3, r3, r2
 3261 0222 03F53063 		add	r3, r3, #2816
 3262 0226 1B69     		ldr	r3, [r3, #16]
 3263 0228 3A69     		ldr	r2, [r7, #16]
 3264 022a 5101     		lsls	r1, r2, #5
 3265 022c 7A69     		ldr	r2, [r7, #20]
 3266 022e 0A44     		add	r2, r2, r1
 3267 0230 02F53062 		add	r2, r2, #2816
 3268 0234 43F40023 		orr	r3, r3, #524288
 3269 0238 1361     		str	r3, [r2, #16]
 982:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_XFRSIZ & ep->xfer_size);
 3270              		.loc 1 982 33
 3271 023a 3B69     		ldr	r3, [r7, #16]
 3272 023c 5A01     		lsls	r2, r3, #5
 3273 023e 7B69     		ldr	r3, [r7, #20]
 3274 0240 1344     		add	r3, r3, r2
 3275 0242 03F53063 		add	r3, r3, #2816
 3276 0246 1A69     		ldr	r2, [r3, #16]
 3277              		.loc 1 982 65
 3278 0248 BB68     		ldr	r3, [r7, #8]
 3279 024a DB69     		ldr	r3, [r3, #28]
 3280              		.loc 1 982 61
 3281 024c C3F31203 		ubfx	r3, r3, #0, #19
 3282              		.loc 1 982 33
 3283 0250 3969     		ldr	r1, [r7, #16]
 3284 0252 4801     		lsls	r0, r1, #5
 3285 0254 7969     		ldr	r1, [r7, #20]
 3286 0256 0144     		add	r1, r1, r0
 3287 0258 01F53061 		add	r1, r1, #2816
 3288 025c 1343     		orrs	r3, r3, r2
 3289 025e 0B61     		str	r3, [r1, #16]
 983:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 984:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (dma == 1U)
 3290              		.loc 1 984 8
 3291 0260 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 3292 0262 012B     		cmp	r3, #1
 3293 0264 0DD1     		bne	.L142
 985:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 986:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if ((uint32_t)ep->xfer_buff != 0U)
 3294              		.loc 1 986 23
 3295 0266 BB68     		ldr	r3, [r7, #8]
 3296 0268 1B69     		ldr	r3, [r3, #16]
 3297              		.loc 1 986 10
 3298 026a 002B     		cmp	r3, #0
 3299 026c 09D0     		beq	.L142
 987:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 988:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_OUTEP(epnum)->DOEPDMA = (uint32_t)(ep->xfer_buff);
 3300              		.loc 1 988 51
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 76


 3301 026e BB68     		ldr	r3, [r7, #8]
 3302 0270 1969     		ldr	r1, [r3, #16]
 3303              		.loc 1 988 9
 3304 0272 3B69     		ldr	r3, [r7, #16]
 3305 0274 5A01     		lsls	r2, r3, #5
 3306 0276 7B69     		ldr	r3, [r7, #20]
 3307 0278 1344     		add	r3, r3, r2
 3308 027a 03F53063 		add	r3, r3, #2816
 3309              		.loc 1 988 38
 3310 027e 0A46     		mov	r2, r1
 3311              		.loc 1 988 36
 3312 0280 5A61     		str	r2, [r3, #20]
 3313              	.L142:
 989:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 990:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 991:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 992:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* EP enable */
 993:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPCTL |= (USB_OTG_DOEPCTL_CNAK | USB_OTG_DOEPCTL_EPENA);
 3314              		.loc 1 993 32
 3315 0282 3B69     		ldr	r3, [r7, #16]
 3316 0284 5A01     		lsls	r2, r3, #5
 3317 0286 7B69     		ldr	r3, [r7, #20]
 3318 0288 1344     		add	r3, r3, r2
 3319 028a 03F53063 		add	r3, r3, #2816
 3320 028e 1B68     		ldr	r3, [r3]
 3321 0290 3A69     		ldr	r2, [r7, #16]
 3322 0292 5101     		lsls	r1, r2, #5
 3323 0294 7A69     		ldr	r2, [r7, #20]
 3324 0296 0A44     		add	r2, r2, r1
 3325 0298 02F53062 		add	r2, r2, #2816
 3326 029c 43F00443 		orr	r3, r3, #-2080374784
 3327 02a0 1360     		str	r3, [r2]
 3328              	.L140:
 994:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 995:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 996:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 3329              		.loc 1 996 10
 3330 02a2 0023     		movs	r3, #0
 997:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3331              		.loc 1 997 1
 3332 02a4 1846     		mov	r0, r3
 3333 02a6 1C37     		adds	r7, r7, #28
 3334              	.LCFI95:
 3335              		.cfi_def_cfa_offset 4
 3336 02a8 BD46     		mov	sp, r7
 3337              	.LCFI96:
 3338              		.cfi_def_cfa_register 13
 3339              		@ sp needed
 3340 02aa 5DF8047B 		ldr	r7, [sp], #4
 3341              	.LCFI97:
 3342              		.cfi_restore 7
 3343              		.cfi_def_cfa_offset 0
 3344 02ae 7047     		bx	lr
 3345              		.cfi_endproc
 3346              	.LFE231:
 3348              		.section	.text.USB_EPStopXfer,"ax",%progbits
 3349              		.align	1
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 77


 3350              		.global	USB_EPStopXfer
 3351              		.syntax unified
 3352              		.thumb
 3353              		.thumb_func
 3355              	USB_EPStopXfer:
 3356              	.LFB232:
 998:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 999:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1000:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1001:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****    * @brief  USB_EPStoptXfer  Stop transfer on an EP
1002:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****    * @param  USBx  usb device instance
1003:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****    * @param  ep pointer to endpoint structure
1004:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****    * @retval HAL status
1005:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****    */
1006:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_EPStopXfer(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep)
1007:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3357              		.loc 1 1007 1
 3358              		.cfi_startproc
 3359              		@ args = 0, pretend = 0, frame = 24
 3360              		@ frame_needed = 1, uses_anonymous_args = 0
 3361              		@ link register save eliminated.
 3362 0000 80B4     		push	{r7}
 3363              	.LCFI98:
 3364              		.cfi_def_cfa_offset 4
 3365              		.cfi_offset 7, -4
 3366 0002 87B0     		sub	sp, sp, #28
 3367              	.LCFI99:
 3368              		.cfi_def_cfa_offset 32
 3369 0004 00AF     		add	r7, sp, #0
 3370              	.LCFI100:
 3371              		.cfi_def_cfa_register 7
 3372 0006 7860     		str	r0, [r7, #4]
 3373 0008 3960     		str	r1, [r7]
1008:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   __IO uint32_t count = 0U;
 3374              		.loc 1 1008 17
 3375 000a 0023     		movs	r3, #0
 3376 000c FB60     		str	r3, [r7, #12]
1009:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HAL_StatusTypeDef ret = HAL_OK;
 3377              		.loc 1 1009 21
 3378 000e 0023     		movs	r3, #0
 3379 0010 FB75     		strb	r3, [r7, #23]
1010:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 3380              		.loc 1 1010 12
 3381 0012 7B68     		ldr	r3, [r7, #4]
 3382 0014 3B61     		str	r3, [r7, #16]
1011:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1012:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* IN endpoint */
1013:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 3383              		.loc 1 1013 9
 3384 0016 3B68     		ldr	r3, [r7]
 3385 0018 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3386              		.loc 1 1013 6
 3387 001a 012B     		cmp	r3, #1
 3388 001c 4AD1     		bne	.L145
1014:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1015:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* EP enable, IN data in FIFO */
1016:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (((USBx_INEP(ep->num)->DIEPCTL) & USB_OTG_DIEPCTL_EPENA) == USB_OTG_DIEPCTL_EPENA)
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 78


 3389              		.loc 1 1016 11
 3390 001e 3B68     		ldr	r3, [r7]
 3391 0020 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3392 0022 5A01     		lsls	r2, r3, #5
 3393 0024 3B69     		ldr	r3, [r7, #16]
 3394 0026 1344     		add	r3, r3, r2
 3395 0028 03F51063 		add	r3, r3, #2304
 3396              		.loc 1 1016 29
 3397 002c 1B68     		ldr	r3, [r3]
 3398              		.loc 1 1016 40
 3399 002e 03F00043 		and	r3, r3, #-2147483648
 3400              		.loc 1 1016 8
 3401 0032 B3F1004F 		cmp	r3, #-2147483648
 3402 0036 40F08680 		bne	.L149
1017:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1018:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPCTL |= (USB_OTG_DIEPCTL_SNAK);
 3403              		.loc 1 1018 7
 3404 003a 3B68     		ldr	r3, [r7]
 3405 003c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3406              		.loc 1 1018 35
 3407 003e 5A01     		lsls	r2, r3, #5
 3408 0040 3B69     		ldr	r3, [r7, #16]
 3409 0042 1344     		add	r3, r3, r2
 3410 0044 03F51063 		add	r3, r3, #2304
 3411 0048 1B68     		ldr	r3, [r3]
 3412              		.loc 1 1018 7
 3413 004a 3A68     		ldr	r2, [r7]
 3414 004c 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 3415              		.loc 1 1018 35
 3416 004e 5101     		lsls	r1, r2, #5
 3417 0050 3A69     		ldr	r2, [r7, #16]
 3418 0052 0A44     		add	r2, r2, r1
 3419 0054 02F51062 		add	r2, r2, #2304
 3420 0058 43F00063 		orr	r3, r3, #134217728
 3421 005c 1360     		str	r3, [r2]
1019:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPCTL |= (USB_OTG_DIEPCTL_EPDIS);
 3422              		.loc 1 1019 7
 3423 005e 3B68     		ldr	r3, [r7]
 3424 0060 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3425              		.loc 1 1019 35
 3426 0062 5A01     		lsls	r2, r3, #5
 3427 0064 3B69     		ldr	r3, [r7, #16]
 3428 0066 1344     		add	r3, r3, r2
 3429 0068 03F51063 		add	r3, r3, #2304
 3430 006c 1B68     		ldr	r3, [r3]
 3431              		.loc 1 1019 7
 3432 006e 3A68     		ldr	r2, [r7]
 3433 0070 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 3434              		.loc 1 1019 35
 3435 0072 5101     		lsls	r1, r2, #5
 3436 0074 3A69     		ldr	r2, [r7, #16]
 3437 0076 0A44     		add	r2, r2, r1
 3438 0078 02F51062 		add	r2, r2, #2304
 3439 007c 43F08043 		orr	r3, r3, #1073741824
 3440 0080 1360     		str	r3, [r2]
 3441              	.L148:
1020:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 79


1021:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       do
1022:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
1023:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         count++;
 3442              		.loc 1 1023 14
 3443 0082 FB68     		ldr	r3, [r7, #12]
 3444 0084 0133     		adds	r3, r3, #1
 3445 0086 FB60     		str	r3, [r7, #12]
1024:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1025:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         if (count > 10000U)
 3446              		.loc 1 1025 19
 3447 0088 FB68     		ldr	r3, [r7, #12]
 3448              		.loc 1 1025 12
 3449 008a 42F21072 		movw	r2, #10000
 3450 008e 9342     		cmp	r3, r2
 3451 0090 02D9     		bls	.L147
1026:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
1027:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           ret = HAL_ERROR;
 3452              		.loc 1 1027 15
 3453 0092 0123     		movs	r3, #1
 3454 0094 FB75     		strb	r3, [r7, #23]
1028:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           break;
 3455              		.loc 1 1028 11
 3456 0096 56E0     		b	.L149
 3457              	.L147:
1029:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
1030:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       } while (((USBx_INEP(ep->num)->DIEPCTL) & USB_OTG_DIEPCTL_EPENA) ==  USB_OTG_DIEPCTL_EPENA);
 3458              		.loc 1 1030 18
 3459 0098 3B68     		ldr	r3, [r7]
 3460 009a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3461 009c 5A01     		lsls	r2, r3, #5
 3462 009e 3B69     		ldr	r3, [r7, #16]
 3463 00a0 1344     		add	r3, r3, r2
 3464 00a2 03F51063 		add	r3, r3, #2304
 3465              		.loc 1 1030 36
 3466 00a6 1B68     		ldr	r3, [r3]
 3467              		.loc 1 1030 47
 3468 00a8 03F00043 		and	r3, r3, #-2147483648
 3469              		.loc 1 1030 72
 3470 00ac B3F1004F 		cmp	r3, #-2147483648
 3471 00b0 E7D0     		beq	.L148
 3472 00b2 48E0     		b	.L149
 3473              	.L145:
1031:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1032:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1033:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else /* OUT endpoint */
1034:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1035:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (((USBx_OUTEP(ep->num)->DOEPCTL) & USB_OTG_DOEPCTL_EPENA) == USB_OTG_DOEPCTL_EPENA)
 3474              		.loc 1 1035 11
 3475 00b4 3B68     		ldr	r3, [r7]
 3476 00b6 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3477 00b8 5A01     		lsls	r2, r3, #5
 3478 00ba 3B69     		ldr	r3, [r7, #16]
 3479 00bc 1344     		add	r3, r3, r2
 3480 00be 03F53063 		add	r3, r3, #2816
 3481              		.loc 1 1035 30
 3482 00c2 1B68     		ldr	r3, [r3]
 3483              		.loc 1 1035 41
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 80


 3484 00c4 03F00043 		and	r3, r3, #-2147483648
 3485              		.loc 1 1035 8
 3486 00c8 B3F1004F 		cmp	r3, #-2147483648
 3487 00cc 3BD1     		bne	.L149
1036:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1037:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(ep->num)->DOEPCTL |= (USB_OTG_DOEPCTL_SNAK);
 3488              		.loc 1 1037 7
 3489 00ce 3B68     		ldr	r3, [r7]
 3490 00d0 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3491              		.loc 1 1037 36
 3492 00d2 5A01     		lsls	r2, r3, #5
 3493 00d4 3B69     		ldr	r3, [r7, #16]
 3494 00d6 1344     		add	r3, r3, r2
 3495 00d8 03F53063 		add	r3, r3, #2816
 3496 00dc 1B68     		ldr	r3, [r3]
 3497              		.loc 1 1037 7
 3498 00de 3A68     		ldr	r2, [r7]
 3499 00e0 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 3500              		.loc 1 1037 36
 3501 00e2 5101     		lsls	r1, r2, #5
 3502 00e4 3A69     		ldr	r2, [r7, #16]
 3503 00e6 0A44     		add	r2, r2, r1
 3504 00e8 02F53062 		add	r2, r2, #2816
 3505 00ec 43F00063 		orr	r3, r3, #134217728
 3506 00f0 1360     		str	r3, [r2]
1038:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(ep->num)->DOEPCTL |= (USB_OTG_DOEPCTL_EPDIS);
 3507              		.loc 1 1038 7
 3508 00f2 3B68     		ldr	r3, [r7]
 3509 00f4 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3510              		.loc 1 1038 36
 3511 00f6 5A01     		lsls	r2, r3, #5
 3512 00f8 3B69     		ldr	r3, [r7, #16]
 3513 00fa 1344     		add	r3, r3, r2
 3514 00fc 03F53063 		add	r3, r3, #2816
 3515 0100 1B68     		ldr	r3, [r3]
 3516              		.loc 1 1038 7
 3517 0102 3A68     		ldr	r2, [r7]
 3518 0104 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 3519              		.loc 1 1038 36
 3520 0106 5101     		lsls	r1, r2, #5
 3521 0108 3A69     		ldr	r2, [r7, #16]
 3522 010a 0A44     		add	r2, r2, r1
 3523 010c 02F53062 		add	r2, r2, #2816
 3524 0110 43F08043 		orr	r3, r3, #1073741824
 3525 0114 1360     		str	r3, [r2]
 3526              	.L151:
1039:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1040:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       do
1041:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
1042:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         count++;
 3527              		.loc 1 1042 14
 3528 0116 FB68     		ldr	r3, [r7, #12]
 3529 0118 0133     		adds	r3, r3, #1
 3530 011a FB60     		str	r3, [r7, #12]
1043:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1044:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         if (count > 10000U)
 3531              		.loc 1 1044 19
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 81


 3532 011c FB68     		ldr	r3, [r7, #12]
 3533              		.loc 1 1044 12
 3534 011e 42F21072 		movw	r2, #10000
 3535 0122 9342     		cmp	r3, r2
 3536 0124 02D9     		bls	.L150
1045:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
1046:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           ret = HAL_ERROR;
 3537              		.loc 1 1046 15
 3538 0126 0123     		movs	r3, #1
 3539 0128 FB75     		strb	r3, [r7, #23]
1047:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           break;
 3540              		.loc 1 1047 11
 3541 012a 0CE0     		b	.L149
 3542              	.L150:
1048:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
1049:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       } while (((USBx_OUTEP(ep->num)->DOEPCTL) & USB_OTG_DOEPCTL_EPENA) ==  USB_OTG_DOEPCTL_EPENA);
 3543              		.loc 1 1049 18
 3544 012c 3B68     		ldr	r3, [r7]
 3545 012e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3546 0130 5A01     		lsls	r2, r3, #5
 3547 0132 3B69     		ldr	r3, [r7, #16]
 3548 0134 1344     		add	r3, r3, r2
 3549 0136 03F53063 		add	r3, r3, #2816
 3550              		.loc 1 1049 37
 3551 013a 1B68     		ldr	r3, [r3]
 3552              		.loc 1 1049 48
 3553 013c 03F00043 		and	r3, r3, #-2147483648
 3554              		.loc 1 1049 73
 3555 0140 B3F1004F 		cmp	r3, #-2147483648
 3556 0144 E7D0     		beq	.L151
 3557              	.L149:
1050:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1051:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1052:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1053:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ret;
 3558              		.loc 1 1053 10
 3559 0146 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
1054:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3560              		.loc 1 1054 1
 3561 0148 1846     		mov	r0, r3
 3562 014a 1C37     		adds	r7, r7, #28
 3563              	.LCFI101:
 3564              		.cfi_def_cfa_offset 4
 3565 014c BD46     		mov	sp, r7
 3566              	.LCFI102:
 3567              		.cfi_def_cfa_register 13
 3568              		@ sp needed
 3569 014e 5DF8047B 		ldr	r7, [sp], #4
 3570              	.LCFI103:
 3571              		.cfi_restore 7
 3572              		.cfi_def_cfa_offset 0
 3573 0152 7047     		bx	lr
 3574              		.cfi_endproc
 3575              	.LFE232:
 3577              		.section	.text.USB_WritePacket,"ax",%progbits
 3578              		.align	1
 3579              		.global	USB_WritePacket
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 82


 3580              		.syntax unified
 3581              		.thumb
 3582              		.thumb_func
 3584              	USB_WritePacket:
 3585              	.LFB233:
1055:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1056:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1057:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1058:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_WritePacket : Writes a packet into the Tx FIFO associated
1059:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         with the EP/channel
1060:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1061:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  src   pointer to source buffer
1062:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ch_ep_num  endpoint or host channel number
1063:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  len  Number of bytes to write
1064:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  dma USB dma enabled or disabled
1065:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
1066:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           0 : DMA feature not used
1067:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           1 : DMA feature used
1068:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1069:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1070:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_WritePacket(USB_OTG_GlobalTypeDef *USBx, uint8_t *src,
1071:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                   uint8_t ch_ep_num, uint16_t len, uint8_t dma)
1072:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3586              		.loc 1 1072 1
 3587              		.cfi_startproc
 3588              		@ args = 4, pretend = 0, frame = 32
 3589              		@ frame_needed = 1, uses_anonymous_args = 0
 3590              		@ link register save eliminated.
 3591 0000 80B4     		push	{r7}
 3592              	.LCFI104:
 3593              		.cfi_def_cfa_offset 4
 3594              		.cfi_offset 7, -4
 3595 0002 89B0     		sub	sp, sp, #36
 3596              	.LCFI105:
 3597              		.cfi_def_cfa_offset 40
 3598 0004 00AF     		add	r7, sp, #0
 3599              	.LCFI106:
 3600              		.cfi_def_cfa_register 7
 3601 0006 F860     		str	r0, [r7, #12]
 3602 0008 B960     		str	r1, [r7, #8]
 3603 000a 1146     		mov	r1, r2
 3604 000c 1A46     		mov	r2, r3
 3605 000e 0B46     		mov	r3, r1
 3606 0010 FB71     		strb	r3, [r7, #7]
 3607 0012 1346     		mov	r3, r2	@ movhi
 3608 0014 BB80     		strh	r3, [r7, #4]	@ movhi
1073:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 3609              		.loc 1 1073 12
 3610 0016 FB68     		ldr	r3, [r7, #12]
 3611 0018 7B61     		str	r3, [r7, #20]
1074:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint8_t *pSrc = src;
 3612              		.loc 1 1074 12
 3613 001a BB68     		ldr	r3, [r7, #8]
 3614 001c FB61     		str	r3, [r7, #28]
1075:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t count32b;
1076:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t i;
1077:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 83


1078:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (dma == 0U)
 3615              		.loc 1 1078 6
 3616 001e 97F82830 		ldrb	r3, [r7, #40]	@ zero_extendqisi2
 3617 0022 002B     		cmp	r3, #0
 3618 0024 23D1     		bne	.L154
1079:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1080:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     count32b = ((uint32_t)len + 3U) / 4U;
 3619              		.loc 1 1080 17
 3620 0026 BB88     		ldrh	r3, [r7, #4]
 3621              		.loc 1 1080 31
 3622 0028 0333     		adds	r3, r3, #3
 3623              		.loc 1 1080 14
 3624 002a 9B08     		lsrs	r3, r3, #2
 3625 002c 3B61     		str	r3, [r7, #16]
1081:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     for (i = 0U; i < count32b; i++)
 3626              		.loc 1 1081 12
 3627 002e 0023     		movs	r3, #0
 3628 0030 BB61     		str	r3, [r7, #24]
 3629              		.loc 1 1081 5
 3630 0032 18E0     		b	.L155
 3631              	.L156:
1082:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1083:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_DFIFO((uint32_t)ch_ep_num) = __UNALIGNED_UINT32_READ(pSrc);
 3632              		.loc 1 1083 7 discriminator 3
 3633 0034 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 3634 0036 1A03     		lsls	r2, r3, #12
 3635 0038 7B69     		ldr	r3, [r7, #20]
 3636 003a 1344     		add	r3, r3, r2
 3637 003c 03F58053 		add	r3, r3, #4096
 3638 0040 1A46     		mov	r2, r3
 3639              		.loc 1 1083 41 discriminator 3
 3640 0042 FB69     		ldr	r3, [r7, #28]
 3641 0044 1B68     		ldr	r3, [r3]	@ unaligned
 3642              		.loc 1 1083 39 discriminator 3
 3643 0046 1360     		str	r3, [r2]
1084:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       pSrc++;
 3644              		.loc 1 1084 11 discriminator 3
 3645 0048 FB69     		ldr	r3, [r7, #28]
 3646 004a 0133     		adds	r3, r3, #1
 3647 004c FB61     		str	r3, [r7, #28]
1085:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       pSrc++;
 3648              		.loc 1 1085 11 discriminator 3
 3649 004e FB69     		ldr	r3, [r7, #28]
 3650 0050 0133     		adds	r3, r3, #1
 3651 0052 FB61     		str	r3, [r7, #28]
1086:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       pSrc++;
 3652              		.loc 1 1086 11 discriminator 3
 3653 0054 FB69     		ldr	r3, [r7, #28]
 3654 0056 0133     		adds	r3, r3, #1
 3655 0058 FB61     		str	r3, [r7, #28]
1087:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       pSrc++;
 3656              		.loc 1 1087 11 discriminator 3
 3657 005a FB69     		ldr	r3, [r7, #28]
 3658 005c 0133     		adds	r3, r3, #1
 3659 005e FB61     		str	r3, [r7, #28]
1081:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 3660              		.loc 1 1081 33 discriminator 3
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 84


 3661 0060 BB69     		ldr	r3, [r7, #24]
 3662 0062 0133     		adds	r3, r3, #1
 3663 0064 BB61     		str	r3, [r7, #24]
 3664              	.L155:
1081:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 3665              		.loc 1 1081 20 discriminator 1
 3666 0066 BA69     		ldr	r2, [r7, #24]
 3667 0068 3B69     		ldr	r3, [r7, #16]
 3668 006a 9A42     		cmp	r2, r3
 3669 006c E2D3     		bcc	.L156
 3670              	.L154:
1088:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1089:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1090:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1091:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 3671              		.loc 1 1091 10
 3672 006e 0023     		movs	r3, #0
1092:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3673              		.loc 1 1092 1
 3674 0070 1846     		mov	r0, r3
 3675 0072 2437     		adds	r7, r7, #36
 3676              	.LCFI107:
 3677              		.cfi_def_cfa_offset 4
 3678 0074 BD46     		mov	sp, r7
 3679              	.LCFI108:
 3680              		.cfi_def_cfa_register 13
 3681              		@ sp needed
 3682 0076 5DF8047B 		ldr	r7, [sp], #4
 3683              	.LCFI109:
 3684              		.cfi_restore 7
 3685              		.cfi_def_cfa_offset 0
 3686 007a 7047     		bx	lr
 3687              		.cfi_endproc
 3688              	.LFE233:
 3690              		.section	.text.USB_ReadPacket,"ax",%progbits
 3691              		.align	1
 3692              		.global	USB_ReadPacket
 3693              		.syntax unified
 3694              		.thumb
 3695              		.thumb_func
 3697              	USB_ReadPacket:
 3698              	.LFB234:
1093:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1094:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1095:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_ReadPacket : read a packet from the RX FIFO
1096:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1097:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  dest  source pointer
1098:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  len  Number of bytes to read
1099:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval pointer to destination buffer
1100:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1101:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** void *USB_ReadPacket(USB_OTG_GlobalTypeDef *USBx, uint8_t *dest, uint16_t len)
1102:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3699              		.loc 1 1102 1
 3700              		.cfi_startproc
 3701              		@ args = 0, pretend = 0, frame = 40
 3702              		@ frame_needed = 1, uses_anonymous_args = 0
 3703              		@ link register save eliminated.
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 85


 3704 0000 80B4     		push	{r7}
 3705              	.LCFI110:
 3706              		.cfi_def_cfa_offset 4
 3707              		.cfi_offset 7, -4
 3708 0002 8BB0     		sub	sp, sp, #44
 3709              	.LCFI111:
 3710              		.cfi_def_cfa_offset 48
 3711 0004 00AF     		add	r7, sp, #0
 3712              	.LCFI112:
 3713              		.cfi_def_cfa_register 7
 3714 0006 F860     		str	r0, [r7, #12]
 3715 0008 B960     		str	r1, [r7, #8]
 3716 000a 1346     		mov	r3, r2
 3717 000c FB80     		strh	r3, [r7, #6]	@ movhi
1103:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 3718              		.loc 1 1103 12
 3719 000e FB68     		ldr	r3, [r7, #12]
 3720 0010 BB61     		str	r3, [r7, #24]
1104:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint8_t *pDest = dest;
 3721              		.loc 1 1104 12
 3722 0012 BB68     		ldr	r3, [r7, #8]
 3723 0014 7B62     		str	r3, [r7, #36]
1105:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t pData;
1106:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t i;
1107:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t count32b = (uint32_t)len >> 2U;
 3724              		.loc 1 1107 37
 3725 0016 FB88     		ldrh	r3, [r7, #6]
 3726 0018 9B08     		lsrs	r3, r3, #2
 3727 001a 9BB2     		uxth	r3, r3
 3728              		.loc 1 1107 12
 3729 001c 7B61     		str	r3, [r7, #20]
1108:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint16_t remaining_bytes = len % 4U;
 3730              		.loc 1 1108 12
 3731 001e FB88     		ldrh	r3, [r7, #6]	@ movhi
 3732 0020 03F00303 		and	r3, r3, #3
 3733 0024 FB83     		strh	r3, [r7, #30]	@ movhi
1109:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1110:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   for (i = 0U; i < count32b; i++)
 3734              		.loc 1 1110 10
 3735 0026 0023     		movs	r3, #0
 3736 0028 3B62     		str	r3, [r7, #32]
 3737              		.loc 1 1110 3
 3738 002a 14E0     		b	.L159
 3739              	.L160:
1111:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1112:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     __UNALIGNED_UINT32_WRITE(pDest, USBx_DFIFO(0U));
 3740              		.loc 1 1112 5 discriminator 3
 3741 002c BB69     		ldr	r3, [r7, #24]
 3742 002e 03F58053 		add	r3, r3, #4096
 3743 0032 1A68     		ldr	r2, [r3]
 3744 0034 7B6A     		ldr	r3, [r7, #36]
 3745 0036 1A60     		str	r2, [r3]	@ unaligned
1113:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     pDest++;
 3746              		.loc 1 1113 10 discriminator 3
 3747 0038 7B6A     		ldr	r3, [r7, #36]
 3748 003a 0133     		adds	r3, r3, #1
 3749 003c 7B62     		str	r3, [r7, #36]
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 86


1114:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     pDest++;
 3750              		.loc 1 1114 10 discriminator 3
 3751 003e 7B6A     		ldr	r3, [r7, #36]
 3752 0040 0133     		adds	r3, r3, #1
 3753 0042 7B62     		str	r3, [r7, #36]
1115:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     pDest++;
 3754              		.loc 1 1115 10 discriminator 3
 3755 0044 7B6A     		ldr	r3, [r7, #36]
 3756 0046 0133     		adds	r3, r3, #1
 3757 0048 7B62     		str	r3, [r7, #36]
1116:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     pDest++;
 3758              		.loc 1 1116 10 discriminator 3
 3759 004a 7B6A     		ldr	r3, [r7, #36]
 3760 004c 0133     		adds	r3, r3, #1
 3761 004e 7B62     		str	r3, [r7, #36]
1110:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 3762              		.loc 1 1110 31 discriminator 3
 3763 0050 3B6A     		ldr	r3, [r7, #32]
 3764 0052 0133     		adds	r3, r3, #1
 3765 0054 3B62     		str	r3, [r7, #32]
 3766              	.L159:
1110:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 3767              		.loc 1 1110 18 discriminator 1
 3768 0056 3A6A     		ldr	r2, [r7, #32]
 3769 0058 7B69     		ldr	r3, [r7, #20]
 3770 005a 9A42     		cmp	r2, r3
 3771 005c E6D3     		bcc	.L160
1117:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1118:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1119:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* When Number of data is not word aligned, read the remaining byte */
1120:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (remaining_bytes != 0U)
 3772              		.loc 1 1120 6
 3773 005e FB8B     		ldrh	r3, [r7, #30]
 3774 0060 002B     		cmp	r3, #0
 3775 0062 1ED0     		beq	.L161
1121:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1122:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     i = 0U;
 3776              		.loc 1 1122 7
 3777 0064 0023     		movs	r3, #0
 3778 0066 3B62     		str	r3, [r7, #32]
1123:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     __UNALIGNED_UINT32_WRITE(&pData, USBx_DFIFO(0U));
 3779              		.loc 1 1123 5
 3780 0068 BB69     		ldr	r3, [r7, #24]
 3781 006a 03F58053 		add	r3, r3, #4096
 3782 006e 1A46     		mov	r2, r3
 3783 0070 07F11003 		add	r3, r7, #16
 3784 0074 1268     		ldr	r2, [r2]
 3785 0076 1A60     		str	r2, [r3]	@ unaligned
 3786              	.L162:
1124:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1125:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     do
1126:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1127:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       *(uint8_t *)pDest = (uint8_t)(pData >> (8U * (uint8_t)(i)));
 3787              		.loc 1 1127 43 discriminator 1
 3788 0078 3A69     		ldr	r2, [r7, #16]
 3789              		.loc 1 1127 52 discriminator 1
 3790 007a 3B6A     		ldr	r3, [r7, #32]
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 87


 3791 007c DBB2     		uxtb	r3, r3
 3792              		.loc 1 1127 50 discriminator 1
 3793 007e DB00     		lsls	r3, r3, #3
 3794              		.loc 1 1127 43 discriminator 1
 3795 0080 22FA03F3 		lsr	r3, r2, r3
 3796              		.loc 1 1127 27 discriminator 1
 3797 0084 DAB2     		uxtb	r2, r3
 3798              		.loc 1 1127 25 discriminator 1
 3799 0086 7B6A     		ldr	r3, [r7, #36]
 3800 0088 1A70     		strb	r2, [r3]
1128:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       i++;
 3801              		.loc 1 1128 8 discriminator 1
 3802 008a 3B6A     		ldr	r3, [r7, #32]
 3803 008c 0133     		adds	r3, r3, #1
 3804 008e 3B62     		str	r3, [r7, #32]
1129:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       pDest++;
 3805              		.loc 1 1129 12 discriminator 1
 3806 0090 7B6A     		ldr	r3, [r7, #36]
 3807 0092 0133     		adds	r3, r3, #1
 3808 0094 7B62     		str	r3, [r7, #36]
1130:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       remaining_bytes--;
 3809              		.loc 1 1130 22 discriminator 1
 3810 0096 FB8B     		ldrh	r3, [r7, #30]
 3811 0098 013B     		subs	r3, r3, #1
 3812 009a FB83     		strh	r3, [r7, #30]	@ movhi
1131:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     } while (remaining_bytes != 0U);
 3813              		.loc 1 1131 30 discriminator 1
 3814 009c FB8B     		ldrh	r3, [r7, #30]
 3815 009e 002B     		cmp	r3, #0
 3816 00a0 EAD1     		bne	.L162
 3817              	.L161:
1132:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1133:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1134:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ((void *)pDest);
 3818              		.loc 1 1134 11
 3819 00a2 7B6A     		ldr	r3, [r7, #36]
1135:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3820              		.loc 1 1135 1
 3821 00a4 1846     		mov	r0, r3
 3822 00a6 2C37     		adds	r7, r7, #44
 3823              	.LCFI113:
 3824              		.cfi_def_cfa_offset 4
 3825 00a8 BD46     		mov	sp, r7
 3826              	.LCFI114:
 3827              		.cfi_def_cfa_register 13
 3828              		@ sp needed
 3829 00aa 5DF8047B 		ldr	r7, [sp], #4
 3830              	.LCFI115:
 3831              		.cfi_restore 7
 3832              		.cfi_def_cfa_offset 0
 3833 00ae 7047     		bx	lr
 3834              		.cfi_endproc
 3835              	.LFE234:
 3837              		.section	.text.USB_EPSetStall,"ax",%progbits
 3838              		.align	1
 3839              		.global	USB_EPSetStall
 3840              		.syntax unified
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 88


 3841              		.thumb
 3842              		.thumb_func
 3844              	USB_EPSetStall:
 3845              	.LFB235:
1136:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1137:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1138:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_EPSetStall : set a stall condition over an EP
1139:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1140:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
1141:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1142:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1143:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_EPSetStall(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep)
1144:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3846              		.loc 1 1144 1
 3847              		.cfi_startproc
 3848              		@ args = 0, pretend = 0, frame = 16
 3849              		@ frame_needed = 1, uses_anonymous_args = 0
 3850              		@ link register save eliminated.
 3851 0000 80B4     		push	{r7}
 3852              	.LCFI116:
 3853              		.cfi_def_cfa_offset 4
 3854              		.cfi_offset 7, -4
 3855 0002 85B0     		sub	sp, sp, #20
 3856              	.LCFI117:
 3857              		.cfi_def_cfa_offset 24
 3858 0004 00AF     		add	r7, sp, #0
 3859              	.LCFI118:
 3860              		.cfi_def_cfa_register 7
 3861 0006 7860     		str	r0, [r7, #4]
 3862 0008 3960     		str	r1, [r7]
1145:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 3863              		.loc 1 1145 12
 3864 000a 7B68     		ldr	r3, [r7, #4]
 3865 000c FB60     		str	r3, [r7, #12]
1146:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
 3866              		.loc 1 1146 32
 3867 000e 3B68     		ldr	r3, [r7]
 3868 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3869              		.loc 1 1146 12
 3870 0012 BB60     		str	r3, [r7, #8]
1147:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1148:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 3871              		.loc 1 1148 9
 3872 0014 3B68     		ldr	r3, [r7]
 3873 0016 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3874              		.loc 1 1148 6
 3875 0018 012B     		cmp	r3, #1
 3876 001a 2CD1     		bne	.L165
1149:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1150:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (((USBx_INEP(epnum)->DIEPCTL & USB_OTG_DIEPCTL_EPENA) == 0U) && (epnum != 0U))
 3877              		.loc 1 1150 11
 3878 001c BB68     		ldr	r3, [r7, #8]
 3879 001e 5A01     		lsls	r2, r3, #5
 3880 0020 FB68     		ldr	r3, [r7, #12]
 3881 0022 1344     		add	r3, r3, r2
 3882 0024 03F51063 		add	r3, r3, #2304
 3883              		.loc 1 1150 27
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 89


 3884 0028 1B68     		ldr	r3, [r3]
 3885              		.loc 1 1150 8
 3886 002a 002B     		cmp	r3, #0
 3887 002c 12DB     		blt	.L166
 3888              		.loc 1 1150 69 discriminator 1
 3889 002e BB68     		ldr	r3, [r7, #8]
 3890 0030 002B     		cmp	r3, #0
 3891 0032 0FD0     		beq	.L166
1151:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1152:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL &= ~(USB_OTG_DIEPCTL_EPDIS);
 3892              		.loc 1 1152 33
 3893 0034 BB68     		ldr	r3, [r7, #8]
 3894 0036 5A01     		lsls	r2, r3, #5
 3895 0038 FB68     		ldr	r3, [r7, #12]
 3896 003a 1344     		add	r3, r3, r2
 3897 003c 03F51063 		add	r3, r3, #2304
 3898 0040 1B68     		ldr	r3, [r3]
 3899 0042 BA68     		ldr	r2, [r7, #8]
 3900 0044 5101     		lsls	r1, r2, #5
 3901 0046 FA68     		ldr	r2, [r7, #12]
 3902 0048 0A44     		add	r2, r2, r1
 3903 004a 02F51062 		add	r2, r2, #2304
 3904 004e 23F08043 		bic	r3, r3, #1073741824
 3905 0052 1360     		str	r3, [r2]
 3906              	.L166:
1153:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1154:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(epnum)->DIEPCTL |= USB_OTG_DIEPCTL_STALL;
 3907              		.loc 1 1154 31
 3908 0054 BB68     		ldr	r3, [r7, #8]
 3909 0056 5A01     		lsls	r2, r3, #5
 3910 0058 FB68     		ldr	r3, [r7, #12]
 3911 005a 1344     		add	r3, r3, r2
 3912 005c 03F51063 		add	r3, r3, #2304
 3913 0060 1B68     		ldr	r3, [r3]
 3914 0062 BA68     		ldr	r2, [r7, #8]
 3915 0064 5101     		lsls	r1, r2, #5
 3916 0066 FA68     		ldr	r2, [r7, #12]
 3917 0068 0A44     		add	r2, r2, r1
 3918 006a 02F51062 		add	r2, r2, #2304
 3919 006e 43F40013 		orr	r3, r3, #2097152
 3920 0072 1360     		str	r3, [r2]
 3921 0074 2BE0     		b	.L167
 3922              	.L165:
1155:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1156:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
1157:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1158:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (((USBx_OUTEP(epnum)->DOEPCTL & USB_OTG_DOEPCTL_EPENA) == 0U) && (epnum != 0U))
 3923              		.loc 1 1158 11
 3924 0076 BB68     		ldr	r3, [r7, #8]
 3925 0078 5A01     		lsls	r2, r3, #5
 3926 007a FB68     		ldr	r3, [r7, #12]
 3927 007c 1344     		add	r3, r3, r2
 3928 007e 03F53063 		add	r3, r3, #2816
 3929              		.loc 1 1158 28
 3930 0082 1B68     		ldr	r3, [r3]
 3931              		.loc 1 1158 8
 3932 0084 002B     		cmp	r3, #0
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 90


 3933 0086 12DB     		blt	.L168
 3934              		.loc 1 1158 70 discriminator 1
 3935 0088 BB68     		ldr	r3, [r7, #8]
 3936 008a 002B     		cmp	r3, #0
 3937 008c 0FD0     		beq	.L168
1159:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1160:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPCTL &= ~(USB_OTG_DOEPCTL_EPDIS);
 3938              		.loc 1 1160 34
 3939 008e BB68     		ldr	r3, [r7, #8]
 3940 0090 5A01     		lsls	r2, r3, #5
 3941 0092 FB68     		ldr	r3, [r7, #12]
 3942 0094 1344     		add	r3, r3, r2
 3943 0096 03F53063 		add	r3, r3, #2816
 3944 009a 1B68     		ldr	r3, [r3]
 3945 009c BA68     		ldr	r2, [r7, #8]
 3946 009e 5101     		lsls	r1, r2, #5
 3947 00a0 FA68     		ldr	r2, [r7, #12]
 3948 00a2 0A44     		add	r2, r2, r1
 3949 00a4 02F53062 		add	r2, r2, #2816
 3950 00a8 23F08043 		bic	r3, r3, #1073741824
 3951 00ac 1360     		str	r3, [r2]
 3952              	.L168:
1161:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1162:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPCTL |= USB_OTG_DOEPCTL_STALL;
 3953              		.loc 1 1162 32
 3954 00ae BB68     		ldr	r3, [r7, #8]
 3955 00b0 5A01     		lsls	r2, r3, #5
 3956 00b2 FB68     		ldr	r3, [r7, #12]
 3957 00b4 1344     		add	r3, r3, r2
 3958 00b6 03F53063 		add	r3, r3, #2816
 3959 00ba 1B68     		ldr	r3, [r3]
 3960 00bc BA68     		ldr	r2, [r7, #8]
 3961 00be 5101     		lsls	r1, r2, #5
 3962 00c0 FA68     		ldr	r2, [r7, #12]
 3963 00c2 0A44     		add	r2, r2, r1
 3964 00c4 02F53062 		add	r2, r2, #2816
 3965 00c8 43F40013 		orr	r3, r3, #2097152
 3966 00cc 1360     		str	r3, [r2]
 3967              	.L167:
1163:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1164:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1165:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 3968              		.loc 1 1165 10
 3969 00ce 0023     		movs	r3, #0
1166:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3970              		.loc 1 1166 1
 3971 00d0 1846     		mov	r0, r3
 3972 00d2 1437     		adds	r7, r7, #20
 3973              	.LCFI119:
 3974              		.cfi_def_cfa_offset 4
 3975 00d4 BD46     		mov	sp, r7
 3976              	.LCFI120:
 3977              		.cfi_def_cfa_register 13
 3978              		@ sp needed
 3979 00d6 5DF8047B 		ldr	r7, [sp], #4
 3980              	.LCFI121:
 3981              		.cfi_restore 7
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 91


 3982              		.cfi_def_cfa_offset 0
 3983 00da 7047     		bx	lr
 3984              		.cfi_endproc
 3985              	.LFE235:
 3987              		.section	.text.USB_EPClearStall,"ax",%progbits
 3988              		.align	1
 3989              		.global	USB_EPClearStall
 3990              		.syntax unified
 3991              		.thumb
 3992              		.thumb_func
 3994              	USB_EPClearStall:
 3995              	.LFB236:
1167:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1168:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1169:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_EPClearStall : Clear a stall condition over an EP
1170:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1171:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
1172:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1173:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1174:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_EPClearStall(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep)
1175:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3996              		.loc 1 1175 1
 3997              		.cfi_startproc
 3998              		@ args = 0, pretend = 0, frame = 16
 3999              		@ frame_needed = 1, uses_anonymous_args = 0
 4000              		@ link register save eliminated.
 4001 0000 80B4     		push	{r7}
 4002              	.LCFI122:
 4003              		.cfi_def_cfa_offset 4
 4004              		.cfi_offset 7, -4
 4005 0002 85B0     		sub	sp, sp, #20
 4006              	.LCFI123:
 4007              		.cfi_def_cfa_offset 24
 4008 0004 00AF     		add	r7, sp, #0
 4009              	.LCFI124:
 4010              		.cfi_def_cfa_register 7
 4011 0006 7860     		str	r0, [r7, #4]
 4012 0008 3960     		str	r1, [r7]
1176:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4013              		.loc 1 1176 12
 4014 000a 7B68     		ldr	r3, [r7, #4]
 4015 000c FB60     		str	r3, [r7, #12]
1177:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
 4016              		.loc 1 1177 32
 4017 000e 3B68     		ldr	r3, [r7]
 4018 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4019              		.loc 1 1177 12
 4020 0012 BB60     		str	r3, [r7, #8]
1178:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1179:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 4021              		.loc 1 1179 9
 4022 0014 3B68     		ldr	r3, [r7]
 4023 0016 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 4024              		.loc 1 1179 6
 4025 0018 012B     		cmp	r3, #1
 4026 001a 28D1     		bne	.L171
1180:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 92


1181:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(epnum)->DIEPCTL &= ~USB_OTG_DIEPCTL_STALL;
 4027              		.loc 1 1181 31
 4028 001c BB68     		ldr	r3, [r7, #8]
 4029 001e 5A01     		lsls	r2, r3, #5
 4030 0020 FB68     		ldr	r3, [r7, #12]
 4031 0022 1344     		add	r3, r3, r2
 4032 0024 03F51063 		add	r3, r3, #2304
 4033 0028 1B68     		ldr	r3, [r3]
 4034 002a BA68     		ldr	r2, [r7, #8]
 4035 002c 5101     		lsls	r1, r2, #5
 4036 002e FA68     		ldr	r2, [r7, #12]
 4037 0030 0A44     		add	r2, r2, r1
 4038 0032 02F51062 		add	r2, r2, #2304
 4039 0036 23F40013 		bic	r3, r3, #2097152
 4040 003a 1360     		str	r3, [r2]
1182:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((ep->type == EP_TYPE_INTR) || (ep->type == EP_TYPE_BULK))
 4041              		.loc 1 1182 12
 4042 003c 3B68     		ldr	r3, [r7]
 4043 003e 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 4044              		.loc 1 1182 8
 4045 0040 032B     		cmp	r3, #3
 4046 0042 03D0     		beq	.L172
 4047              		.loc 1 1182 42 discriminator 1
 4048 0044 3B68     		ldr	r3, [r7]
 4049 0046 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 4050              		.loc 1 1182 36 discriminator 1
 4051 0048 022B     		cmp	r3, #2
 4052 004a 38D1     		bne	.L173
 4053              	.L172:
1183:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1184:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL |= USB_OTG_DIEPCTL_SD0PID_SEVNFRM; /* DATA0 */
 4054              		.loc 1 1184 33
 4055 004c BB68     		ldr	r3, [r7, #8]
 4056 004e 5A01     		lsls	r2, r3, #5
 4057 0050 FB68     		ldr	r3, [r7, #12]
 4058 0052 1344     		add	r3, r3, r2
 4059 0054 03F51063 		add	r3, r3, #2304
 4060 0058 1B68     		ldr	r3, [r3]
 4061 005a BA68     		ldr	r2, [r7, #8]
 4062 005c 5101     		lsls	r1, r2, #5
 4063 005e FA68     		ldr	r2, [r7, #12]
 4064 0060 0A44     		add	r2, r2, r1
 4065 0062 02F51062 		add	r2, r2, #2304
 4066 0066 43F08053 		orr	r3, r3, #268435456
 4067 006a 1360     		str	r3, [r2]
 4068 006c 27E0     		b	.L173
 4069              	.L171:
1185:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1186:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1187:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
1188:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1189:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPCTL &= ~USB_OTG_DOEPCTL_STALL;
 4070              		.loc 1 1189 32
 4071 006e BB68     		ldr	r3, [r7, #8]
 4072 0070 5A01     		lsls	r2, r3, #5
 4073 0072 FB68     		ldr	r3, [r7, #12]
 4074 0074 1344     		add	r3, r3, r2
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 93


 4075 0076 03F53063 		add	r3, r3, #2816
 4076 007a 1B68     		ldr	r3, [r3]
 4077 007c BA68     		ldr	r2, [r7, #8]
 4078 007e 5101     		lsls	r1, r2, #5
 4079 0080 FA68     		ldr	r2, [r7, #12]
 4080 0082 0A44     		add	r2, r2, r1
 4081 0084 02F53062 		add	r2, r2, #2816
 4082 0088 23F40013 		bic	r3, r3, #2097152
 4083 008c 1360     		str	r3, [r2]
1190:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((ep->type == EP_TYPE_INTR) || (ep->type == EP_TYPE_BULK))
 4084              		.loc 1 1190 12
 4085 008e 3B68     		ldr	r3, [r7]
 4086 0090 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 4087              		.loc 1 1190 8
 4088 0092 032B     		cmp	r3, #3
 4089 0094 03D0     		beq	.L174
 4090              		.loc 1 1190 42 discriminator 1
 4091 0096 3B68     		ldr	r3, [r7]
 4092 0098 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 4093              		.loc 1 1190 36 discriminator 1
 4094 009a 022B     		cmp	r3, #2
 4095 009c 0FD1     		bne	.L173
 4096              	.L174:
1191:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1192:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPCTL |= USB_OTG_DOEPCTL_SD0PID_SEVNFRM; /* DATA0 */
 4097              		.loc 1 1192 34
 4098 009e BB68     		ldr	r3, [r7, #8]
 4099 00a0 5A01     		lsls	r2, r3, #5
 4100 00a2 FB68     		ldr	r3, [r7, #12]
 4101 00a4 1344     		add	r3, r3, r2
 4102 00a6 03F53063 		add	r3, r3, #2816
 4103 00aa 1B68     		ldr	r3, [r3]
 4104 00ac BA68     		ldr	r2, [r7, #8]
 4105 00ae 5101     		lsls	r1, r2, #5
 4106 00b0 FA68     		ldr	r2, [r7, #12]
 4107 00b2 0A44     		add	r2, r2, r1
 4108 00b4 02F53062 		add	r2, r2, #2816
 4109 00b8 43F08053 		orr	r3, r3, #268435456
 4110 00bc 1360     		str	r3, [r2]
 4111              	.L173:
1193:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1194:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1195:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 4112              		.loc 1 1195 10
 4113 00be 0023     		movs	r3, #0
1196:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4114              		.loc 1 1196 1
 4115 00c0 1846     		mov	r0, r3
 4116 00c2 1437     		adds	r7, r7, #20
 4117              	.LCFI125:
 4118              		.cfi_def_cfa_offset 4
 4119 00c4 BD46     		mov	sp, r7
 4120              	.LCFI126:
 4121              		.cfi_def_cfa_register 13
 4122              		@ sp needed
 4123 00c6 5DF8047B 		ldr	r7, [sp], #4
 4124              	.LCFI127:
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 94


 4125              		.cfi_restore 7
 4126              		.cfi_def_cfa_offset 0
 4127 00ca 7047     		bx	lr
 4128              		.cfi_endproc
 4129              	.LFE236:
 4131              		.section	.text.USB_StopDevice,"ax",%progbits
 4132              		.align	1
 4133              		.global	USB_StopDevice
 4134              		.syntax unified
 4135              		.thumb
 4136              		.thumb_func
 4138              	USB_StopDevice:
 4139              	.LFB237:
1197:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1198:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1199:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_StopDevice : Stop the usb device mode
1200:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1201:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1202:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1203:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_StopDevice(USB_OTG_GlobalTypeDef *USBx)
1204:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4140              		.loc 1 1204 1
 4141              		.cfi_startproc
 4142              		@ args = 0, pretend = 0, frame = 24
 4143              		@ frame_needed = 1, uses_anonymous_args = 0
 4144 0000 80B5     		push	{r7, lr}
 4145              	.LCFI128:
 4146              		.cfi_def_cfa_offset 8
 4147              		.cfi_offset 7, -8
 4148              		.cfi_offset 14, -4
 4149 0002 86B0     		sub	sp, sp, #24
 4150              	.LCFI129:
 4151              		.cfi_def_cfa_offset 32
 4152 0004 00AF     		add	r7, sp, #0
 4153              	.LCFI130:
 4154              		.cfi_def_cfa_register 7
 4155 0006 7860     		str	r0, [r7, #4]
1205:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HAL_StatusTypeDef ret;
1206:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4156              		.loc 1 1206 12
 4157 0008 7B68     		ldr	r3, [r7, #4]
 4158 000a 3B61     		str	r3, [r7, #16]
1207:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t i;
1208:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1209:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Clear Pending interrupt */
1210:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   for (i = 0U; i < 15U; i++)
 4159              		.loc 1 1210 10
 4160 000c 0023     		movs	r3, #0
 4161 000e 7B61     		str	r3, [r7, #20]
 4162              		.loc 1 1210 3
 4163 0010 16E0     		b	.L177
 4164              	.L178:
1211:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1212:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(i)->DIEPINT = 0xFB7FU;
 4165              		.loc 1 1212 5 discriminator 3
 4166 0012 7B69     		ldr	r3, [r7, #20]
 4167 0014 5A01     		lsls	r2, r3, #5
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 95


 4168 0016 3B69     		ldr	r3, [r7, #16]
 4169 0018 1344     		add	r3, r3, r2
 4170 001a 03F51063 		add	r3, r3, #2304
 4171 001e 1A46     		mov	r2, r3
 4172              		.loc 1 1212 27 discriminator 3
 4173 0020 4FF67F33 		movw	r3, #64383
 4174 0024 9360     		str	r3, [r2, #8]
1213:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(i)->DOEPINT = 0xFB7FU;
 4175              		.loc 1 1213 5 discriminator 3
 4176 0026 7B69     		ldr	r3, [r7, #20]
 4177 0028 5A01     		lsls	r2, r3, #5
 4178 002a 3B69     		ldr	r3, [r7, #16]
 4179 002c 1344     		add	r3, r3, r2
 4180 002e 03F53063 		add	r3, r3, #2816
 4181 0032 1A46     		mov	r2, r3
 4182              		.loc 1 1213 28 discriminator 3
 4183 0034 4FF67F33 		movw	r3, #64383
 4184 0038 9360     		str	r3, [r2, #8]
1210:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 4185              		.loc 1 1210 26 discriminator 3
 4186 003a 7B69     		ldr	r3, [r7, #20]
 4187 003c 0133     		adds	r3, r3, #1
 4188 003e 7B61     		str	r3, [r7, #20]
 4189              	.L177:
1210:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 4190              		.loc 1 1210 18 discriminator 1
 4191 0040 7B69     		ldr	r3, [r7, #20]
 4192 0042 0E2B     		cmp	r3, #14
 4193 0044 E5D9     		bls	.L178
1214:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1215:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1216:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Clear interrupt masks */
1217:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DIEPMSK  = 0U;
 4194              		.loc 1 1217 3
 4195 0046 3B69     		ldr	r3, [r7, #16]
 4196 0048 03F50063 		add	r3, r3, #2048
 4197 004c 1A46     		mov	r2, r3
 4198              		.loc 1 1217 25
 4199 004e 0023     		movs	r3, #0
 4200 0050 1361     		str	r3, [r2, #16]
1218:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DOEPMSK  = 0U;
 4201              		.loc 1 1218 3
 4202 0052 3B69     		ldr	r3, [r7, #16]
 4203 0054 03F50063 		add	r3, r3, #2048
 4204 0058 1A46     		mov	r2, r3
 4205              		.loc 1 1218 25
 4206 005a 0023     		movs	r3, #0
 4207 005c 5361     		str	r3, [r2, #20]
1219:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DAINTMSK = 0U;
 4208              		.loc 1 1219 3
 4209 005e 3B69     		ldr	r3, [r7, #16]
 4210 0060 03F50063 		add	r3, r3, #2048
 4211 0064 1A46     		mov	r2, r3
 4212              		.loc 1 1219 25
 4213 0066 0023     		movs	r3, #0
 4214 0068 D361     		str	r3, [r2, #28]
1220:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 96


1221:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Flush the FIFO */
1222:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   ret = USB_FlushRxFifo(USBx);
 4215              		.loc 1 1222 9
 4216 006a 7868     		ldr	r0, [r7, #4]
 4217 006c FFF7FEFF 		bl	USB_FlushRxFifo
 4218 0070 0346     		mov	r3, r0
 4219 0072 FB73     		strb	r3, [r7, #15]
1223:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ret != HAL_OK)
 4220              		.loc 1 1223 6
 4221 0074 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 4222 0076 002B     		cmp	r3, #0
 4223 0078 01D0     		beq	.L179
1224:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1225:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     return ret;
 4224              		.loc 1 1225 12
 4225 007a FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 4226 007c 0BE0     		b	.L180
 4227              	.L179:
1226:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1227:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1228:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   ret = USB_FlushTxFifo(USBx,  0x10U);
 4228              		.loc 1 1228 9
 4229 007e 1021     		movs	r1, #16
 4230 0080 7868     		ldr	r0, [r7, #4]
 4231 0082 FFF7FEFF 		bl	USB_FlushTxFifo
 4232 0086 0346     		mov	r3, r0
 4233 0088 FB73     		strb	r3, [r7, #15]
1229:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ret != HAL_OK)
 4234              		.loc 1 1229 6
 4235 008a FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 4236 008c 002B     		cmp	r3, #0
 4237 008e 01D0     		beq	.L181
1230:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1231:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     return ret;
 4238              		.loc 1 1231 12
 4239 0090 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 4240 0092 00E0     		b	.L180
 4241              	.L181:
1232:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1233:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1234:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ret;
 4242              		.loc 1 1234 10
 4243 0094 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 4244              	.L180:
1235:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4245              		.loc 1 1235 1
 4246 0096 1846     		mov	r0, r3
 4247 0098 1837     		adds	r7, r7, #24
 4248              	.LCFI131:
 4249              		.cfi_def_cfa_offset 8
 4250 009a BD46     		mov	sp, r7
 4251              	.LCFI132:
 4252              		.cfi_def_cfa_register 13
 4253              		@ sp needed
 4254 009c 80BD     		pop	{r7, pc}
 4255              		.cfi_endproc
 4256              	.LFE237:
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 97


 4258              		.section	.text.USB_SetDevAddress,"ax",%progbits
 4259              		.align	1
 4260              		.global	USB_SetDevAddress
 4261              		.syntax unified
 4262              		.thumb
 4263              		.thumb_func
 4265              	USB_SetDevAddress:
 4266              	.LFB238:
1236:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1237:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1238:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_SetDevAddress : Stop the usb device mode
1239:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1240:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  address  new device address to be assigned
1241:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be a value from 0 to 255
1242:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1243:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1244:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef  USB_SetDevAddress(USB_OTG_GlobalTypeDef *USBx, uint8_t address)
1245:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4267              		.loc 1 1245 1
 4268              		.cfi_startproc
 4269              		@ args = 0, pretend = 0, frame = 16
 4270              		@ frame_needed = 1, uses_anonymous_args = 0
 4271              		@ link register save eliminated.
 4272 0000 80B4     		push	{r7}
 4273              	.LCFI133:
 4274              		.cfi_def_cfa_offset 4
 4275              		.cfi_offset 7, -4
 4276 0002 85B0     		sub	sp, sp, #20
 4277              	.LCFI134:
 4278              		.cfi_def_cfa_offset 24
 4279 0004 00AF     		add	r7, sp, #0
 4280              	.LCFI135:
 4281              		.cfi_def_cfa_register 7
 4282 0006 7860     		str	r0, [r7, #4]
 4283 0008 0B46     		mov	r3, r1
 4284 000a FB70     		strb	r3, [r7, #3]
1246:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4285              		.loc 1 1246 12
 4286 000c 7B68     		ldr	r3, [r7, #4]
 4287 000e FB60     		str	r3, [r7, #12]
1247:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1248:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DCFG &= ~(USB_OTG_DCFG_DAD);
 4288              		.loc 1 1248 21
 4289 0010 FB68     		ldr	r3, [r7, #12]
 4290 0012 03F50063 		add	r3, r3, #2048
 4291 0016 1B68     		ldr	r3, [r3]
 4292 0018 FA68     		ldr	r2, [r7, #12]
 4293 001a 02F50062 		add	r2, r2, #2048
 4294 001e 23F4FE63 		bic	r3, r3, #2032
 4295 0022 1360     		str	r3, [r2]
1249:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DCFG |= ((uint32_t)address << 4) & USB_OTG_DCFG_DAD;
 4296              		.loc 1 1249 21
 4297 0024 FB68     		ldr	r3, [r7, #12]
 4298 0026 03F50063 		add	r3, r3, #2048
 4299 002a 1A68     		ldr	r2, [r3]
 4300              		.loc 1 1249 25
 4301 002c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 98


 4302              		.loc 1 1249 43
 4303 002e 1B01     		lsls	r3, r3, #4
 4304              		.loc 1 1249 49
 4305 0030 03F4FE63 		and	r3, r3, #2032
 4306              		.loc 1 1249 21
 4307 0034 F968     		ldr	r1, [r7, #12]
 4308 0036 01F50061 		add	r1, r1, #2048
 4309 003a 1343     		orrs	r3, r3, r2
 4310 003c 0B60     		str	r3, [r1]
1250:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1251:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 4311              		.loc 1 1251 10
 4312 003e 0023     		movs	r3, #0
1252:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4313              		.loc 1 1252 1
 4314 0040 1846     		mov	r0, r3
 4315 0042 1437     		adds	r7, r7, #20
 4316              	.LCFI136:
 4317              		.cfi_def_cfa_offset 4
 4318 0044 BD46     		mov	sp, r7
 4319              	.LCFI137:
 4320              		.cfi_def_cfa_register 13
 4321              		@ sp needed
 4322 0046 5DF8047B 		ldr	r7, [sp], #4
 4323              	.LCFI138:
 4324              		.cfi_restore 7
 4325              		.cfi_def_cfa_offset 0
 4326 004a 7047     		bx	lr
 4327              		.cfi_endproc
 4328              	.LFE238:
 4330              		.section	.text.USB_DevConnect,"ax",%progbits
 4331              		.align	1
 4332              		.global	USB_DevConnect
 4333              		.syntax unified
 4334              		.thumb
 4335              		.thumb_func
 4337              	USB_DevConnect:
 4338              	.LFB239:
1253:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1254:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1255:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_DevConnect : Connect the USB device by enabling Rpu
1256:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1257:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1258:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1259:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef  USB_DevConnect(USB_OTG_GlobalTypeDef *USBx)
1260:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4339              		.loc 1 1260 1
 4340              		.cfi_startproc
 4341              		@ args = 0, pretend = 0, frame = 16
 4342              		@ frame_needed = 1, uses_anonymous_args = 0
 4343              		@ link register save eliminated.
 4344 0000 80B4     		push	{r7}
 4345              	.LCFI139:
 4346              		.cfi_def_cfa_offset 4
 4347              		.cfi_offset 7, -4
 4348 0002 85B0     		sub	sp, sp, #20
 4349              	.LCFI140:
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 99


 4350              		.cfi_def_cfa_offset 24
 4351 0004 00AF     		add	r7, sp, #0
 4352              	.LCFI141:
 4353              		.cfi_def_cfa_register 7
 4354 0006 7860     		str	r0, [r7, #4]
1261:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4355              		.loc 1 1261 12
 4356 0008 7B68     		ldr	r3, [r7, #4]
 4357 000a FB60     		str	r3, [r7, #12]
1262:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1263:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* In case phy is stopped, ensure to ungate and restore the phy CLK */
1264:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_PCGCCTL &= ~(USB_OTG_PCGCCTL_STOPCLK | USB_OTG_PCGCCTL_GATECLK);
 4358              		.loc 1 1264 16
 4359 000c FB68     		ldr	r3, [r7, #12]
 4360 000e 03F56063 		add	r3, r3, #3584
 4361 0012 1B68     		ldr	r3, [r3]
 4362 0014 FA68     		ldr	r2, [r7, #12]
 4363 0016 02F56062 		add	r2, r2, #3584
 4364 001a 23F00303 		bic	r3, r3, #3
 4365 001e 1360     		str	r3, [r2]
1265:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1266:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DCTL &= ~USB_OTG_DCTL_SDIS;
 4366              		.loc 1 1266 21
 4367 0020 FB68     		ldr	r3, [r7, #12]
 4368 0022 03F50063 		add	r3, r3, #2048
 4369 0026 5B68     		ldr	r3, [r3, #4]
 4370 0028 FA68     		ldr	r2, [r7, #12]
 4371 002a 02F50062 		add	r2, r2, #2048
 4372 002e 23F00203 		bic	r3, r3, #2
 4373 0032 5360     		str	r3, [r2, #4]
1267:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1268:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 4374              		.loc 1 1268 10
 4375 0034 0023     		movs	r3, #0
1269:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4376              		.loc 1 1269 1
 4377 0036 1846     		mov	r0, r3
 4378 0038 1437     		adds	r7, r7, #20
 4379              	.LCFI142:
 4380              		.cfi_def_cfa_offset 4
 4381 003a BD46     		mov	sp, r7
 4382              	.LCFI143:
 4383              		.cfi_def_cfa_register 13
 4384              		@ sp needed
 4385 003c 5DF8047B 		ldr	r7, [sp], #4
 4386              	.LCFI144:
 4387              		.cfi_restore 7
 4388              		.cfi_def_cfa_offset 0
 4389 0040 7047     		bx	lr
 4390              		.cfi_endproc
 4391              	.LFE239:
 4393              		.section	.text.USB_DevDisconnect,"ax",%progbits
 4394              		.align	1
 4395              		.global	USB_DevDisconnect
 4396              		.syntax unified
 4397              		.thumb
 4398              		.thumb_func
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 100


 4400              	USB_DevDisconnect:
 4401              	.LFB240:
1270:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1271:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1272:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_DevDisconnect : Disconnect the USB device by disabling Rpu
1273:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1274:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1275:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1276:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef  USB_DevDisconnect(USB_OTG_GlobalTypeDef *USBx)
1277:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4402              		.loc 1 1277 1
 4403              		.cfi_startproc
 4404              		@ args = 0, pretend = 0, frame = 16
 4405              		@ frame_needed = 1, uses_anonymous_args = 0
 4406              		@ link register save eliminated.
 4407 0000 80B4     		push	{r7}
 4408              	.LCFI145:
 4409              		.cfi_def_cfa_offset 4
 4410              		.cfi_offset 7, -4
 4411 0002 85B0     		sub	sp, sp, #20
 4412              	.LCFI146:
 4413              		.cfi_def_cfa_offset 24
 4414 0004 00AF     		add	r7, sp, #0
 4415              	.LCFI147:
 4416              		.cfi_def_cfa_register 7
 4417 0006 7860     		str	r0, [r7, #4]
1278:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4418              		.loc 1 1278 12
 4419 0008 7B68     		ldr	r3, [r7, #4]
 4420 000a FB60     		str	r3, [r7, #12]
1279:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1280:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* In case phy is stopped, ensure to ungate and restore the phy CLK */
1281:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_PCGCCTL &= ~(USB_OTG_PCGCCTL_STOPCLK | USB_OTG_PCGCCTL_GATECLK);
 4421              		.loc 1 1281 16
 4422 000c FB68     		ldr	r3, [r7, #12]
 4423 000e 03F56063 		add	r3, r3, #3584
 4424 0012 1B68     		ldr	r3, [r3]
 4425 0014 FA68     		ldr	r2, [r7, #12]
 4426 0016 02F56062 		add	r2, r2, #3584
 4427 001a 23F00303 		bic	r3, r3, #3
 4428 001e 1360     		str	r3, [r2]
1282:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1283:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DCTL |= USB_OTG_DCTL_SDIS;
 4429              		.loc 1 1283 21
 4430 0020 FB68     		ldr	r3, [r7, #12]
 4431 0022 03F50063 		add	r3, r3, #2048
 4432 0026 5B68     		ldr	r3, [r3, #4]
 4433 0028 FA68     		ldr	r2, [r7, #12]
 4434 002a 02F50062 		add	r2, r2, #2048
 4435 002e 43F00203 		orr	r3, r3, #2
 4436 0032 5360     		str	r3, [r2, #4]
1284:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1285:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 4437              		.loc 1 1285 10
 4438 0034 0023     		movs	r3, #0
1286:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4439              		.loc 1 1286 1
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 101


 4440 0036 1846     		mov	r0, r3
 4441 0038 1437     		adds	r7, r7, #20
 4442              	.LCFI148:
 4443              		.cfi_def_cfa_offset 4
 4444 003a BD46     		mov	sp, r7
 4445              	.LCFI149:
 4446              		.cfi_def_cfa_register 13
 4447              		@ sp needed
 4448 003c 5DF8047B 		ldr	r7, [sp], #4
 4449              	.LCFI150:
 4450              		.cfi_restore 7
 4451              		.cfi_def_cfa_offset 0
 4452 0040 7047     		bx	lr
 4453              		.cfi_endproc
 4454              	.LFE240:
 4456              		.section	.text.USB_ReadInterrupts,"ax",%progbits
 4457              		.align	1
 4458              		.global	USB_ReadInterrupts
 4459              		.syntax unified
 4460              		.thumb
 4461              		.thumb_func
 4463              	USB_ReadInterrupts:
 4464              	.LFB241:
1287:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1288:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1289:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_ReadInterrupts: return the global USB interrupt status
1290:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1291:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1292:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1293:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t  USB_ReadInterrupts(USB_OTG_GlobalTypeDef *USBx)
1294:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4465              		.loc 1 1294 1
 4466              		.cfi_startproc
 4467              		@ args = 0, pretend = 0, frame = 16
 4468              		@ frame_needed = 1, uses_anonymous_args = 0
 4469              		@ link register save eliminated.
 4470 0000 80B4     		push	{r7}
 4471              	.LCFI151:
 4472              		.cfi_def_cfa_offset 4
 4473              		.cfi_offset 7, -4
 4474 0002 85B0     		sub	sp, sp, #20
 4475              	.LCFI152:
 4476              		.cfi_def_cfa_offset 24
 4477 0004 00AF     		add	r7, sp, #0
 4478              	.LCFI153:
 4479              		.cfi_def_cfa_register 7
 4480 0006 7860     		str	r0, [r7, #4]
1295:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t tmpreg;
1296:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1297:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg = USBx->GINTSTS;
 4481              		.loc 1 1297 10
 4482 0008 7B68     		ldr	r3, [r7, #4]
 4483 000a 5B69     		ldr	r3, [r3, #20]
 4484 000c FB60     		str	r3, [r7, #12]
1298:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg &= USBx->GINTMSK;
 4485              		.loc 1 1298 17
 4486 000e 7B68     		ldr	r3, [r7, #4]
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 102


 4487 0010 9B69     		ldr	r3, [r3, #24]
 4488              		.loc 1 1298 10
 4489 0012 FA68     		ldr	r2, [r7, #12]
 4490 0014 1340     		ands	r3, r3, r2
 4491 0016 FB60     		str	r3, [r7, #12]
1299:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1300:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return tmpreg;
 4492              		.loc 1 1300 10
 4493 0018 FB68     		ldr	r3, [r7, #12]
1301:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4494              		.loc 1 1301 1
 4495 001a 1846     		mov	r0, r3
 4496 001c 1437     		adds	r7, r7, #20
 4497              	.LCFI154:
 4498              		.cfi_def_cfa_offset 4
 4499 001e BD46     		mov	sp, r7
 4500              	.LCFI155:
 4501              		.cfi_def_cfa_register 13
 4502              		@ sp needed
 4503 0020 5DF8047B 		ldr	r7, [sp], #4
 4504              	.LCFI156:
 4505              		.cfi_restore 7
 4506              		.cfi_def_cfa_offset 0
 4507 0024 7047     		bx	lr
 4508              		.cfi_endproc
 4509              	.LFE241:
 4511              		.section	.text.USB_ReadDevAllOutEpInterrupt,"ax",%progbits
 4512              		.align	1
 4513              		.global	USB_ReadDevAllOutEpInterrupt
 4514              		.syntax unified
 4515              		.thumb
 4516              		.thumb_func
 4518              	USB_ReadDevAllOutEpInterrupt:
 4519              	.LFB242:
1302:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1303:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1304:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_ReadDevAllOutEpInterrupt: return the USB device OUT endpoints interrupt status
1305:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1306:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1307:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1308:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t USB_ReadDevAllOutEpInterrupt(USB_OTG_GlobalTypeDef *USBx)
1309:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4520              		.loc 1 1309 1
 4521              		.cfi_startproc
 4522              		@ args = 0, pretend = 0, frame = 16
 4523              		@ frame_needed = 1, uses_anonymous_args = 0
 4524              		@ link register save eliminated.
 4525 0000 80B4     		push	{r7}
 4526              	.LCFI157:
 4527              		.cfi_def_cfa_offset 4
 4528              		.cfi_offset 7, -4
 4529 0002 85B0     		sub	sp, sp, #20
 4530              	.LCFI158:
 4531              		.cfi_def_cfa_offset 24
 4532 0004 00AF     		add	r7, sp, #0
 4533              	.LCFI159:
 4534              		.cfi_def_cfa_register 7
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 103


 4535 0006 7860     		str	r0, [r7, #4]
1310:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4536              		.loc 1 1310 12
 4537 0008 7B68     		ldr	r3, [r7, #4]
 4538 000a FB60     		str	r3, [r7, #12]
1311:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t tmpreg;
1312:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1313:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg  = USBx_DEVICE->DAINT;
 4539              		.loc 1 1313 13
 4540 000c FB68     		ldr	r3, [r7, #12]
 4541 000e 03F50063 		add	r3, r3, #2048
 4542              		.loc 1 1313 11
 4543 0012 9B69     		ldr	r3, [r3, #24]
 4544 0014 BB60     		str	r3, [r7, #8]
1314:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg &= USBx_DEVICE->DAINTMSK;
 4545              		.loc 1 1314 13
 4546 0016 FB68     		ldr	r3, [r7, #12]
 4547 0018 03F50063 		add	r3, r3, #2048
 4548              		.loc 1 1314 24
 4549 001c DB69     		ldr	r3, [r3, #28]
 4550              		.loc 1 1314 10
 4551 001e BA68     		ldr	r2, [r7, #8]
 4552 0020 1340     		ands	r3, r3, r2
 4553 0022 BB60     		str	r3, [r7, #8]
1315:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1316:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ((tmpreg & 0xffff0000U) >> 16);
 4554              		.loc 1 1316 34
 4555 0024 BB68     		ldr	r3, [r7, #8]
 4556 0026 1B0C     		lsrs	r3, r3, #16
1317:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4557              		.loc 1 1317 1
 4558 0028 1846     		mov	r0, r3
 4559 002a 1437     		adds	r7, r7, #20
 4560              	.LCFI160:
 4561              		.cfi_def_cfa_offset 4
 4562 002c BD46     		mov	sp, r7
 4563              	.LCFI161:
 4564              		.cfi_def_cfa_register 13
 4565              		@ sp needed
 4566 002e 5DF8047B 		ldr	r7, [sp], #4
 4567              	.LCFI162:
 4568              		.cfi_restore 7
 4569              		.cfi_def_cfa_offset 0
 4570 0032 7047     		bx	lr
 4571              		.cfi_endproc
 4572              	.LFE242:
 4574              		.section	.text.USB_ReadDevAllInEpInterrupt,"ax",%progbits
 4575              		.align	1
 4576              		.global	USB_ReadDevAllInEpInterrupt
 4577              		.syntax unified
 4578              		.thumb
 4579              		.thumb_func
 4581              	USB_ReadDevAllInEpInterrupt:
 4582              	.LFB243:
1318:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1319:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1320:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_ReadDevAllInEpInterrupt: return the USB device IN endpoints interrupt status
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 104


1321:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1322:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1323:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1324:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t USB_ReadDevAllInEpInterrupt(USB_OTG_GlobalTypeDef *USBx)
1325:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4583              		.loc 1 1325 1
 4584              		.cfi_startproc
 4585              		@ args = 0, pretend = 0, frame = 16
 4586              		@ frame_needed = 1, uses_anonymous_args = 0
 4587              		@ link register save eliminated.
 4588 0000 80B4     		push	{r7}
 4589              	.LCFI163:
 4590              		.cfi_def_cfa_offset 4
 4591              		.cfi_offset 7, -4
 4592 0002 85B0     		sub	sp, sp, #20
 4593              	.LCFI164:
 4594              		.cfi_def_cfa_offset 24
 4595 0004 00AF     		add	r7, sp, #0
 4596              	.LCFI165:
 4597              		.cfi_def_cfa_register 7
 4598 0006 7860     		str	r0, [r7, #4]
1326:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4599              		.loc 1 1326 12
 4600 0008 7B68     		ldr	r3, [r7, #4]
 4601 000a FB60     		str	r3, [r7, #12]
1327:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t tmpreg;
1328:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1329:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg  = USBx_DEVICE->DAINT;
 4602              		.loc 1 1329 13
 4603 000c FB68     		ldr	r3, [r7, #12]
 4604 000e 03F50063 		add	r3, r3, #2048
 4605              		.loc 1 1329 11
 4606 0012 9B69     		ldr	r3, [r3, #24]
 4607 0014 BB60     		str	r3, [r7, #8]
1330:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg &= USBx_DEVICE->DAINTMSK;
 4608              		.loc 1 1330 13
 4609 0016 FB68     		ldr	r3, [r7, #12]
 4610 0018 03F50063 		add	r3, r3, #2048
 4611              		.loc 1 1330 24
 4612 001c DB69     		ldr	r3, [r3, #28]
 4613              		.loc 1 1330 10
 4614 001e BA68     		ldr	r2, [r7, #8]
 4615 0020 1340     		ands	r3, r3, r2
 4616 0022 BB60     		str	r3, [r7, #8]
1331:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1332:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ((tmpreg & 0xFFFFU));
 4617              		.loc 1 1332 19
 4618 0024 BB68     		ldr	r3, [r7, #8]
 4619 0026 9BB2     		uxth	r3, r3
1333:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4620              		.loc 1 1333 1
 4621 0028 1846     		mov	r0, r3
 4622 002a 1437     		adds	r7, r7, #20
 4623              	.LCFI166:
 4624              		.cfi_def_cfa_offset 4
 4625 002c BD46     		mov	sp, r7
 4626              	.LCFI167:
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 105


 4627              		.cfi_def_cfa_register 13
 4628              		@ sp needed
 4629 002e 5DF8047B 		ldr	r7, [sp], #4
 4630              	.LCFI168:
 4631              		.cfi_restore 7
 4632              		.cfi_def_cfa_offset 0
 4633 0032 7047     		bx	lr
 4634              		.cfi_endproc
 4635              	.LFE243:
 4637              		.section	.text.USB_ReadDevOutEPInterrupt,"ax",%progbits
 4638              		.align	1
 4639              		.global	USB_ReadDevOutEPInterrupt
 4640              		.syntax unified
 4641              		.thumb
 4642              		.thumb_func
 4644              	USB_ReadDevOutEPInterrupt:
 4645              	.LFB244:
1334:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1335:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1336:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Returns Device OUT EP Interrupt register
1337:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1338:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  epnum  endpoint number
1339:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be a value from 0 to 15
1340:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval Device OUT EP Interrupt register
1341:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1342:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t USB_ReadDevOutEPInterrupt(USB_OTG_GlobalTypeDef *USBx, uint8_t epnum)
1343:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4646              		.loc 1 1343 1
 4647              		.cfi_startproc
 4648              		@ args = 0, pretend = 0, frame = 16
 4649              		@ frame_needed = 1, uses_anonymous_args = 0
 4650              		@ link register save eliminated.
 4651 0000 80B4     		push	{r7}
 4652              	.LCFI169:
 4653              		.cfi_def_cfa_offset 4
 4654              		.cfi_offset 7, -4
 4655 0002 85B0     		sub	sp, sp, #20
 4656              	.LCFI170:
 4657              		.cfi_def_cfa_offset 24
 4658 0004 00AF     		add	r7, sp, #0
 4659              	.LCFI171:
 4660              		.cfi_def_cfa_register 7
 4661 0006 7860     		str	r0, [r7, #4]
 4662 0008 0B46     		mov	r3, r1
 4663 000a FB70     		strb	r3, [r7, #3]
1344:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4664              		.loc 1 1344 12
 4665 000c 7B68     		ldr	r3, [r7, #4]
 4666 000e FB60     		str	r3, [r7, #12]
1345:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t tmpreg;
1346:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1347:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg  = USBx_OUTEP((uint32_t)epnum)->DOEPINT;
 4667              		.loc 1 1347 13
 4668 0010 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4669 0012 5A01     		lsls	r2, r3, #5
 4670 0014 FB68     		ldr	r3, [r7, #12]
 4671 0016 1344     		add	r3, r3, r2
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 106


 4672 0018 03F53063 		add	r3, r3, #2816
 4673              		.loc 1 1347 11
 4674 001c 9B68     		ldr	r3, [r3, #8]
 4675 001e BB60     		str	r3, [r7, #8]
1348:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg &= USBx_DEVICE->DOEPMSK;
 4676              		.loc 1 1348 13
 4677 0020 FB68     		ldr	r3, [r7, #12]
 4678 0022 03F50063 		add	r3, r3, #2048
 4679              		.loc 1 1348 24
 4680 0026 5B69     		ldr	r3, [r3, #20]
 4681              		.loc 1 1348 10
 4682 0028 BA68     		ldr	r2, [r7, #8]
 4683 002a 1340     		ands	r3, r3, r2
 4684 002c BB60     		str	r3, [r7, #8]
1349:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1350:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return tmpreg;
 4685              		.loc 1 1350 10
 4686 002e BB68     		ldr	r3, [r7, #8]
1351:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4687              		.loc 1 1351 1
 4688 0030 1846     		mov	r0, r3
 4689 0032 1437     		adds	r7, r7, #20
 4690              	.LCFI172:
 4691              		.cfi_def_cfa_offset 4
 4692 0034 BD46     		mov	sp, r7
 4693              	.LCFI173:
 4694              		.cfi_def_cfa_register 13
 4695              		@ sp needed
 4696 0036 5DF8047B 		ldr	r7, [sp], #4
 4697              	.LCFI174:
 4698              		.cfi_restore 7
 4699              		.cfi_def_cfa_offset 0
 4700 003a 7047     		bx	lr
 4701              		.cfi_endproc
 4702              	.LFE244:
 4704              		.section	.text.USB_ReadDevInEPInterrupt,"ax",%progbits
 4705              		.align	1
 4706              		.global	USB_ReadDevInEPInterrupt
 4707              		.syntax unified
 4708              		.thumb
 4709              		.thumb_func
 4711              	USB_ReadDevInEPInterrupt:
 4712              	.LFB245:
1352:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1353:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1354:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Returns Device IN EP Interrupt register
1355:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1356:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  epnum  endpoint number
1357:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be a value from 0 to 15
1358:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval Device IN EP Interrupt register
1359:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1360:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t USB_ReadDevInEPInterrupt(USB_OTG_GlobalTypeDef *USBx, uint8_t epnum)
1361:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4713              		.loc 1 1361 1
 4714              		.cfi_startproc
 4715              		@ args = 0, pretend = 0, frame = 24
 4716              		@ frame_needed = 1, uses_anonymous_args = 0
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 107


 4717              		@ link register save eliminated.
 4718 0000 80B4     		push	{r7}
 4719              	.LCFI175:
 4720              		.cfi_def_cfa_offset 4
 4721              		.cfi_offset 7, -4
 4722 0002 87B0     		sub	sp, sp, #28
 4723              	.LCFI176:
 4724              		.cfi_def_cfa_offset 32
 4725 0004 00AF     		add	r7, sp, #0
 4726              	.LCFI177:
 4727              		.cfi_def_cfa_register 7
 4728 0006 7860     		str	r0, [r7, #4]
 4729 0008 0B46     		mov	r3, r1
 4730 000a FB70     		strb	r3, [r7, #3]
1362:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4731              		.loc 1 1362 12
 4732 000c 7B68     		ldr	r3, [r7, #4]
 4733 000e 7B61     		str	r3, [r7, #20]
1363:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t tmpreg;
1364:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t msk;
1365:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t emp;
1366:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1367:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   msk = USBx_DEVICE->DIEPMSK;
 4734              		.loc 1 1367 9
 4735 0010 7B69     		ldr	r3, [r7, #20]
 4736 0012 03F50063 		add	r3, r3, #2048
 4737              		.loc 1 1367 7
 4738 0016 1B69     		ldr	r3, [r3, #16]
 4739 0018 3B61     		str	r3, [r7, #16]
1368:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   emp = USBx_DEVICE->DIEPEMPMSK;
 4740              		.loc 1 1368 9
 4741 001a 7B69     		ldr	r3, [r7, #20]
 4742 001c 03F50063 		add	r3, r3, #2048
 4743              		.loc 1 1368 7
 4744 0020 5B6B     		ldr	r3, [r3, #52]
 4745 0022 FB60     		str	r3, [r7, #12]
1369:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   msk |= ((emp >> (epnum & EP_ADDR_MSK)) & 0x1U) << 7;
 4746              		.loc 1 1369 26
 4747 0024 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4748 0026 03F00F03 		and	r3, r3, #15
 4749              		.loc 1 1369 16
 4750 002a FA68     		ldr	r2, [r7, #12]
 4751 002c 22FA03F3 		lsr	r3, r2, r3
 4752              		.loc 1 1369 50
 4753 0030 DB01     		lsls	r3, r3, #7
 4754 0032 DBB2     		uxtb	r3, r3
 4755              		.loc 1 1369 7
 4756 0034 3A69     		ldr	r2, [r7, #16]
 4757 0036 1343     		orrs	r3, r3, r2
 4758 0038 3B61     		str	r3, [r7, #16]
1370:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg = USBx_INEP((uint32_t)epnum)->DIEPINT & msk;
 4759              		.loc 1 1370 12
 4760 003a FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4761 003c 5A01     		lsls	r2, r3, #5
 4762 003e 7B69     		ldr	r3, [r7, #20]
 4763 0040 1344     		add	r3, r3, r2
 4764 0042 03F51063 		add	r3, r3, #2304
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 108


 4765              		.loc 1 1370 38
 4766 0046 9B68     		ldr	r3, [r3, #8]
 4767              		.loc 1 1370 10
 4768 0048 3A69     		ldr	r2, [r7, #16]
 4769 004a 1340     		ands	r3, r3, r2
 4770 004c BB60     		str	r3, [r7, #8]
1371:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1372:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return tmpreg;
 4771              		.loc 1 1372 10
 4772 004e BB68     		ldr	r3, [r7, #8]
1373:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4773              		.loc 1 1373 1
 4774 0050 1846     		mov	r0, r3
 4775 0052 1C37     		adds	r7, r7, #28
 4776              	.LCFI178:
 4777              		.cfi_def_cfa_offset 4
 4778 0054 BD46     		mov	sp, r7
 4779              	.LCFI179:
 4780              		.cfi_def_cfa_register 13
 4781              		@ sp needed
 4782 0056 5DF8047B 		ldr	r7, [sp], #4
 4783              	.LCFI180:
 4784              		.cfi_restore 7
 4785              		.cfi_def_cfa_offset 0
 4786 005a 7047     		bx	lr
 4787              		.cfi_endproc
 4788              	.LFE245:
 4790              		.section	.text.USB_ClearInterrupts,"ax",%progbits
 4791              		.align	1
 4792              		.global	USB_ClearInterrupts
 4793              		.syntax unified
 4794              		.thumb
 4795              		.thumb_func
 4797              	USB_ClearInterrupts:
 4798              	.LFB246:
1374:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1375:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1376:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_ClearInterrupts: clear a USB interrupt
1377:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1378:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  interrupt  flag
1379:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval None
1380:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1381:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** void  USB_ClearInterrupts(USB_OTG_GlobalTypeDef *USBx, uint32_t interrupt)
1382:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4799              		.loc 1 1382 1
 4800              		.cfi_startproc
 4801              		@ args = 0, pretend = 0, frame = 8
 4802              		@ frame_needed = 1, uses_anonymous_args = 0
 4803              		@ link register save eliminated.
 4804 0000 80B4     		push	{r7}
 4805              	.LCFI181:
 4806              		.cfi_def_cfa_offset 4
 4807              		.cfi_offset 7, -4
 4808 0002 83B0     		sub	sp, sp, #12
 4809              	.LCFI182:
 4810              		.cfi_def_cfa_offset 16
 4811 0004 00AF     		add	r7, sp, #0
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 109


 4812              	.LCFI183:
 4813              		.cfi_def_cfa_register 7
 4814 0006 7860     		str	r0, [r7, #4]
 4815 0008 3960     		str	r1, [r7]
1383:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTSTS |= interrupt;
 4816              		.loc 1 1383 17
 4817 000a 7B68     		ldr	r3, [r7, #4]
 4818 000c 5A69     		ldr	r2, [r3, #20]
 4819 000e 3B68     		ldr	r3, [r7]
 4820 0010 1A43     		orrs	r2, r2, r3
 4821 0012 7B68     		ldr	r3, [r7, #4]
 4822 0014 5A61     		str	r2, [r3, #20]
1384:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4823              		.loc 1 1384 1
 4824 0016 00BF     		nop
 4825 0018 0C37     		adds	r7, r7, #12
 4826              	.LCFI184:
 4827              		.cfi_def_cfa_offset 4
 4828 001a BD46     		mov	sp, r7
 4829              	.LCFI185:
 4830              		.cfi_def_cfa_register 13
 4831              		@ sp needed
 4832 001c 5DF8047B 		ldr	r7, [sp], #4
 4833              	.LCFI186:
 4834              		.cfi_restore 7
 4835              		.cfi_def_cfa_offset 0
 4836 0020 7047     		bx	lr
 4837              		.cfi_endproc
 4838              	.LFE246:
 4840              		.section	.text.USB_GetMode,"ax",%progbits
 4841              		.align	1
 4842              		.global	USB_GetMode
 4843              		.syntax unified
 4844              		.thumb
 4845              		.thumb_func
 4847              	USB_GetMode:
 4848              	.LFB247:
1385:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1386:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1387:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Returns USB core mode
1388:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1389:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval return core mode : Host or Device
1390:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
1391:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           0 : Host
1392:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           1 : Device
1393:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1394:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t USB_GetMode(USB_OTG_GlobalTypeDef *USBx)
1395:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4849              		.loc 1 1395 1
 4850              		.cfi_startproc
 4851              		@ args = 0, pretend = 0, frame = 8
 4852              		@ frame_needed = 1, uses_anonymous_args = 0
 4853              		@ link register save eliminated.
 4854 0000 80B4     		push	{r7}
 4855              	.LCFI187:
 4856              		.cfi_def_cfa_offset 4
 4857              		.cfi_offset 7, -4
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 110


 4858 0002 83B0     		sub	sp, sp, #12
 4859              	.LCFI188:
 4860              		.cfi_def_cfa_offset 16
 4861 0004 00AF     		add	r7, sp, #0
 4862              	.LCFI189:
 4863              		.cfi_def_cfa_register 7
 4864 0006 7860     		str	r0, [r7, #4]
1396:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ((USBx->GINTSTS) & 0x1U);
 4865              		.loc 1 1396 16
 4866 0008 7B68     		ldr	r3, [r7, #4]
 4867 000a 5B69     		ldr	r3, [r3, #20]
 4868              		.loc 1 1396 27
 4869 000c 03F00103 		and	r3, r3, #1
1397:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4870              		.loc 1 1397 1
 4871 0010 1846     		mov	r0, r3
 4872 0012 0C37     		adds	r7, r7, #12
 4873              	.LCFI190:
 4874              		.cfi_def_cfa_offset 4
 4875 0014 BD46     		mov	sp, r7
 4876              	.LCFI191:
 4877              		.cfi_def_cfa_register 13
 4878              		@ sp needed
 4879 0016 5DF8047B 		ldr	r7, [sp], #4
 4880              	.LCFI192:
 4881              		.cfi_restore 7
 4882              		.cfi_def_cfa_offset 0
 4883 001a 7047     		bx	lr
 4884              		.cfi_endproc
 4885              	.LFE247:
 4887              		.section	.text.USB_ActivateSetup,"ax",%progbits
 4888              		.align	1
 4889              		.global	USB_ActivateSetup
 4890              		.syntax unified
 4891              		.thumb
 4892              		.thumb_func
 4894              	USB_ActivateSetup:
 4895              	.LFB248:
1398:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1399:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1400:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Activate EP0 for Setup transactions
1401:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1402:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1403:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1404:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef  USB_ActivateSetup(USB_OTG_GlobalTypeDef *USBx)
1405:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4896              		.loc 1 1405 1
 4897              		.cfi_startproc
 4898              		@ args = 0, pretend = 0, frame = 16
 4899              		@ frame_needed = 1, uses_anonymous_args = 0
 4900              		@ link register save eliminated.
 4901 0000 80B4     		push	{r7}
 4902              	.LCFI193:
 4903              		.cfi_def_cfa_offset 4
 4904              		.cfi_offset 7, -4
 4905 0002 85B0     		sub	sp, sp, #20
 4906              	.LCFI194:
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 111


 4907              		.cfi_def_cfa_offset 24
 4908 0004 00AF     		add	r7, sp, #0
 4909              	.LCFI195:
 4910              		.cfi_def_cfa_register 7
 4911 0006 7860     		str	r0, [r7, #4]
1406:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4912              		.loc 1 1406 12
 4913 0008 7B68     		ldr	r3, [r7, #4]
 4914 000a FB60     		str	r3, [r7, #12]
1407:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1408:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Set the MPS of the IN EP0 to 64 bytes */
1409:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_INEP(0U)->DIEPCTL &= ~USB_OTG_DIEPCTL_MPSIZ;
 4915              		.loc 1 1409 26
 4916 000c FB68     		ldr	r3, [r7, #12]
 4917 000e 03F51063 		add	r3, r3, #2304
 4918 0012 1B68     		ldr	r3, [r3]
 4919 0014 FA68     		ldr	r2, [r7, #12]
 4920 0016 02F51062 		add	r2, r2, #2304
 4921 001a 23F4FF63 		bic	r3, r3, #2040
 4922 001e 23F00703 		bic	r3, r3, #7
 4923 0022 1360     		str	r3, [r2]
1410:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1411:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DCTL |= USB_OTG_DCTL_CGINAK;
 4924              		.loc 1 1411 21
 4925 0024 FB68     		ldr	r3, [r7, #12]
 4926 0026 03F50063 		add	r3, r3, #2048
 4927 002a 5B68     		ldr	r3, [r3, #4]
 4928 002c FA68     		ldr	r2, [r7, #12]
 4929 002e 02F50062 		add	r2, r2, #2048
 4930 0032 43F48073 		orr	r3, r3, #256
 4931 0036 5360     		str	r3, [r2, #4]
1412:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1413:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 4932              		.loc 1 1413 10
 4933 0038 0023     		movs	r3, #0
1414:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4934              		.loc 1 1414 1
 4935 003a 1846     		mov	r0, r3
 4936 003c 1437     		adds	r7, r7, #20
 4937              	.LCFI196:
 4938              		.cfi_def_cfa_offset 4
 4939 003e BD46     		mov	sp, r7
 4940              	.LCFI197:
 4941              		.cfi_def_cfa_register 13
 4942              		@ sp needed
 4943 0040 5DF8047B 		ldr	r7, [sp], #4
 4944              	.LCFI198:
 4945              		.cfi_restore 7
 4946              		.cfi_def_cfa_offset 0
 4947 0044 7047     		bx	lr
 4948              		.cfi_endproc
 4949              	.LFE248:
 4951              		.section	.text.USB_EP0_OutStart,"ax",%progbits
 4952              		.align	1
 4953              		.global	USB_EP0_OutStart
 4954              		.syntax unified
 4955              		.thumb
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 112


 4956              		.thumb_func
 4958              	USB_EP0_OutStart:
 4959              	.LFB249:
1415:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1416:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1417:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Prepare the EP0 to start the first control setup
1418:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1419:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  dma USB dma enabled or disabled
1420:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
1421:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           0 : DMA feature not used
1422:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           1 : DMA feature used
1423:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  psetup  pointer to setup packet
1424:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1425:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1426:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_EP0_OutStart(USB_OTG_GlobalTypeDef *USBx, uint8_t dma, uint8_t *psetup)
1427:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4960              		.loc 1 1427 1
 4961              		.cfi_startproc
 4962              		@ args = 0, pretend = 0, frame = 24
 4963              		@ frame_needed = 1, uses_anonymous_args = 0
 4964              		@ link register save eliminated.
 4965 0000 80B4     		push	{r7}
 4966              	.LCFI199:
 4967              		.cfi_def_cfa_offset 4
 4968              		.cfi_offset 7, -4
 4969 0002 87B0     		sub	sp, sp, #28
 4970              	.LCFI200:
 4971              		.cfi_def_cfa_offset 32
 4972 0004 00AF     		add	r7, sp, #0
 4973              	.LCFI201:
 4974              		.cfi_def_cfa_register 7
 4975 0006 F860     		str	r0, [r7, #12]
 4976 0008 0B46     		mov	r3, r1
 4977 000a 7A60     		str	r2, [r7, #4]
 4978 000c FB72     		strb	r3, [r7, #11]
1428:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4979              		.loc 1 1428 12
 4980 000e FB68     		ldr	r3, [r7, #12]
 4981 0010 7B61     		str	r3, [r7, #20]
1429:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t gSNPSiD = *(__IO uint32_t *)(&USBx->CID + 0x1U);
 4982              		.loc 1 1429 41
 4983 0012 FB68     		ldr	r3, [r7, #12]
 4984 0014 3C33     		adds	r3, r3, #60
 4985              		.loc 1 1429 23
 4986 0016 0433     		adds	r3, r3, #4
 4987              		.loc 1 1429 12
 4988 0018 1B68     		ldr	r3, [r3]
 4989 001a 3B61     		str	r3, [r7, #16]
1430:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1431:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (gSNPSiD > USB_OTG_CORE_ID_300A)
 4990              		.loc 1 1431 6
 4991 001c 3B69     		ldr	r3, [r7, #16]
 4992 001e 264A     		ldr	r2, .L207
 4993 0020 9342     		cmp	r3, r2
 4994 0022 0AD9     		bls	.L204
1432:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1433:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((USBx_OUTEP(0U)->DOEPCTL & USB_OTG_DOEPCTL_EPENA) == USB_OTG_DOEPCTL_EPENA)
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 113


 4995              		.loc 1 1433 10
 4996 0024 7B69     		ldr	r3, [r7, #20]
 4997 0026 03F53063 		add	r3, r3, #2816
 4998              		.loc 1 1433 24
 4999 002a 1B68     		ldr	r3, [r3]
 5000              		.loc 1 1433 34
 5001 002c 03F00043 		and	r3, r3, #-2147483648
 5002              		.loc 1 1433 8
 5003 0030 B3F1004F 		cmp	r3, #-2147483648
 5004 0034 01D1     		bne	.L204
1434:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1435:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       return HAL_OK;
 5005              		.loc 1 1435 14
 5006 0036 0023     		movs	r3, #0
 5007 0038 37E0     		b	.L205
 5008              	.L204:
1436:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1437:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1438:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1439:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_OUTEP(0U)->DOEPTSIZ = 0U;
 5009              		.loc 1 1439 3
 5010 003a 7B69     		ldr	r3, [r7, #20]
 5011 003c 03F53063 		add	r3, r3, #2816
 5012 0040 1A46     		mov	r2, r3
 5013              		.loc 1 1439 28
 5014 0042 0023     		movs	r3, #0
 5015 0044 1361     		str	r3, [r2, #16]
1440:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_OUTEP(0U)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_PKTCNT & (1U << 19));
 5016              		.loc 1 1440 28
 5017 0046 7B69     		ldr	r3, [r7, #20]
 5018 0048 03F53063 		add	r3, r3, #2816
 5019 004c 1B69     		ldr	r3, [r3, #16]
 5020 004e 7A69     		ldr	r2, [r7, #20]
 5021 0050 02F53062 		add	r2, r2, #2816
 5022 0054 43F40023 		orr	r3, r3, #524288
 5023 0058 1361     		str	r3, [r2, #16]
1441:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_OUTEP(0U)->DOEPTSIZ |= (3U * 8U);
 5024              		.loc 1 1441 28
 5025 005a 7B69     		ldr	r3, [r7, #20]
 5026 005c 03F53063 		add	r3, r3, #2816
 5027 0060 1B69     		ldr	r3, [r3, #16]
 5028 0062 7A69     		ldr	r2, [r7, #20]
 5029 0064 02F53062 		add	r2, r2, #2816
 5030 0068 43F01803 		orr	r3, r3, #24
 5031 006c 1361     		str	r3, [r2, #16]
1442:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_OUTEP(0U)->DOEPTSIZ |=  USB_OTG_DOEPTSIZ_STUPCNT;
 5032              		.loc 1 1442 28
 5033 006e 7B69     		ldr	r3, [r7, #20]
 5034 0070 03F53063 		add	r3, r3, #2816
 5035 0074 1B69     		ldr	r3, [r3, #16]
 5036 0076 7A69     		ldr	r2, [r7, #20]
 5037 0078 02F53062 		add	r2, r2, #2816
 5038 007c 43F0C043 		orr	r3, r3, #1610612736
 5039 0080 1361     		str	r3, [r2, #16]
1443:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1444:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (dma == 1U)
 5040              		.loc 1 1444 6
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 114


 5041 0082 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 5042 0084 012B     		cmp	r3, #1
 5043 0086 0FD1     		bne	.L206
1445:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1446:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(0U)->DOEPDMA = (uint32_t)psetup;
 5044              		.loc 1 1446 5
 5045 0088 7B69     		ldr	r3, [r7, #20]
 5046 008a 03F53063 		add	r3, r3, #2816
 5047 008e 1A46     		mov	r2, r3
 5048              		.loc 1 1446 31
 5049 0090 7B68     		ldr	r3, [r7, #4]
 5050              		.loc 1 1446 29
 5051 0092 5361     		str	r3, [r2, #20]
1447:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* EP enable */
1448:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(0U)->DOEPCTL |= USB_OTG_DOEPCTL_EPENA | USB_OTG_DOEPCTL_USBAEP;
 5052              		.loc 1 1448 29
 5053 0094 7B69     		ldr	r3, [r7, #20]
 5054 0096 03F53063 		add	r3, r3, #2816
 5055 009a 1B68     		ldr	r3, [r3]
 5056 009c 7A69     		ldr	r2, [r7, #20]
 5057 009e 02F53062 		add	r2, r2, #2816
 5058 00a2 43F08023 		orr	r3, r3, #-2147450880
 5059 00a6 1360     		str	r3, [r2]
 5060              	.L206:
1449:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1450:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1451:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 5061              		.loc 1 1451 10
 5062 00a8 0023     		movs	r3, #0
 5063              	.L205:
1452:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 5064              		.loc 1 1452 1
 5065 00aa 1846     		mov	r0, r3
 5066 00ac 1C37     		adds	r7, r7, #28
 5067              	.LCFI202:
 5068              		.cfi_def_cfa_offset 4
 5069 00ae BD46     		mov	sp, r7
 5070              	.LCFI203:
 5071              		.cfi_def_cfa_register 13
 5072              		@ sp needed
 5073 00b0 5DF8047B 		ldr	r7, [sp], #4
 5074              	.LCFI204:
 5075              		.cfi_restore 7
 5076              		.cfi_def_cfa_offset 0
 5077 00b4 7047     		bx	lr
 5078              	.L208:
 5079 00b6 00BF     		.align	2
 5080              	.L207:
 5081 00b8 0A30544F 		.word	1330917386
 5082              		.cfi_endproc
 5083              	.LFE249:
 5085              		.section	.text.USB_CoreReset,"ax",%progbits
 5086              		.align	1
 5087              		.syntax unified
 5088              		.thumb
 5089              		.thumb_func
 5091              	USB_CoreReset:
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 115


 5092              	.LFB250:
1453:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1454:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1455:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Reset the USB Core (needed after USB clock settings change)
1456:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1457:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1458:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1459:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** static HAL_StatusTypeDef USB_CoreReset(USB_OTG_GlobalTypeDef *USBx)
1460:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 5093              		.loc 1 1460 1
 5094              		.cfi_startproc
 5095              		@ args = 0, pretend = 0, frame = 16
 5096              		@ frame_needed = 1, uses_anonymous_args = 0
 5097              		@ link register save eliminated.
 5098 0000 80B4     		push	{r7}
 5099              	.LCFI205:
 5100              		.cfi_def_cfa_offset 4
 5101              		.cfi_offset 7, -4
 5102 0002 85B0     		sub	sp, sp, #20
 5103              	.LCFI206:
 5104              		.cfi_def_cfa_offset 24
 5105 0004 00AF     		add	r7, sp, #0
 5106              	.LCFI207:
 5107              		.cfi_def_cfa_register 7
 5108 0006 7860     		str	r0, [r7, #4]
1461:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   __IO uint32_t count = 0U;
 5109              		.loc 1 1461 17
 5110 0008 0023     		movs	r3, #0
 5111 000a FB60     		str	r3, [r7, #12]
 5112              	.L212:
1462:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1463:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Wait for AHB master IDLE state. */
1464:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   do
1465:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1466:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     count++;
 5113              		.loc 1 1466 10
 5114 000c FB68     		ldr	r3, [r7, #12]
 5115 000e 0133     		adds	r3, r3, #1
 5116 0010 FB60     		str	r3, [r7, #12]
1467:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1468:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (count > 200000U)
 5117              		.loc 1 1468 15
 5118 0012 FB68     		ldr	r3, [r7, #12]
 5119              		.loc 1 1468 8
 5120 0014 134A     		ldr	r2, .L215
 5121 0016 9342     		cmp	r3, r2
 5122 0018 01D9     		bls	.L210
1469:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1470:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       return HAL_TIMEOUT;
 5123              		.loc 1 1470 14
 5124 001a 0323     		movs	r3, #3
 5125 001c 1BE0     		b	.L211
 5126              	.L210:
1471:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1472:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   } while ((USBx->GRSTCTL & USB_OTG_GRSTCTL_AHBIDL) == 0U);
 5127              		.loc 1 1472 17
 5128 001e 7B68     		ldr	r3, [r7, #4]
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 116


 5129 0020 1B69     		ldr	r3, [r3, #16]
 5130              		.loc 1 1472 53
 5131 0022 002B     		cmp	r3, #0
 5132 0024 F2DA     		bge	.L212
1473:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1474:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Core Soft Reset */
1475:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   count = 0U;
 5133              		.loc 1 1475 9
 5134 0026 0023     		movs	r3, #0
 5135 0028 FB60     		str	r3, [r7, #12]
1476:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GRSTCTL |= USB_OTG_GRSTCTL_CSRST;
 5136              		.loc 1 1476 17
 5137 002a 7B68     		ldr	r3, [r7, #4]
 5138 002c 1B69     		ldr	r3, [r3, #16]
 5139 002e 43F00102 		orr	r2, r3, #1
 5140 0032 7B68     		ldr	r3, [r7, #4]
 5141 0034 1A61     		str	r2, [r3, #16]
 5142              	.L214:
1477:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1478:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   do
1479:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1480:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     count++;
 5143              		.loc 1 1480 10
 5144 0036 FB68     		ldr	r3, [r7, #12]
 5145 0038 0133     		adds	r3, r3, #1
 5146 003a FB60     		str	r3, [r7, #12]
1481:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1482:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (count > 200000U)
 5147              		.loc 1 1482 15
 5148 003c FB68     		ldr	r3, [r7, #12]
 5149              		.loc 1 1482 8
 5150 003e 094A     		ldr	r2, .L215
 5151 0040 9342     		cmp	r3, r2
 5152 0042 01D9     		bls	.L213
1483:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1484:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       return HAL_TIMEOUT;
 5153              		.loc 1 1484 14
 5154 0044 0323     		movs	r3, #3
 5155 0046 06E0     		b	.L211
 5156              	.L213:
1485:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1486:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   } while ((USBx->GRSTCTL & USB_OTG_GRSTCTL_CSRST) == USB_OTG_GRSTCTL_CSRST);
 5157              		.loc 1 1486 17
 5158 0048 7B68     		ldr	r3, [r7, #4]
 5159 004a 1B69     		ldr	r3, [r3, #16]
 5160              		.loc 1 1486 27
 5161 004c 03F00103 		and	r3, r3, #1
 5162              		.loc 1 1486 52
 5163 0050 012B     		cmp	r3, #1
 5164 0052 F0D0     		beq	.L214
1487:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1488:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 5165              		.loc 1 1488 10
 5166 0054 0023     		movs	r3, #0
 5167              	.L211:
1489:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 5168              		.loc 1 1489 1
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 117


 5169 0056 1846     		mov	r0, r3
 5170 0058 1437     		adds	r7, r7, #20
 5171              	.LCFI208:
 5172              		.cfi_def_cfa_offset 4
 5173 005a BD46     		mov	sp, r7
 5174              	.LCFI209:
 5175              		.cfi_def_cfa_register 13
 5176              		@ sp needed
 5177 005c 5DF8047B 		ldr	r7, [sp], #4
 5178              	.LCFI210:
 5179              		.cfi_restore 7
 5180              		.cfi_def_cfa_offset 0
 5181 0060 7047     		bx	lr
 5182              	.L216:
 5183 0062 00BF     		.align	2
 5184              	.L215:
 5185 0064 400D0300 		.word	200000
 5186              		.cfi_endproc
 5187              	.LFE250:
 5189              		.section	.text.USB_HostInit,"ax",%progbits
 5190              		.align	1
 5191              		.global	USB_HostInit
 5192              		.syntax unified
 5193              		.thumb
 5194              		.thumb_func
 5196              	USB_HostInit:
 5197              	.LFB251:
1490:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1491:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1492:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_HostInit : Initializes the USB OTG controller registers
1493:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         for Host mode
1494:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1495:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  cfg   pointer to a USB_OTG_CfgTypeDef structure that contains
1496:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         the configuration information for the specified USBx peripheral.
1497:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1498:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1499:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_HostInit(USB_OTG_GlobalTypeDef *USBx, USB_OTG_CfgTypeDef cfg)
1500:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 5198              		.loc 1 1500 1
 5199              		.cfi_startproc
 5200              		@ args = 56, pretend = 16, frame = 24
 5201              		@ frame_needed = 1, uses_anonymous_args = 0
 5202 0000 84B0     		sub	sp, sp, #16
 5203              	.LCFI211:
 5204              		.cfi_def_cfa_offset 16
 5205 0002 80B5     		push	{r7, lr}
 5206              	.LCFI212:
 5207              		.cfi_def_cfa_offset 24
 5208              		.cfi_offset 7, -24
 5209              		.cfi_offset 14, -20
 5210 0004 86B0     		sub	sp, sp, #24
 5211              	.LCFI213:
 5212              		.cfi_def_cfa_offset 48
 5213 0006 00AF     		add	r7, sp, #0
 5214              	.LCFI214:
 5215              		.cfi_def_cfa_register 7
 5216 0008 7860     		str	r0, [r7, #4]
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 118


 5217 000a 07F12400 		add	r0, r7, #36
 5218 000e 80E80E00 		stm	r0, {r1, r2, r3}
1501:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HAL_StatusTypeDef ret = HAL_OK;
 5219              		.loc 1 1501 21
 5220 0012 0023     		movs	r3, #0
 5221 0014 FB75     		strb	r3, [r7, #23]
1502:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 5222              		.loc 1 1502 12
 5223 0016 7B68     		ldr	r3, [r7, #4]
 5224 0018 FB60     		str	r3, [r7, #12]
1503:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t i;
1504:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1505:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Restart the Phy Clock */
1506:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_PCGCCTL = 0U;
 5225              		.loc 1 1506 3
 5226 001a FB68     		ldr	r3, [r7, #12]
 5227 001c 03F56063 		add	r3, r3, #3584
 5228 0020 1A46     		mov	r2, r3
 5229              		.loc 1 1506 16
 5230 0022 0023     		movs	r3, #0
 5231 0024 1360     		str	r3, [r2]
1507:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1508:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #if defined(STM32F446xx) || defined(STM32F469xx) || defined(STM32F479xx) || defined(STM32F412Zx) ||
1509:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Disable HW VBUS sensing */
1510:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GCCFG &= ~(USB_OTG_GCCFG_VBDEN);
1511:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #else
1512:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /*
1513:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * Disable HW VBUS sensing. VBUS is internally considered to be always
1514:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * at VBUS-Valid level (5V).
1515:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1516:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GCCFG |= USB_OTG_GCCFG_NOVBUSSENS;
 5232              		.loc 1 1516 15
 5233 0026 7B68     		ldr	r3, [r7, #4]
 5234 0028 9B6B     		ldr	r3, [r3, #56]
 5235 002a 43F40012 		orr	r2, r3, #2097152
 5236 002e 7B68     		ldr	r3, [r7, #4]
 5237 0030 9A63     		str	r2, [r3, #56]
1517:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GCCFG &= ~USB_OTG_GCCFG_VBUSBSEN;
 5238              		.loc 1 1517 15
 5239 0032 7B68     		ldr	r3, [r7, #4]
 5240 0034 9B6B     		ldr	r3, [r3, #56]
 5241 0036 23F40022 		bic	r2, r3, #524288
 5242 003a 7B68     		ldr	r3, [r7, #4]
 5243 003c 9A63     		str	r2, [r3, #56]
1518:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GCCFG &= ~USB_OTG_GCCFG_VBUSASEN;
 5244              		.loc 1 1518 15
 5245 003e 7B68     		ldr	r3, [r7, #4]
 5246 0040 9B6B     		ldr	r3, [r3, #56]
 5247 0042 23F48022 		bic	r2, r3, #262144
 5248 0046 7B68     		ldr	r3, [r7, #4]
 5249 0048 9A63     		str	r2, [r3, #56]
1519:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #endif /* defined(STM32F446xx) || defined(STM32F469xx) || defined(STM32F479xx) || defined(STM32F412
1520:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #if defined(STM32F412Zx) || defined(STM32F412Vx) || defined(STM32F412Rx) || defined(STM32F412Cx) ||
1521:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Disable Battery chargin detector */
1522:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GCCFG &= ~(USB_OTG_GCCFG_BCDEN);
1523:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #endif /* defined(STM32F412Zx) || defined(STM32F412Vx) || defined(STM32F412Rx) || defined(STM32F412
1524:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 119


1525:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if ((USBx->CID & (0x1U << 8)) != 0U)
 5250              		.loc 1 1525 12
 5251 004a 7B68     		ldr	r3, [r7, #4]
 5252 004c DB6B     		ldr	r3, [r3, #60]
 5253              		.loc 1 1525 18
 5254 004e 03F48073 		and	r3, r3, #256
 5255              		.loc 1 1525 6
 5256 0052 002B     		cmp	r3, #0
 5257 0054 18D0     		beq	.L218
1526:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1527:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (cfg.speed == USBH_FSLS_SPEED)
 5258              		.loc 1 1527 12
 5259 0056 FB6A     		ldr	r3, [r7, #44]
 5260              		.loc 1 1527 8
 5261 0058 012B     		cmp	r3, #1
 5262 005a 0AD1     		bne	.L219
1528:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1529:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Force Device Enumeration to FS/LS mode only */
1530:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HOST->HCFG |= USB_OTG_HCFG_FSLSS;
 5263              		.loc 1 1530 23
 5264 005c FB68     		ldr	r3, [r7, #12]
 5265 005e 03F58063 		add	r3, r3, #1024
 5266 0062 1B68     		ldr	r3, [r3]
 5267 0064 FA68     		ldr	r2, [r7, #12]
 5268 0066 02F58062 		add	r2, r2, #1024
 5269 006a 43F00403 		orr	r3, r3, #4
 5270 006e 1360     		str	r3, [r2]
 5271 0070 14E0     		b	.L220
 5272              	.L219:
1531:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1532:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
1533:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1534:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Set default Max speed support */
1535:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HOST->HCFG &= ~(USB_OTG_HCFG_FSLSS);
 5273              		.loc 1 1535 23
 5274 0072 FB68     		ldr	r3, [r7, #12]
 5275 0074 03F58063 		add	r3, r3, #1024
 5276 0078 1B68     		ldr	r3, [r3]
 5277 007a FA68     		ldr	r2, [r7, #12]
 5278 007c 02F58062 		add	r2, r2, #1024
 5279 0080 23F00403 		bic	r3, r3, #4
 5280 0084 1360     		str	r3, [r2]
 5281 0086 09E0     		b	.L220
 5282              	.L218:
1536:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1537:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1538:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
1539:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1540:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Set default Max speed support */
1541:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HOST->HCFG &= ~(USB_OTG_HCFG_FSLSS);
 5283              		.loc 1 1541 21
 5284 0088 FB68     		ldr	r3, [r7, #12]
 5285 008a 03F58063 		add	r3, r3, #1024
 5286 008e 1B68     		ldr	r3, [r3]
 5287 0090 FA68     		ldr	r2, [r7, #12]
 5288 0092 02F58062 		add	r2, r2, #1024
 5289 0096 23F00403 		bic	r3, r3, #4
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 120


 5290 009a 1360     		str	r3, [r2]
 5291              	.L220:
1542:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1543:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1544:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Make sure the FIFOs are flushed. */
1545:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (USB_FlushTxFifo(USBx, 0x10U) != HAL_OK) /* all Tx FIFOs */
 5292              		.loc 1 1545 7
 5293 009c 1021     		movs	r1, #16
 5294 009e 7868     		ldr	r0, [r7, #4]
 5295 00a0 FFF7FEFF 		bl	USB_FlushTxFifo
 5296 00a4 0346     		mov	r3, r0
 5297              		.loc 1 1545 6
 5298 00a6 002B     		cmp	r3, #0
 5299 00a8 01D0     		beq	.L221
1546:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1547:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     ret = HAL_ERROR;
 5300              		.loc 1 1547 9
 5301 00aa 0123     		movs	r3, #1
 5302 00ac FB75     		strb	r3, [r7, #23]
 5303              	.L221:
1548:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1549:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1550:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (USB_FlushRxFifo(USBx) != HAL_OK)
 5304              		.loc 1 1550 7
 5305 00ae 7868     		ldr	r0, [r7, #4]
 5306 00b0 FFF7FEFF 		bl	USB_FlushRxFifo
 5307 00b4 0346     		mov	r3, r0
 5308              		.loc 1 1550 6
 5309 00b6 002B     		cmp	r3, #0
 5310 00b8 01D0     		beq	.L222
1551:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1552:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     ret = HAL_ERROR;
 5311              		.loc 1 1552 9
 5312 00ba 0123     		movs	r3, #1
 5313 00bc FB75     		strb	r3, [r7, #23]
 5314              	.L222:
1553:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1554:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1555:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Clear all pending HC Interrupts */
1556:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   for (i = 0U; i < cfg.Host_channels; i++)
 5315              		.loc 1 1556 10
 5316 00be 0023     		movs	r3, #0
 5317 00c0 3B61     		str	r3, [r7, #16]
 5318              		.loc 1 1556 3
 5319 00c2 15E0     		b	.L223
 5320              	.L224:
1557:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1558:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(i)->HCINT = 0xFFFFFFFFU;
 5321              		.loc 1 1558 5 discriminator 3
 5322 00c4 3B69     		ldr	r3, [r7, #16]
 5323 00c6 5A01     		lsls	r2, r3, #5
 5324 00c8 FB68     		ldr	r3, [r7, #12]
 5325 00ca 1344     		add	r3, r3, r2
 5326 00cc 03F5A063 		add	r3, r3, #1280
 5327 00d0 1A46     		mov	r2, r3
 5328              		.loc 1 1558 23 discriminator 3
 5329 00d2 4FF0FF33 		mov	r3, #-1
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 121


 5330 00d6 9360     		str	r3, [r2, #8]
1559:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(i)->HCINTMSK = 0U;
 5331              		.loc 1 1559 5 discriminator 3
 5332 00d8 3B69     		ldr	r3, [r7, #16]
 5333 00da 5A01     		lsls	r2, r3, #5
 5334 00dc FB68     		ldr	r3, [r7, #12]
 5335 00de 1344     		add	r3, r3, r2
 5336 00e0 03F5A063 		add	r3, r3, #1280
 5337 00e4 1A46     		mov	r2, r3
 5338              		.loc 1 1559 26 discriminator 3
 5339 00e6 0023     		movs	r3, #0
 5340 00e8 D360     		str	r3, [r2, #12]
1556:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 5341              		.loc 1 1556 40 discriminator 3
 5342 00ea 3B69     		ldr	r3, [r7, #16]
 5343 00ec 0133     		adds	r3, r3, #1
 5344 00ee 3B61     		str	r3, [r7, #16]
 5345              	.L223:
1556:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 5346              		.loc 1 1556 23 discriminator 1
 5347 00f0 BB6A     		ldr	r3, [r7, #40]
1556:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 5348              		.loc 1 1556 18 discriminator 1
 5349 00f2 3A69     		ldr	r2, [r7, #16]
 5350 00f4 9A42     		cmp	r2, r3
 5351 00f6 E5D3     		bcc	.L224
1560:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1561:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1562:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Disable all interrupts. */
1563:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTMSK = 0U;
 5352              		.loc 1 1563 17
 5353 00f8 7B68     		ldr	r3, [r7, #4]
 5354 00fa 0022     		movs	r2, #0
 5355 00fc 9A61     		str	r2, [r3, #24]
1564:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1565:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Clear any pending interrupts */
1566:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTSTS = 0xFFFFFFFFU;
 5356              		.loc 1 1566 17
 5357 00fe 7B68     		ldr	r3, [r7, #4]
 5358 0100 4FF0FF32 		mov	r2, #-1
 5359 0104 5A61     		str	r2, [r3, #20]
1567:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1568:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if ((USBx->CID & (0x1U << 8)) != 0U)
 5360              		.loc 1 1568 12
 5361 0106 7B68     		ldr	r3, [r7, #4]
 5362 0108 DB6B     		ldr	r3, [r3, #60]
 5363              		.loc 1 1568 18
 5364 010a 03F48073 		and	r3, r3, #256
 5365              		.loc 1 1568 6
 5366 010e 002B     		cmp	r3, #0
 5367 0110 0BD0     		beq	.L225
1569:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1570:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* set Rx FIFO size */
1571:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GRXFSIZ  = 0x200U;
 5368              		.loc 1 1571 20
 5369 0112 7B68     		ldr	r3, [r7, #4]
 5370 0114 4FF40072 		mov	r2, #512
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 122


 5371 0118 5A62     		str	r2, [r3, #36]
1572:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->DIEPTXF0_HNPTXFSIZ = (uint32_t)(((0x100U << 16) & USB_OTG_NPTXFD) | 0x200U);
 5372              		.loc 1 1572 30
 5373 011a 7B68     		ldr	r3, [r7, #4]
 5374 011c 134A     		ldr	r2, .L229
 5375 011e 9A62     		str	r2, [r3, #40]
1573:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->HPTXFSIZ = (uint32_t)(((0xE0U << 16) & USB_OTG_HPTXFSIZ_PTXFD) | 0x300U);
 5376              		.loc 1 1573 20
 5377 0120 7B68     		ldr	r3, [r7, #4]
 5378 0122 134A     		ldr	r2, .L229+4
 5379 0124 C3F80021 		str	r2, [r3, #256]
 5380 0128 09E0     		b	.L226
 5381              	.L225:
1574:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1575:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
1576:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1577:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* set Rx FIFO size */
1578:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GRXFSIZ  = 0x80U;
 5382              		.loc 1 1578 20
 5383 012a 7B68     		ldr	r3, [r7, #4]
 5384 012c 8022     		movs	r2, #128
 5385 012e 5A62     		str	r2, [r3, #36]
1579:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->DIEPTXF0_HNPTXFSIZ = (uint32_t)(((0x60U << 16) & USB_OTG_NPTXFD) | 0x80U);
 5386              		.loc 1 1579 30
 5387 0130 7B68     		ldr	r3, [r7, #4]
 5388 0132 104A     		ldr	r2, .L229+8
 5389 0134 9A62     		str	r2, [r3, #40]
1580:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->HPTXFSIZ = (uint32_t)(((0x40U << 16)& USB_OTG_HPTXFSIZ_PTXFD) | 0xE0U);
 5390              		.loc 1 1580 20
 5391 0136 7B68     		ldr	r3, [r7, #4]
 5392 0138 0F4A     		ldr	r2, .L229+12
 5393 013a C3F80021 		str	r2, [r3, #256]
 5394              	.L226:
1581:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1582:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1583:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Enable the common interrupts */
1584:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.dma_enable == 0U)
 5395              		.loc 1 1584 10
 5396 013e 3B6B     		ldr	r3, [r7, #48]
 5397              		.loc 1 1584 6
 5398 0140 002B     		cmp	r3, #0
 5399 0142 05D1     		bne	.L227
1585:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1586:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GINTMSK |= USB_OTG_GINTMSK_RXFLVLM;
 5400              		.loc 1 1586 19
 5401 0144 7B68     		ldr	r3, [r7, #4]
 5402 0146 9B69     		ldr	r3, [r3, #24]
 5403 0148 43F01002 		orr	r2, r3, #16
 5404 014c 7B68     		ldr	r3, [r7, #4]
 5405 014e 9A61     		str	r2, [r3, #24]
 5406              	.L227:
1587:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1588:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1589:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Enable interrupts matching to the Host mode ONLY */
1590:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTMSK |= (USB_OTG_GINTMSK_PRTIM            | USB_OTG_GINTMSK_HCIM | \
 5407              		.loc 1 1590 17
 5408 0150 7B68     		ldr	r3, [r7, #4]
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 123


 5409 0152 9A69     		ldr	r2, [r3, #24]
 5410 0154 094B     		ldr	r3, .L229+16
 5411 0156 1343     		orrs	r3, r3, r2
 5412 0158 7A68     		ldr	r2, [r7, #4]
 5413 015a 9361     		str	r3, [r2, #24]
1591:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                     USB_OTG_GINTMSK_SOFM             | USB_OTG_GINTSTS_DISCINT | \
1592:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                     USB_OTG_GINTMSK_PXFRM_IISOOXFRM  | USB_OTG_GINTMSK_WUIM);
1593:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1594:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ret;
 5414              		.loc 1 1594 10
 5415 015c FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
1595:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 5416              		.loc 1 1595 1
 5417 015e 1846     		mov	r0, r3
 5418 0160 1837     		adds	r7, r7, #24
 5419              	.LCFI215:
 5420              		.cfi_def_cfa_offset 24
 5421 0162 BD46     		mov	sp, r7
 5422              	.LCFI216:
 5423              		.cfi_def_cfa_register 13
 5424              		@ sp needed
 5425 0164 BDE88040 		pop	{r7, lr}
 5426              	.LCFI217:
 5427              		.cfi_restore 14
 5428              		.cfi_restore 7
 5429              		.cfi_def_cfa_offset 16
 5430 0168 04B0     		add	sp, sp, #16
 5431              	.LCFI218:
 5432              		.cfi_def_cfa_offset 0
 5433 016a 7047     		bx	lr
 5434              	.L230:
 5435              		.align	2
 5436              	.L229:
 5437 016c 00020001 		.word	16777728
 5438 0170 0003E000 		.word	14680832
 5439 0174 80006000 		.word	6291584
 5440 0178 E0004000 		.word	4194528
 5441 017c 080020A3 		.word	-1558183928
 5442              		.cfi_endproc
 5443              	.LFE251:
 5445              		.section	.text.USB_InitFSLSPClkSel,"ax",%progbits
 5446              		.align	1
 5447              		.global	USB_InitFSLSPClkSel
 5448              		.syntax unified
 5449              		.thumb
 5450              		.thumb_func
 5452              	USB_InitFSLSPClkSel:
 5453              	.LFB252:
1596:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1597:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1598:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_InitFSLSPClkSel : Initializes the FSLSPClkSel field of the
1599:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         HCFG register on the PHY type and set the right frame interval
1600:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1601:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  freq  clock frequency
1602:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
1603:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           HCFG_48_MHZ : Full Speed 48 MHz Clock
1604:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           HCFG_6_MHZ : Low Speed 6 MHz Clock
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 124


1605:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1606:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1607:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_InitFSLSPClkSel(USB_OTG_GlobalTypeDef *USBx, uint8_t freq)
1608:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 5454              		.loc 1 1608 1
 5455              		.cfi_startproc
 5456              		@ args = 0, pretend = 0, frame = 16
 5457              		@ frame_needed = 1, uses_anonymous_args = 0
 5458              		@ link register save eliminated.
 5459 0000 80B4     		push	{r7}
 5460              	.LCFI219:
 5461              		.cfi_def_cfa_offset 4
 5462              		.cfi_offset 7, -4
 5463 0002 85B0     		sub	sp, sp, #20
 5464              	.LCFI220:
 5465              		.cfi_def_cfa_offset 24
 5466 0004 00AF     		add	r7, sp, #0
 5467              	.LCFI221:
 5468              		.cfi_def_cfa_register 7
 5469 0006 7860     		str	r0, [r7, #4]
 5470 0008 0B46     		mov	r3, r1
 5471 000a FB70     		strb	r3, [r7, #3]
1609:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 5472              		.loc 1 1609 12
 5473 000c 7B68     		ldr	r3, [r7, #4]
 5474 000e FB60     		str	r3, [r7, #12]
1610:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1611:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HOST->HCFG &= ~(USB_OTG_HCFG_FSLSPCS);
 5475              		.loc 1 1611 19
 5476 0010 FB68     		ldr	r3, [r7, #12]
 5477 0012 03F58063 		add	r3, r3, #1024
 5478 0016 1B68     		ldr	r3, [r3]
 5479 0018 FA68     		ldr	r2, [r7, #12]
 5480 001a 02F58062 		add	r2, r2, #1024
 5481 001e 23F00303 		bic	r3, r3, #3
 5482 0022 1360     		str	r3, [r2]
1612:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HOST->HCFG |= (uint32_t)freq & USB_OTG_HCFG_FSLSPCS;
 5483              		.loc 1 1612 19
 5484 0024 FB68     		ldr	r3, [r7, #12]
 5485 0026 03F58063 		add	r3, r3, #1024
 5486 002a 1A68     		ldr	r2, [r3]
 5487              		.loc 1 1612 37
 5488 002c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5489 002e 03F00303 		and	r3, r3, #3
 5490              		.loc 1 1612 19
 5491 0032 F968     		ldr	r1, [r7, #12]
 5492 0034 01F58061 		add	r1, r1, #1024
 5493 0038 1343     		orrs	r3, r3, r2
 5494 003a 0B60     		str	r3, [r1]
1613:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1614:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (freq == HCFG_48_MHZ)
 5495              		.loc 1 1614 6
 5496 003c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5497 003e 012B     		cmp	r3, #1
 5498 0040 07D1     		bne	.L232
1615:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1616:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HOST->HFIR = 48000U;
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 125


 5499              		.loc 1 1616 5
 5500 0042 FB68     		ldr	r3, [r7, #12]
 5501 0044 03F58063 		add	r3, r3, #1024
 5502 0048 1A46     		mov	r2, r3
 5503              		.loc 1 1616 21
 5504 004a 4BF68033 		movw	r3, #48000
 5505 004e 5360     		str	r3, [r2, #4]
 5506 0050 09E0     		b	.L233
 5507              	.L232:
1617:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1618:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else if (freq == HCFG_6_MHZ)
 5508              		.loc 1 1618 11
 5509 0052 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5510 0054 022B     		cmp	r3, #2
 5511 0056 06D1     		bne	.L233
1619:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1620:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HOST->HFIR = 6000U;
 5512              		.loc 1 1620 5
 5513 0058 FB68     		ldr	r3, [r7, #12]
 5514 005a 03F58063 		add	r3, r3, #1024
 5515 005e 1A46     		mov	r2, r3
 5516              		.loc 1 1620 21
 5517 0060 41F27073 		movw	r3, #6000
 5518 0064 5360     		str	r3, [r2, #4]
 5519              	.L233:
1621:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1622:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
1623:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1624:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* ... */
1625:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1626:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1627:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 5520              		.loc 1 1627 10
 5521 0066 0023     		movs	r3, #0
1628:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 5522              		.loc 1 1628 1
 5523 0068 1846     		mov	r0, r3
 5524 006a 1437     		adds	r7, r7, #20
 5525              	.LCFI222:
 5526              		.cfi_def_cfa_offset 4
 5527 006c BD46     		mov	sp, r7
 5528              	.LCFI223:
 5529              		.cfi_def_cfa_register 13
 5530              		@ sp needed
 5531 006e 5DF8047B 		ldr	r7, [sp], #4
 5532              	.LCFI224:
 5533              		.cfi_restore 7
 5534              		.cfi_def_cfa_offset 0
 5535 0072 7047     		bx	lr
 5536              		.cfi_endproc
 5537              	.LFE252:
 5539              		.section	.text.USB_ResetPort,"ax",%progbits
 5540              		.align	1
 5541              		.global	USB_ResetPort
 5542              		.syntax unified
 5543              		.thumb
 5544              		.thumb_func
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 126


 5546              	USB_ResetPort:
 5547              	.LFB253:
1629:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1630:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1631:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_OTG_ResetPort : Reset Host Port
1632:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1633:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1634:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @note (1)The application must wait at least 10 ms
1635:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *   before clearing the reset bit.
1636:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1637:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_ResetPort(USB_OTG_GlobalTypeDef *USBx)
1638:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 5548              		.loc 1 1638 1
 5549              		.cfi_startproc
 5550              		@ args = 0, pretend = 0, frame = 16
 5551              		@ frame_needed = 1, uses_anonymous_args = 0
 5552 0000 80B5     		push	{r7, lr}
 5553              	.LCFI225:
 5554              		.cfi_def_cfa_offset 8
 5555              		.cfi_offset 7, -8
 5556              		.cfi_offset 14, -4
 5557 0002 84B0     		sub	sp, sp, #16
 5558              	.LCFI226:
 5559              		.cfi_def_cfa_offset 24
 5560 0004 00AF     		add	r7, sp, #0
 5561              	.LCFI227:
 5562              		.cfi_def_cfa_register 7
 5563 0006 7860     		str	r0, [r7, #4]
1639:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 5564              		.loc 1 1639 12
 5565 0008 7B68     		ldr	r3, [r7, #4]
 5566 000a FB60     		str	r3, [r7, #12]
1640:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1641:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   __IO uint32_t hprt0 = 0U;
 5567              		.loc 1 1641 17
 5568 000c 0023     		movs	r3, #0
 5569 000e BB60     		str	r3, [r7, #8]
1642:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1643:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   hprt0 = USBx_HPRT0;
 5570              		.loc 1 1643 11
 5571 0010 FB68     		ldr	r3, [r7, #12]
 5572 0012 03F58863 		add	r3, r3, #1088
 5573 0016 1B68     		ldr	r3, [r3]
 5574              		.loc 1 1643 9
 5575 0018 BB60     		str	r3, [r7, #8]
1644:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1645:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   hprt0 &= ~(USB_OTG_HPRT_PENA | USB_OTG_HPRT_PCDET |
 5576              		.loc 1 1645 9
 5577 001a BB68     		ldr	r3, [r7, #8]
 5578 001c 23F02E03 		bic	r3, r3, #46
 5579 0020 BB60     		str	r3, [r7, #8]
1646:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****              USB_OTG_HPRT_PENCHNG | USB_OTG_HPRT_POCCHNG);
1647:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1648:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HPRT0 = (USB_OTG_HPRT_PRST | hprt0);
 5580              		.loc 1 1648 35
 5581 0022 BB68     		ldr	r3, [r7, #8]
 5582              		.loc 1 1648 3
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 127


 5583 0024 FA68     		ldr	r2, [r7, #12]
 5584 0026 02F58862 		add	r2, r2, #1088
 5585              		.loc 1 1648 35
 5586 002a 43F48073 		orr	r3, r3, #256
 5587              		.loc 1 1648 14
 5588 002e 1360     		str	r3, [r2]
1649:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HAL_Delay(100U);                                 /* See Note #1 */
 5589              		.loc 1 1649 3
 5590 0030 6420     		movs	r0, #100
 5591 0032 FFF7FEFF 		bl	HAL_Delay
1650:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HPRT0 = ((~USB_OTG_HPRT_PRST) & hprt0);
 5592              		.loc 1 1650 38
 5593 0036 BB68     		ldr	r3, [r7, #8]
 5594              		.loc 1 1650 3
 5595 0038 FA68     		ldr	r2, [r7, #12]
 5596 003a 02F58862 		add	r2, r2, #1088
 5597              		.loc 1 1650 38
 5598 003e 23F48073 		bic	r3, r3, #256
 5599              		.loc 1 1650 14
 5600 0042 1360     		str	r3, [r2]
1651:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HAL_Delay(10U);
 5601              		.loc 1 1651 3
 5602 0044 0A20     		movs	r0, #10
 5603 0046 FFF7FEFF 		bl	HAL_Delay
1652:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1653:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 5604              		.loc 1 1653 10
 5605 004a 0023     		movs	r3, #0
1654:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 5606              		.loc 1 1654 1
 5607 004c 1846     		mov	r0, r3
 5608 004e 1037     		adds	r7, r7, #16
 5609              	.LCFI228:
 5610              		.cfi_def_cfa_offset 8
 5611 0050 BD46     		mov	sp, r7
 5612              	.LCFI229:
 5613              		.cfi_def_cfa_register 13
 5614              		@ sp needed
 5615 0052 80BD     		pop	{r7, pc}
 5616              		.cfi_endproc
 5617              	.LFE253:
 5619              		.section	.text.USB_DriveVbus,"ax",%progbits
 5620              		.align	1
 5621              		.global	USB_DriveVbus
 5622              		.syntax unified
 5623              		.thumb
 5624              		.thumb_func
 5626              	USB_DriveVbus:
 5627              	.LFB254:
1655:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1656:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1657:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_DriveVbus : activate or de-activate vbus
1658:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  state  VBUS state
1659:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
1660:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           0 : Deactivate VBUS
1661:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           1 : Activate VBUS
1662:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 128


1663:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1664:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_DriveVbus(USB_OTG_GlobalTypeDef *USBx, uint8_t state)
1665:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 5628              		.loc 1 1665 1
 5629              		.cfi_startproc
 5630              		@ args = 0, pretend = 0, frame = 16
 5631              		@ frame_needed = 1, uses_anonymous_args = 0
 5632              		@ link register save eliminated.
 5633 0000 80B4     		push	{r7}
 5634              	.LCFI230:
 5635              		.cfi_def_cfa_offset 4
 5636              		.cfi_offset 7, -4
 5637 0002 85B0     		sub	sp, sp, #20
 5638              	.LCFI231:
 5639              		.cfi_def_cfa_offset 24
 5640 0004 00AF     		add	r7, sp, #0
 5641              	.LCFI232:
 5642              		.cfi_def_cfa_register 7
 5643 0006 7860     		str	r0, [r7, #4]
 5644 0008 0B46     		mov	r3, r1
 5645 000a FB70     		strb	r3, [r7, #3]
1666:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 5646              		.loc 1 1666 12
 5647 000c 7B68     		ldr	r3, [r7, #4]
 5648 000e FB60     		str	r3, [r7, #12]
1667:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   __IO uint32_t hprt0 = 0U;
 5649              		.loc 1 1667 17
 5650 0010 0023     		movs	r3, #0
 5651 0012 BB60     		str	r3, [r7, #8]
1668:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1669:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   hprt0 = USBx_HPRT0;
 5652              		.loc 1 1669 11
 5653 0014 FB68     		ldr	r3, [r7, #12]
 5654 0016 03F58863 		add	r3, r3, #1088
 5655 001a 1B68     		ldr	r3, [r3]
 5656              		.loc 1 1669 9
 5657 001c BB60     		str	r3, [r7, #8]
1670:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1671:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   hprt0 &= ~(USB_OTG_HPRT_PENA | USB_OTG_HPRT_PCDET |
 5658              		.loc 1 1671 9
 5659 001e BB68     		ldr	r3, [r7, #8]
 5660 0020 23F02E03 		bic	r3, r3, #46
 5661 0024 BB60     		str	r3, [r7, #8]
1672:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****              USB_OTG_HPRT_PENCHNG | USB_OTG_HPRT_POCCHNG);
1673:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1674:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (((hprt0 & USB_OTG_HPRT_PPWR) == 0U) && (state == 1U))
 5662              		.loc 1 1674 15
 5663 0026 BB68     		ldr	r3, [r7, #8]
 5664 0028 03F48053 		and	r3, r3, #4096
 5665              		.loc 1 1674 6
 5666 002c 002B     		cmp	r3, #0
 5667 002e 09D1     		bne	.L238
 5668              		.loc 1 1674 43 discriminator 1
 5669 0030 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5670 0032 012B     		cmp	r3, #1
 5671 0034 06D1     		bne	.L238
1675:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 129


1676:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HPRT0 = (USB_OTG_HPRT_PPWR | hprt0);
 5672              		.loc 1 1676 37
 5673 0036 BB68     		ldr	r3, [r7, #8]
 5674              		.loc 1 1676 5
 5675 0038 FA68     		ldr	r2, [r7, #12]
 5676 003a 02F58862 		add	r2, r2, #1088
 5677              		.loc 1 1676 37
 5678 003e 43F48053 		orr	r3, r3, #4096
 5679              		.loc 1 1676 16
 5680 0042 1360     		str	r3, [r2]
 5681              	.L238:
1677:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1678:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (((hprt0 & USB_OTG_HPRT_PPWR) == USB_OTG_HPRT_PPWR) && (state == 0U))
 5682              		.loc 1 1678 15
 5683 0044 BB68     		ldr	r3, [r7, #8]
 5684 0046 03F48053 		and	r3, r3, #4096
 5685              		.loc 1 1678 6
 5686 004a B3F5805F 		cmp	r3, #4096
 5687 004e 09D1     		bne	.L239
 5688              		.loc 1 1678 58 discriminator 1
 5689 0050 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5690 0052 002B     		cmp	r3, #0
 5691 0054 06D1     		bne	.L239
1679:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1680:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HPRT0 = ((~USB_OTG_HPRT_PPWR) & hprt0);
 5692              		.loc 1 1680 40
 5693 0056 BB68     		ldr	r3, [r7, #8]
 5694              		.loc 1 1680 5
 5695 0058 FA68     		ldr	r2, [r7, #12]
 5696 005a 02F58862 		add	r2, r2, #1088
 5697              		.loc 1 1680 40
 5698 005e 23F48053 		bic	r3, r3, #4096
 5699              		.loc 1 1680 16
 5700 0062 1360     		str	r3, [r2]
 5701              	.L239:
1681:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1682:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 5702              		.loc 1 1682 10
 5703 0064 0023     		movs	r3, #0
1683:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 5704              		.loc 1 1683 1
 5705 0066 1846     		mov	r0, r3
 5706 0068 1437     		adds	r7, r7, #20
 5707              	.LCFI233:
 5708              		.cfi_def_cfa_offset 4
 5709 006a BD46     		mov	sp, r7
 5710              	.LCFI234:
 5711              		.cfi_def_cfa_register 13
 5712              		@ sp needed
 5713 006c 5DF8047B 		ldr	r7, [sp], #4
 5714              	.LCFI235:
 5715              		.cfi_restore 7
 5716              		.cfi_def_cfa_offset 0
 5717 0070 7047     		bx	lr
 5718              		.cfi_endproc
 5719              	.LFE254:
 5721              		.section	.text.USB_GetHostSpeed,"ax",%progbits
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 130


 5722              		.align	1
 5723              		.global	USB_GetHostSpeed
 5724              		.syntax unified
 5725              		.thumb
 5726              		.thumb_func
 5728              	USB_GetHostSpeed:
 5729              	.LFB255:
1684:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1685:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1686:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Return Host Core speed
1687:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1688:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval speed : Host speed
1689:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
1690:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg HCD_SPEED_HIGH: High speed mode
1691:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg HCD_SPEED_FULL: Full speed mode
1692:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg HCD_SPEED_LOW: Low speed mode
1693:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1694:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t USB_GetHostSpeed(USB_OTG_GlobalTypeDef *USBx)
1695:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 5730              		.loc 1 1695 1
 5731              		.cfi_startproc
 5732              		@ args = 0, pretend = 0, frame = 16
 5733              		@ frame_needed = 1, uses_anonymous_args = 0
 5734              		@ link register save eliminated.
 5735 0000 80B4     		push	{r7}
 5736              	.LCFI236:
 5737              		.cfi_def_cfa_offset 4
 5738              		.cfi_offset 7, -4
 5739 0002 85B0     		sub	sp, sp, #20
 5740              	.LCFI237:
 5741              		.cfi_def_cfa_offset 24
 5742 0004 00AF     		add	r7, sp, #0
 5743              	.LCFI238:
 5744              		.cfi_def_cfa_register 7
 5745 0006 7860     		str	r0, [r7, #4]
1696:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 5746              		.loc 1 1696 12
 5747 0008 7B68     		ldr	r3, [r7, #4]
 5748 000a FB60     		str	r3, [r7, #12]
1697:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   __IO uint32_t hprt0 = 0U;
 5749              		.loc 1 1697 17
 5750 000c 0023     		movs	r3, #0
 5751 000e BB60     		str	r3, [r7, #8]
1698:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1699:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   hprt0 = USBx_HPRT0;
 5752              		.loc 1 1699 11
 5753 0010 FB68     		ldr	r3, [r7, #12]
 5754 0012 03F58863 		add	r3, r3, #1088
 5755 0016 1B68     		ldr	r3, [r3]
 5756              		.loc 1 1699 9
 5757 0018 BB60     		str	r3, [r7, #8]
1700:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ((hprt0 & USB_OTG_HPRT_PSPD) >> 17);
 5758              		.loc 1 1700 39
 5759 001a BB68     		ldr	r3, [r7, #8]
 5760 001c 5B0C     		lsrs	r3, r3, #17
 5761 001e 03F00303 		and	r3, r3, #3
1701:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 131


 5762              		.loc 1 1701 1
 5763 0022 1846     		mov	r0, r3
 5764 0024 1437     		adds	r7, r7, #20
 5765              	.LCFI239:
 5766              		.cfi_def_cfa_offset 4
 5767 0026 BD46     		mov	sp, r7
 5768              	.LCFI240:
 5769              		.cfi_def_cfa_register 13
 5770              		@ sp needed
 5771 0028 5DF8047B 		ldr	r7, [sp], #4
 5772              	.LCFI241:
 5773              		.cfi_restore 7
 5774              		.cfi_def_cfa_offset 0
 5775 002c 7047     		bx	lr
 5776              		.cfi_endproc
 5777              	.LFE255:
 5779              		.section	.text.USB_GetCurrentFrame,"ax",%progbits
 5780              		.align	1
 5781              		.global	USB_GetCurrentFrame
 5782              		.syntax unified
 5783              		.thumb
 5784              		.thumb_func
 5786              	USB_GetCurrentFrame:
 5787              	.LFB256:
1702:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1703:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1704:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Return Host Current Frame number
1705:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1706:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval current frame number
1707:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1708:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t USB_GetCurrentFrame(USB_OTG_GlobalTypeDef *USBx)
1709:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 5788              		.loc 1 1709 1
 5789              		.cfi_startproc
 5790              		@ args = 0, pretend = 0, frame = 16
 5791              		@ frame_needed = 1, uses_anonymous_args = 0
 5792              		@ link register save eliminated.
 5793 0000 80B4     		push	{r7}
 5794              	.LCFI242:
 5795              		.cfi_def_cfa_offset 4
 5796              		.cfi_offset 7, -4
 5797 0002 85B0     		sub	sp, sp, #20
 5798              	.LCFI243:
 5799              		.cfi_def_cfa_offset 24
 5800 0004 00AF     		add	r7, sp, #0
 5801              	.LCFI244:
 5802              		.cfi_def_cfa_register 7
 5803 0006 7860     		str	r0, [r7, #4]
1710:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 5804              		.loc 1 1710 12
 5805 0008 7B68     		ldr	r3, [r7, #4]
 5806 000a FB60     		str	r3, [r7, #12]
1711:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1712:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return (USBx_HOST->HFNUM & USB_OTG_HFNUM_FRNUM);
 5807              		.loc 1 1712 11
 5808 000c FB68     		ldr	r3, [r7, #12]
 5809 000e 03F58063 		add	r3, r3, #1024
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 132


 5810              		.loc 1 1712 20
 5811 0012 9B68     		ldr	r3, [r3, #8]
 5812              		.loc 1 1712 28
 5813 0014 9BB2     		uxth	r3, r3
1713:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 5814              		.loc 1 1713 1
 5815 0016 1846     		mov	r0, r3
 5816 0018 1437     		adds	r7, r7, #20
 5817              	.LCFI245:
 5818              		.cfi_def_cfa_offset 4
 5819 001a BD46     		mov	sp, r7
 5820              	.LCFI246:
 5821              		.cfi_def_cfa_register 13
 5822              		@ sp needed
 5823 001c 5DF8047B 		ldr	r7, [sp], #4
 5824              	.LCFI247:
 5825              		.cfi_restore 7
 5826              		.cfi_def_cfa_offset 0
 5827 0020 7047     		bx	lr
 5828              		.cfi_endproc
 5829              	.LFE256:
 5831              		.section	.text.USB_HC_Init,"ax",%progbits
 5832              		.align	1
 5833              		.global	USB_HC_Init
 5834              		.syntax unified
 5835              		.thumb
 5836              		.thumb_func
 5838              	USB_HC_Init:
 5839              	.LFB257:
1714:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1715:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1716:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Initialize a host channel
1717:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1718:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ch_num  Channel number
1719:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         This parameter can be a value from 1 to 15
1720:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  epnum  Endpoint number
1721:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be a value from 1 to 15
1722:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  dev_address  Current device address
1723:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be a value from 0 to 255
1724:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  speed  Current device speed
1725:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
1726:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_HIGH: High speed mode
1727:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_FULL: Full speed mode
1728:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_LOW: Low speed mode
1729:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep_type  Endpoint Type
1730:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
1731:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg EP_TYPE_CTRL: Control type
1732:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg EP_TYPE_ISOC: Isochronous type
1733:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg EP_TYPE_BULK: Bulk type
1734:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg EP_TYPE_INTR: Interrupt type
1735:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  mps  Max Packet Size
1736:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be a value from 0 to 32K
1737:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL state
1738:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1739:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_HC_Init(USB_OTG_GlobalTypeDef *USBx, uint8_t ch_num,
1740:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                               uint8_t epnum, uint8_t dev_address, uint8_t speed,
1741:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                               uint8_t ep_type, uint16_t mps)
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 133


1742:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 5840              		.loc 1 1742 1
 5841              		.cfi_startproc
 5842              		@ args = 12, pretend = 0, frame = 32
 5843              		@ frame_needed = 1, uses_anonymous_args = 0
 5844 0000 80B5     		push	{r7, lr}
 5845              	.LCFI248:
 5846              		.cfi_def_cfa_offset 8
 5847              		.cfi_offset 7, -8
 5848              		.cfi_offset 14, -4
 5849 0002 88B0     		sub	sp, sp, #32
 5850              	.LCFI249:
 5851              		.cfi_def_cfa_offset 40
 5852 0004 00AF     		add	r7, sp, #0
 5853              	.LCFI250:
 5854              		.cfi_def_cfa_register 7
 5855 0006 7860     		str	r0, [r7, #4]
 5856 0008 0846     		mov	r0, r1
 5857 000a 1146     		mov	r1, r2
 5858 000c 1A46     		mov	r2, r3
 5859 000e 0346     		mov	r3, r0
 5860 0010 FB70     		strb	r3, [r7, #3]
 5861 0012 0B46     		mov	r3, r1
 5862 0014 BB70     		strb	r3, [r7, #2]
 5863 0016 1346     		mov	r3, r2
 5864 0018 7B70     		strb	r3, [r7, #1]
1743:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HAL_StatusTypeDef ret = HAL_OK;
 5865              		.loc 1 1743 21
 5866 001a 0023     		movs	r3, #0
 5867 001c FB77     		strb	r3, [r7, #31]
1744:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 5868              		.loc 1 1744 12
 5869 001e 7B68     		ldr	r3, [r7, #4]
 5870 0020 3B61     		str	r3, [r7, #16]
1745:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t HCcharEpDir;
1746:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t HCcharLowSpeed;
1747:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t HostCoreSpeed;
1748:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1749:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Clear old interrupt conditions for this host channel. */
1750:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC((uint32_t)ch_num)->HCINT = 0xFFFFFFFFU;
 5871              		.loc 1 1750 3
 5872 0022 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5873 0024 5A01     		lsls	r2, r3, #5
 5874 0026 3B69     		ldr	r3, [r7, #16]
 5875 0028 1344     		add	r3, r3, r2
 5876 002a 03F5A063 		add	r3, r3, #1280
 5877 002e 1A46     		mov	r2, r3
 5878              		.loc 1 1750 36
 5879 0030 4FF0FF33 		mov	r3, #-1
 5880 0034 9360     		str	r3, [r2, #8]
1751:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1752:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Enable channel interrupts required for this transfer. */
1753:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   switch (ep_type)
 5881              		.loc 1 1753 3
 5882 0036 97F82C30 		ldrb	r3, [r7, #44]	@ zero_extendqisi2
 5883 003a 032B     		cmp	r3, #3
 5884 003c 7ED8     		bhi	.L246
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 134


 5885 003e 01A2     		adr	r2, .L248
 5886 0040 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 5887              		.p2align 2
 5888              	.L248:
 5889 0044 55000000 		.word	.L249+1
 5890 0048 FF000000 		.word	.L250+1
 5891 004c 55000000 		.word	.L249+1
 5892 0050 C1000000 		.word	.L247+1
 5893              		.p2align 1
 5894              	.L249:
1754:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1755:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     case EP_TYPE_CTRL:
1756:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     case EP_TYPE_BULK:
1757:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC((uint32_t)ch_num)->HCINTMSK = USB_OTG_HCINTMSK_XFRCM  |
 5895              		.loc 1 1757 7
 5896 0054 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5897 0056 5A01     		lsls	r2, r3, #5
 5898 0058 3B69     		ldr	r3, [r7, #16]
 5899 005a 1344     		add	r3, r3, r2
 5900 005c 03F5A063 		add	r3, r3, #1280
 5901 0060 1A46     		mov	r2, r3
 5902              		.loc 1 1757 43
 5903 0062 40F29D43 		movw	r3, #1181
 5904 0066 D360     		str	r3, [r2, #12]
1758:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_STALLM |
1759:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_TXERRM |
1760:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_DTERRM |
1761:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_AHBERR |
1762:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_NAKM;
1763:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1764:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if ((epnum & 0x80U) == 0x80U)
 5905              		.loc 1 1764 27
 5906 0068 97F90230 		ldrsb	r3, [r7, #2]
 5907              		.loc 1 1764 10
 5908 006c 002B     		cmp	r3, #0
 5909 006e 10DA     		bge	.L251
1765:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
1766:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_HC((uint32_t)ch_num)->HCINTMSK |= USB_OTG_HCINTMSK_BBERRM;
 5910              		.loc 1 1766 45
 5911 0070 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5912 0072 5A01     		lsls	r2, r3, #5
 5913 0074 3B69     		ldr	r3, [r7, #16]
 5914 0076 1344     		add	r3, r3, r2
 5915 0078 03F5A063 		add	r3, r3, #1280
 5916 007c DB68     		ldr	r3, [r3, #12]
 5917 007e FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 5918 0080 5101     		lsls	r1, r2, #5
 5919 0082 3A69     		ldr	r2, [r7, #16]
 5920 0084 0A44     		add	r2, r2, r1
 5921 0086 02F5A062 		add	r2, r2, #1280
 5922 008a 43F48073 		orr	r3, r3, #256
 5923 008e D360     		str	r3, [r2, #12]
1767:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
1768:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       else
1769:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
1770:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         if ((USBx->CID & (0x1U << 8)) != 0U)
1771:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 135


1772:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           USBx_HC((uint32_t)ch_num)->HCINTMSK |= USB_OTG_HCINTMSK_NYET |
1773:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                                  USB_OTG_HCINTMSK_ACKM;
1774:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
1775:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
1776:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       break;
 5924              		.loc 1 1776 7
 5925 0090 57E0     		b	.L263
 5926              	.L251:
1770:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
 5927              		.loc 1 1770 18
 5928 0092 7B68     		ldr	r3, [r7, #4]
 5929 0094 DB6B     		ldr	r3, [r3, #60]
1770:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
 5930              		.loc 1 1770 24
 5931 0096 03F48073 		and	r3, r3, #256
1770:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
 5932              		.loc 1 1770 12
 5933 009a 002B     		cmp	r3, #0
 5934 009c 51D0     		beq	.L263
1772:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                                  USB_OTG_HCINTMSK_ACKM;
 5935              		.loc 1 1772 47
 5936 009e FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5937 00a0 5A01     		lsls	r2, r3, #5
 5938 00a2 3B69     		ldr	r3, [r7, #16]
 5939 00a4 1344     		add	r3, r3, r2
 5940 00a6 03F5A063 		add	r3, r3, #1280
 5941 00aa DB68     		ldr	r3, [r3, #12]
 5942 00ac FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 5943 00ae 5101     		lsls	r1, r2, #5
 5944 00b0 3A69     		ldr	r2, [r7, #16]
 5945 00b2 0A44     		add	r2, r2, r1
 5946 00b4 02F5A062 		add	r2, r2, #1280
 5947 00b8 43F06003 		orr	r3, r3, #96
 5948 00bc D360     		str	r3, [r2, #12]
 5949              		.loc 1 1776 7
 5950 00be 40E0     		b	.L263
 5951              	.L247:
1777:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1778:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     case EP_TYPE_INTR:
1779:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC((uint32_t)ch_num)->HCINTMSK = USB_OTG_HCINTMSK_XFRCM  |
 5952              		.loc 1 1779 7
 5953 00c0 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5954 00c2 5A01     		lsls	r2, r3, #5
 5955 00c4 3B69     		ldr	r3, [r7, #16]
 5956 00c6 1344     		add	r3, r3, r2
 5957 00c8 03F5A063 		add	r3, r3, #1280
 5958 00cc 1A46     		mov	r2, r3
 5959              		.loc 1 1779 43
 5960 00ce 40F29D63 		movw	r3, #1693
 5961 00d2 D360     		str	r3, [r2, #12]
1780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_STALLM |
1781:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_TXERRM |
1782:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_DTERRM |
1783:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_NAKM   |
1784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_AHBERR |
1785:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_FRMORM;
1786:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 136


1787:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if ((epnum & 0x80U) == 0x80U)
 5962              		.loc 1 1787 27
 5963 00d4 97F90230 		ldrsb	r3, [r7, #2]
 5964              		.loc 1 1787 10
 5965 00d8 002B     		cmp	r3, #0
 5966 00da 34DA     		bge	.L264
1788:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
1789:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_HC((uint32_t)ch_num)->HCINTMSK |= USB_OTG_HCINTMSK_BBERRM;
 5967              		.loc 1 1789 45
 5968 00dc FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5969 00de 5A01     		lsls	r2, r3, #5
 5970 00e0 3B69     		ldr	r3, [r7, #16]
 5971 00e2 1344     		add	r3, r3, r2
 5972 00e4 03F5A063 		add	r3, r3, #1280
 5973 00e8 DB68     		ldr	r3, [r3, #12]
 5974 00ea FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 5975 00ec 5101     		lsls	r1, r2, #5
 5976 00ee 3A69     		ldr	r2, [r7, #16]
 5977 00f0 0A44     		add	r2, r2, r1
 5978 00f2 02F5A062 		add	r2, r2, #1280
 5979 00f6 43F48073 		orr	r3, r3, #256
 5980 00fa D360     		str	r3, [r2, #12]
1790:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
1791:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       break;
 5981              		.loc 1 1792 7
 5982 00fc 23E0     		b	.L264
 5983              	.L250:
1793:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1794:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     case EP_TYPE_ISOC:
1795:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC((uint32_t)ch_num)->HCINTMSK = USB_OTG_HCINTMSK_XFRCM  |
 5984              		.loc 1 1795 7
 5985 00fe FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5986 0100 5A01     		lsls	r2, r3, #5
 5987 0102 3B69     		ldr	r3, [r7, #16]
 5988 0104 1344     		add	r3, r3, r2
 5989 0106 03F5A063 		add	r3, r3, #1280
 5990 010a 1A46     		mov	r2, r3
 5991              		.loc 1 1795 43
 5992 010c 40F22523 		movw	r3, #549
 5993 0110 D360     		str	r3, [r2, #12]
1796:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_ACKM   |
1797:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_AHBERR |
1798:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_FRMORM;
1799:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1800:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if ((epnum & 0x80U) == 0x80U)
 5994              		.loc 1 1800 27
 5995 0112 97F90230 		ldrsb	r3, [r7, #2]
 5996              		.loc 1 1800 10
 5997 0116 002B     		cmp	r3, #0
 5998 0118 17DA     		bge	.L265
1801:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
1802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_HC((uint32_t)ch_num)->HCINTMSK |= (USB_OTG_HCINTMSK_TXERRM | USB_OTG_HCINTMSK_BBERRM);
 5999              		.loc 1 1802 45
 6000 011a FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 6001 011c 5A01     		lsls	r2, r3, #5
 6002 011e 3B69     		ldr	r3, [r7, #16]
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 137


 6003 0120 1344     		add	r3, r3, r2
 6004 0122 03F5A063 		add	r3, r3, #1280
 6005 0126 DB68     		ldr	r3, [r3, #12]
 6006 0128 FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 6007 012a 5101     		lsls	r1, r2, #5
 6008 012c 3A69     		ldr	r2, [r7, #16]
 6009 012e 0A44     		add	r2, r2, r1
 6010 0130 02F5A062 		add	r2, r2, #1280
 6011 0134 43F4C073 		orr	r3, r3, #384
 6012 0138 D360     		str	r3, [r2, #12]
1803:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
1804:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       break;
 6013              		.loc 1 1804 7
 6014 013a 06E0     		b	.L265
 6015              	.L246:
1805:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1806:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     default:
1807:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       ret = HAL_ERROR;
 6016              		.loc 1 1807 11
 6017 013c 0123     		movs	r3, #1
 6018 013e FB77     		strb	r3, [r7, #31]
1808:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       break;
 6019              		.loc 1 1808 7
 6020 0140 04E0     		b	.L253
 6021              	.L263:
1776:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 6022              		.loc 1 1776 7
 6023 0142 00BF     		nop
 6024 0144 02E0     		b	.L253
 6025              	.L264:
1792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 6026              		.loc 1 1792 7
 6027 0146 00BF     		nop
 6028 0148 00E0     		b	.L253
 6029              	.L265:
1804:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 6030              		.loc 1 1804 7
 6031 014a 00BF     		nop
 6032              	.L253:
1809:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1810:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1811:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Enable host channel Halt interrupt */
1812:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC((uint32_t)ch_num)->HCINTMSK |= USB_OTG_HCINTMSK_CHHM;
 6033              		.loc 1 1812 39
 6034 014c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 6035 014e 5A01     		lsls	r2, r3, #5
 6036 0150 3B69     		ldr	r3, [r7, #16]
 6037 0152 1344     		add	r3, r3, r2
 6038 0154 03F5A063 		add	r3, r3, #1280
 6039 0158 DB68     		ldr	r3, [r3, #12]
 6040 015a FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 6041 015c 5101     		lsls	r1, r2, #5
 6042 015e 3A69     		ldr	r2, [r7, #16]
 6043 0160 0A44     		add	r2, r2, r1
 6044 0162 02F5A062 		add	r2, r2, #1280
 6045 0166 43F00203 		orr	r3, r3, #2
 6046 016a D360     		str	r3, [r2, #12]
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 138


1813:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1814:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Enable the top level host channel interrupt. */
1815:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HOST->HAINTMSK |= 1UL << (ch_num & 0xFU);
 6047              		.loc 1 1815 23
 6048 016c 3B69     		ldr	r3, [r7, #16]
 6049 016e 03F58063 		add	r3, r3, #1024
 6050 0172 9A69     		ldr	r2, [r3, #24]
 6051              		.loc 1 1815 41
 6052 0174 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 6053 0176 03F00F03 		and	r3, r3, #15
 6054              		.loc 1 1815 30
 6055 017a 0121     		movs	r1, #1
 6056 017c 01FA03F3 		lsl	r3, r1, r3
 6057              		.loc 1 1815 23
 6058 0180 3969     		ldr	r1, [r7, #16]
 6059 0182 01F58061 		add	r1, r1, #1024
 6060 0186 1343     		orrs	r3, r3, r2
 6061 0188 8B61     		str	r3, [r1, #24]
1816:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1817:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Make sure host channel interrupts are enabled. */
1818:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTMSK |= USB_OTG_GINTMSK_HCIM;
 6062              		.loc 1 1818 17
 6063 018a 7B68     		ldr	r3, [r7, #4]
 6064 018c 9B69     		ldr	r3, [r3, #24]
 6065 018e 43F00072 		orr	r2, r3, #33554432
 6066 0192 7B68     		ldr	r3, [r7, #4]
 6067 0194 9A61     		str	r2, [r3, #24]
1819:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1820:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Program the HCCHAR register */
1821:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if ((epnum & 0x80U) == 0x80U)
 6068              		.loc 1 1821 23
 6069 0196 97F90230 		ldrsb	r3, [r7, #2]
 6070              		.loc 1 1821 6
 6071 019a 002B     		cmp	r3, #0
 6072 019c 03DA     		bge	.L256
1822:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1823:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     HCcharEpDir = (0x1U << 15) & USB_OTG_HCCHAR_EPDIR;
 6073              		.loc 1 1823 17
 6074 019e 4FF40043 		mov	r3, #32768
 6075 01a2 BB61     		str	r3, [r7, #24]
 6076 01a4 01E0     		b	.L257
 6077              	.L256:
1824:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1825:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
1826:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1827:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     HCcharEpDir = 0U;
 6078              		.loc 1 1827 17
 6079 01a6 0023     		movs	r3, #0
 6080 01a8 BB61     		str	r3, [r7, #24]
 6081              	.L257:
1828:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1829:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1830:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HostCoreSpeed = USB_GetHostSpeed(USBx);
 6082              		.loc 1 1830 19
 6083 01aa 7868     		ldr	r0, [r7, #4]
 6084 01ac FFF7FEFF 		bl	USB_GetHostSpeed
 6085 01b0 F860     		str	r0, [r7, #12]
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 139


1831:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1832:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* LS device plugged to HUB */
1833:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if ((speed == HPRT0_PRTSPD_LOW_SPEED) && (HostCoreSpeed != HPRT0_PRTSPD_LOW_SPEED))
 6086              		.loc 1 1833 6
 6087 01b2 97F82830 		ldrb	r3, [r7, #40]	@ zero_extendqisi2
 6088 01b6 022B     		cmp	r3, #2
 6089 01b8 06D1     		bne	.L258
 6090              		.loc 1 1833 41 discriminator 1
 6091 01ba FB68     		ldr	r3, [r7, #12]
 6092 01bc 022B     		cmp	r3, #2
 6093 01be 03D0     		beq	.L258
1834:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1835:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     HCcharLowSpeed = (0x1U << 17) & USB_OTG_HCCHAR_LSDEV;
 6094              		.loc 1 1835 20
 6095 01c0 4FF40033 		mov	r3, #131072
 6096 01c4 7B61     		str	r3, [r7, #20]
 6097 01c6 01E0     		b	.L259
 6098              	.L258:
1836:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1837:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
1838:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1839:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     HCcharLowSpeed = 0U;
 6099              		.loc 1 1839 20
 6100 01c8 0023     		movs	r3, #0
 6101 01ca 7B61     		str	r3, [r7, #20]
 6102              	.L259:
1840:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1841:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1842:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC((uint32_t)ch_num)->HCCHAR = (((uint32_t)dev_address << 22) & USB_OTG_HCCHAR_DAD) |
 6103              		.loc 1 1842 41
 6104 01cc 7B78     		ldrb	r3, [r7, #1]	@ zero_extendqisi2
 6105              		.loc 1 1842 63
 6106 01ce 9B05     		lsls	r3, r3, #22
 6107              		.loc 1 1842 70
 6108 01d0 03F0FE52 		and	r2, r3, #532676608
1843:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                       ((((uint32_t)epnum & 0x7FU) << 11) & USB_OTG_HCCHAR_EPNUM) |
 6109              		.loc 1 1843 67
 6110 01d4 BB78     		ldrb	r3, [r7, #2]	@ zero_extendqisi2
 6111 01d6 DB02     		lsls	r3, r3, #11
 6112              		.loc 1 1843 74
 6113 01d8 03F4F043 		and	r3, r3, #30720
1842:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                       ((((uint32_t)epnum & 0x7FU) << 11) & USB_OTG_HCCHAR_EPNUM) |
 6114              		.loc 1 1842 92
 6115 01dc 1A43     		orrs	r2, r2, r3
1844:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                       (((uint32_t)ep_type << 18) & USB_OTG_HCCHAR_EPTYP) |
 6116              		.loc 1 1844 41
 6117 01de 97F82C30 		ldrb	r3, [r7, #44]	@ zero_extendqisi2
 6118              		.loc 1 1844 59
 6119 01e2 9B04     		lsls	r3, r3, #18
 6120              		.loc 1 1844 66
 6121 01e4 03F44023 		and	r3, r3, #786432
1843:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                       ((((uint32_t)epnum & 0x7FU) << 11) & USB_OTG_HCCHAR_EPNUM) |
 6122              		.loc 1 1843 98
 6123 01e8 1A43     		orrs	r2, r2, r3
1845:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                       ((uint32_t)mps & USB_OTG_HCCHAR_MPSIZ) | HCcharEpDir | HCchar
 6124              		.loc 1 1845 54
 6125 01ea 3B8E     		ldrh	r3, [r7, #48]
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 140


 6126 01ec C3F30A03 		ubfx	r3, r3, #0, #11
1844:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                       (((uint32_t)ep_type << 18) & USB_OTG_HCCHAR_EPTYP) |
 6127              		.loc 1 1844 90
 6128 01f0 1A43     		orrs	r2, r2, r3
 6129              		.loc 1 1845 78
 6130 01f2 BB69     		ldr	r3, [r7, #24]
 6131 01f4 1A43     		orrs	r2, r2, r3
1842:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                       ((((uint32_t)epnum & 0x7FU) << 11) & USB_OTG_HCCHAR_EPNUM) |
 6132              		.loc 1 1842 3
 6133 01f6 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 6134 01f8 5901     		lsls	r1, r3, #5
 6135 01fa 3B69     		ldr	r3, [r7, #16]
 6136 01fc 0B44     		add	r3, r3, r1
 6137 01fe 03F5A063 		add	r3, r3, #1280
 6138 0202 1946     		mov	r1, r3
 6139              		.loc 1 1845 92
 6140 0204 7B69     		ldr	r3, [r7, #20]
 6141 0206 1343     		orrs	r3, r3, r2
1842:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                       ((((uint32_t)epnum & 0x7FU) << 11) & USB_OTG_HCCHAR_EPNUM) |
 6142              		.loc 1 1842 37
 6143 0208 0B60     		str	r3, [r1]
1846:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1847:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if ((ep_type == EP_TYPE_INTR) || (ep_type == EP_TYPE_ISOC))
 6144              		.loc 1 1847 6
 6145 020a 97F82C30 		ldrb	r3, [r7, #44]	@ zero_extendqisi2
 6146 020e 032B     		cmp	r3, #3
 6147 0210 03D0     		beq	.L260
 6148              		.loc 1 1847 33 discriminator 1
 6149 0212 97F82C30 		ldrb	r3, [r7, #44]	@ zero_extendqisi2
 6150 0216 012B     		cmp	r3, #1
 6151 0218 0FD1     		bne	.L261
 6152              	.L260:
1848:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1849:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC((uint32_t)ch_num)->HCCHAR |= USB_OTG_HCCHAR_ODDFRM;
 6153              		.loc 1 1849 39
 6154 021a FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 6155 021c 5A01     		lsls	r2, r3, #5
 6156 021e 3B69     		ldr	r3, [r7, #16]
 6157 0220 1344     		add	r3, r3, r2
 6158 0222 03F5A063 		add	r3, r3, #1280
 6159 0226 1B68     		ldr	r3, [r3]
 6160 0228 FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 6161 022a 5101     		lsls	r1, r2, #5
 6162 022c 3A69     		ldr	r2, [r7, #16]
 6163 022e 0A44     		add	r2, r2, r1
 6164 0230 02F5A062 		add	r2, r2, #1280
 6165 0234 43F00053 		orr	r3, r3, #536870912
 6166 0238 1360     		str	r3, [r2]
 6167              	.L261:
1850:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1851:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1852:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ret;
 6168              		.loc 1 1852 10
 6169 023a FB7F     		ldrb	r3, [r7, #31]	@ zero_extendqisi2
1853:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 6170              		.loc 1 1853 1
 6171 023c 1846     		mov	r0, r3
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 141


 6172 023e 2037     		adds	r7, r7, #32
 6173              	.LCFI251:
 6174              		.cfi_def_cfa_offset 8
 6175 0240 BD46     		mov	sp, r7
 6176              	.LCFI252:
 6177              		.cfi_def_cfa_register 13
 6178              		@ sp needed
 6179 0242 80BD     		pop	{r7, pc}
 6180              		.cfi_endproc
 6181              	.LFE257:
 6183              		.section	.text.USB_HC_StartXfer,"ax",%progbits
 6184              		.align	1
 6185              		.global	USB_HC_StartXfer
 6186              		.syntax unified
 6187              		.thumb
 6188              		.thumb_func
 6190              	USB_HC_StartXfer:
 6191              	.LFB258:
1854:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1855:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1856:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Start a transfer over a host channel
1857:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1858:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  hc  pointer to host channel structure
1859:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  dma USB dma enabled or disabled
1860:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
1861:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           0 : DMA feature not used
1862:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           1 : DMA feature used
1863:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL state
1864:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1865:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_HC_StartXfer(USB_OTG_GlobalTypeDef *USBx, USB_OTG_HCTypeDef *hc, uint8_t dma)
1866:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 6192              		.loc 1 1866 1
 6193              		.cfi_startproc
 6194              		@ args = 0, pretend = 0, frame = 40
 6195              		@ frame_needed = 1, uses_anonymous_args = 0
 6196 0000 80B5     		push	{r7, lr}
 6197              	.LCFI253:
 6198              		.cfi_def_cfa_offset 8
 6199              		.cfi_offset 7, -8
 6200              		.cfi_offset 14, -4
 6201 0002 8CB0     		sub	sp, sp, #48
 6202              	.LCFI254:
 6203              		.cfi_def_cfa_offset 56
 6204 0004 02AF     		add	r7, sp, #8
 6205              	.LCFI255:
 6206              		.cfi_def_cfa 7, 48
 6207 0006 F860     		str	r0, [r7, #12]
 6208 0008 B960     		str	r1, [r7, #8]
 6209 000a 1346     		mov	r3, r2
 6210 000c FB71     		strb	r3, [r7, #7]
1867:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 6211              		.loc 1 1867 12
 6212 000e FB68     		ldr	r3, [r7, #12]
 6213 0010 3B62     		str	r3, [r7, #32]
1868:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t ch_num = (uint32_t)hc->ch_num;
 6214              		.loc 1 1868 33
 6215 0012 BB68     		ldr	r3, [r7, #8]
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 142


 6216 0014 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 6217              		.loc 1 1868 12
 6218 0016 FB61     		str	r3, [r7, #28]
1869:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   __IO uint32_t tmpreg;
1870:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint8_t  is_oddframe;
1871:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint16_t len_words;
1872:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint16_t num_packets;
1873:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint16_t max_hc_pkt_count = 256U;
 6219              		.loc 1 1873 12
 6220 0018 4FF48073 		mov	r3, #256
 6221 001c 7B83     		strh	r3, [r7, #26]	@ movhi
1874:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1875:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (((USBx->CID & (0x1U << 8)) != 0U) && (hc->speed == USBH_HS_SPEED))
 6222              		.loc 1 1875 13
 6223 001e FB68     		ldr	r3, [r7, #12]
 6224 0020 DB6B     		ldr	r3, [r3, #60]
 6225              		.loc 1 1875 19
 6226 0022 03F48073 		and	r3, r3, #256
 6227              		.loc 1 1875 6
 6228 0026 002B     		cmp	r3, #0
 6229 0028 2DD0     		beq	.L267
 6230              		.loc 1 1875 47 discriminator 1
 6231 002a BB68     		ldr	r3, [r7, #8]
 6232 002c 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 6233              		.loc 1 1875 41 discriminator 1
 6234 002e 002B     		cmp	r3, #0
 6235 0030 29D1     		bne	.L267
1876:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1877:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* in DMA mode host Core automatically issues ping  in case of NYET/NAK */
1878:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((dma == 1U) && ((hc->ep_type == EP_TYPE_CTRL) || (hc->ep_type == EP_TYPE_BULK)))
 6236              		.loc 1 1878 8
 6237 0032 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 6238 0034 012B     		cmp	r3, #1
 6239 0036 17D1     		bne	.L268
 6240              		.loc 1 1878 28 discriminator 1
 6241 0038 BB68     		ldr	r3, [r7, #8]
 6242 003a DB79     		ldrb	r3, [r3, #7]	@ zero_extendqisi2
 6243              		.loc 1 1878 21 discriminator 1
 6244 003c 002B     		cmp	r3, #0
 6245 003e 03D0     		beq	.L269
 6246              		.loc 1 1878 61 discriminator 2
 6247 0040 BB68     		ldr	r3, [r7, #8]
 6248 0042 DB79     		ldrb	r3, [r3, #7]	@ zero_extendqisi2
 6249              		.loc 1 1878 55 discriminator 2
 6250 0044 022B     		cmp	r3, #2
 6251 0046 0FD1     		bne	.L268
 6252              	.L269:
1879:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1880:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC((uint32_t)ch_num)->HCINTMSK &= ~(USB_OTG_HCINTMSK_NYET |
 6253              		.loc 1 1880 43
 6254 0048 FB69     		ldr	r3, [r7, #28]
 6255 004a 5A01     		lsls	r2, r3, #5
 6256 004c 3B6A     		ldr	r3, [r7, #32]
 6257 004e 1344     		add	r3, r3, r2
 6258 0050 03F5A063 		add	r3, r3, #1280
 6259 0054 DB68     		ldr	r3, [r3, #12]
 6260 0056 FA69     		ldr	r2, [r7, #28]
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 143


 6261 0058 5101     		lsls	r1, r2, #5
 6262 005a 3A6A     		ldr	r2, [r7, #32]
 6263 005c 0A44     		add	r2, r2, r1
 6264 005e 02F5A062 		add	r2, r2, #1280
 6265 0062 23F07003 		bic	r3, r3, #112
 6266 0066 D360     		str	r3, [r2, #12]
 6267              	.L268:
1881:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                                USB_OTG_HCINTMSK_ACKM |
1882:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                                USB_OTG_HCINTMSK_NAKM);
1883:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1884:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1885:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((dma == 0U) && (hc->do_ping == 1U))
 6268              		.loc 1 1885 8
 6269 0068 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 6270 006a 002B     		cmp	r3, #0
 6271 006c 0BD1     		bne	.L267
 6272              		.loc 1 1885 27 discriminator 1
 6273 006e BB68     		ldr	r3, [r7, #8]
 6274 0070 5B79     		ldrb	r3, [r3, #5]	@ zero_extendqisi2
 6275              		.loc 1 1885 21 discriminator 1
 6276 0072 012B     		cmp	r3, #1
 6277 0074 07D1     		bne	.L267
1886:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1887:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       (void)USB_DoPing(USBx, hc->ch_num);
 6278              		.loc 1 1887 13
 6279 0076 BB68     		ldr	r3, [r7, #8]
 6280 0078 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 6281 007a 1946     		mov	r1, r3
 6282 007c F868     		ldr	r0, [r7, #12]
 6283 007e FFF7FEFF 		bl	USB_DoPing
1888:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       return HAL_OK;
 6284              		.loc 1 1888 14
 6285 0082 0023     		movs	r3, #0
 6286 0084 F8E0     		b	.L270
 6287              	.L267:
1889:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1890:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1891:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1892:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1893:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Compute the expected number of packets associated to the transfer */
1894:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (hc->xfer_len > 0U)
 6288              		.loc 1 1894 9
 6289 0086 BB68     		ldr	r3, [r7, #8]
 6290 0088 5B69     		ldr	r3, [r3, #20]
 6291              		.loc 1 1894 6
 6292 008a 002B     		cmp	r3, #0
 6293 008c 18D0     		beq	.L271
1895:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1896:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     num_packets = (uint16_t)((hc->xfer_len + hc->max_packet - 1U) / hc->max_packet);
 6294              		.loc 1 1896 33
 6295 008e BB68     		ldr	r3, [r7, #8]
 6296 0090 5B69     		ldr	r3, [r3, #20]
 6297              		.loc 1 1896 48
 6298 0092 BA68     		ldr	r2, [r7, #8]
 6299 0094 1289     		ldrh	r2, [r2, #8]
 6300              		.loc 1 1896 44
 6301 0096 1344     		add	r3, r3, r2
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 144


 6302              		.loc 1 1896 61
 6303 0098 013B     		subs	r3, r3, #1
 6304              		.loc 1 1896 71
 6305 009a BA68     		ldr	r2, [r7, #8]
 6306 009c 1289     		ldrh	r2, [r2, #8]
 6307              		.loc 1 1896 67
 6308 009e B3FBF2F3 		udiv	r3, r3, r2
 6309              		.loc 1 1896 17
 6310 00a2 FB84     		strh	r3, [r7, #38]	@ movhi
1897:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1898:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (num_packets > max_hc_pkt_count)
 6311              		.loc 1 1898 8
 6312 00a4 FA8C     		ldrh	r2, [r7, #38]
 6313 00a6 7B8B     		ldrh	r3, [r7, #26]
 6314 00a8 9A42     		cmp	r2, r3
 6315 00aa 0BD9     		bls	.L272
1899:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1900:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       num_packets = max_hc_pkt_count;
 6316              		.loc 1 1900 19
 6317 00ac 7B8B     		ldrh	r3, [r7, #26]	@ movhi
 6318 00ae FB84     		strh	r3, [r7, #38]	@ movhi
1901:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       hc->XferSize = (uint32_t)num_packets * hc->max_packet;
 6319              		.loc 1 1901 22
 6320 00b0 FB8C     		ldrh	r3, [r7, #38]
 6321              		.loc 1 1901 48
 6322 00b2 BA68     		ldr	r2, [r7, #8]
 6323 00b4 1289     		ldrh	r2, [r2, #8]
 6324              		.loc 1 1901 44
 6325 00b6 03FB02F2 		mul	r2, r3, r2
 6326              		.loc 1 1901 20
 6327 00ba BB68     		ldr	r3, [r7, #8]
 6328 00bc 1A61     		str	r2, [r3, #16]
 6329 00be 01E0     		b	.L272
 6330              	.L271:
1902:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1903:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1904:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
1905:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1906:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     num_packets = 1U;
 6331              		.loc 1 1906 17
 6332 00c0 0123     		movs	r3, #1
 6333 00c2 FB84     		strh	r3, [r7, #38]	@ movhi
 6334              	.L272:
1907:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1908:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1909:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /*
1910:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****    * For IN channel HCTSIZ.XferSize is expected to be an integer multiple of
1911:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****    * max_packet size.
1912:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****    */
1913:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (hc->ep_is_in != 0U)
 6335              		.loc 1 1913 9
 6336 00c4 BB68     		ldr	r3, [r7, #8]
 6337 00c6 DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 6338              		.loc 1 1913 6
 6339 00c8 002B     		cmp	r3, #0
 6340 00ca 07D0     		beq	.L273
1914:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 145


1915:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     hc->XferSize = (uint32_t)num_packets * hc->max_packet;
 6341              		.loc 1 1915 20
 6342 00cc FB8C     		ldrh	r3, [r7, #38]
 6343              		.loc 1 1915 46
 6344 00ce BA68     		ldr	r2, [r7, #8]
 6345 00d0 1289     		ldrh	r2, [r2, #8]
 6346              		.loc 1 1915 42
 6347 00d2 03FB02F2 		mul	r2, r3, r2
 6348              		.loc 1 1915 18
 6349 00d6 BB68     		ldr	r3, [r7, #8]
 6350 00d8 1A61     		str	r2, [r3, #16]
 6351 00da 03E0     		b	.L274
 6352              	.L273:
1916:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1917:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
1918:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1919:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     hc->XferSize = hc->xfer_len;
 6353              		.loc 1 1919 22
 6354 00dc BB68     		ldr	r3, [r7, #8]
 6355 00de 5A69     		ldr	r2, [r3, #20]
 6356              		.loc 1 1919 18
 6357 00e0 BB68     		ldr	r3, [r7, #8]
 6358 00e2 1A61     		str	r2, [r3, #16]
 6359              	.L274:
1920:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1921:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1922:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Initialize the HCTSIZn register */
1923:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC(ch_num)->HCTSIZ = (hc->XferSize & USB_OTG_HCTSIZ_XFRSIZ) |
 6360              		.loc 1 1923 32
 6361 00e4 BB68     		ldr	r3, [r7, #8]
 6362 00e6 1B69     		ldr	r3, [r3, #16]
 6363              		.loc 1 1923 43
 6364 00e8 C3F31202 		ubfx	r2, r3, #0, #19
1924:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                             (((uint32_t)num_packets << 19) & USB_OTG_HCTSIZ_PKTCNT) |
 6365              		.loc 1 1924 31
 6366 00ec FB8C     		ldrh	r3, [r7, #38]
 6367              		.loc 1 1924 53
 6368 00ee D904     		lsls	r1, r3, #19
 6369              		.loc 1 1924 60
 6370 00f0 634B     		ldr	r3, .L290
 6371 00f2 0B40     		ands	r3, r3, r1
1923:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                             (((uint32_t)num_packets << 19) & USB_OTG_HCTSIZ_PKTCNT) |
 6372              		.loc 1 1923 68
 6373 00f4 1A43     		orrs	r2, r2, r3
1925:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                             (((uint32_t)hc->data_pid << 29) & USB_OTG_HCTSIZ_DPID);
 6374              		.loc 1 1925 43
 6375 00f6 BB68     		ldr	r3, [r7, #8]
 6376 00f8 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
 6377              		.loc 1 1925 54
 6378 00fa 5B07     		lsls	r3, r3, #29
 6379              		.loc 1 1925 61
 6380 00fc 03F0C043 		and	r3, r3, #1610612736
1923:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                             (((uint32_t)num_packets << 19) & USB_OTG_HCTSIZ_PKTCNT) |
 6381              		.loc 1 1923 3
 6382 0100 F969     		ldr	r1, [r7, #28]
 6383 0102 4801     		lsls	r0, r1, #5
 6384 0104 396A     		ldr	r1, [r7, #32]
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 146


 6385 0106 0144     		add	r1, r1, r0
 6386 0108 01F5A061 		add	r1, r1, #1280
1924:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                             (((uint32_t)num_packets << 19) & USB_OTG_HCTSIZ_PKTCNT) |
 6387              		.loc 1 1924 85
 6388 010c 1343     		orrs	r3, r3, r2
1923:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                             (((uint32_t)num_packets << 19) & USB_OTG_HCTSIZ_PKTCNT) |
 6389              		.loc 1 1923 27
 6390 010e 0B61     		str	r3, [r1, #16]
1926:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1927:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (dma != 0U)
 6391              		.loc 1 1927 6
 6392 0110 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 6393 0112 002B     		cmp	r3, #0
 6394 0114 09D0     		beq	.L275
1928:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1929:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* xfer_buff MUST be 32-bits aligned */
1930:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(ch_num)->HCDMA = (uint32_t)hc->xfer_buff;
 6395              		.loc 1 1930 42
 6396 0116 BB68     		ldr	r3, [r7, #8]
 6397 0118 D968     		ldr	r1, [r3, #12]
 6398              		.loc 1 1930 5
 6399 011a FB69     		ldr	r3, [r7, #28]
 6400 011c 5A01     		lsls	r2, r3, #5
 6401 011e 3B6A     		ldr	r3, [r7, #32]
 6402 0120 1344     		add	r3, r3, r2
 6403 0122 03F5A063 		add	r3, r3, #1280
 6404              		.loc 1 1930 30
 6405 0126 0A46     		mov	r2, r1
 6406              		.loc 1 1930 28
 6407 0128 5A61     		str	r2, [r3, #20]
 6408              	.L275:
1931:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1932:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1933:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   is_oddframe = (((uint32_t)USBx_HOST->HFNUM & 0x01U) != 0U) ? 0U : 1U;
 6409              		.loc 1 1933 29
 6410 012a 3B6A     		ldr	r3, [r7, #32]
 6411 012c 03F58063 		add	r3, r3, #1024
 6412              		.loc 1 1933 38
 6413 0130 9B68     		ldr	r3, [r3, #8]
 6414              		.loc 1 1933 46
 6415 0132 03F00103 		and	r3, r3, #1
 6416              		.loc 1 1933 67
 6417 0136 002B     		cmp	r3, #0
 6418 0138 0CBF     		ite	eq
 6419 013a 0123     		moveq	r3, #1
 6420 013c 0023     		movne	r3, #0
 6421 013e DBB2     		uxtb	r3, r3
 6422              		.loc 1 1933 15
 6423 0140 7B76     		strb	r3, [r7, #25]
1934:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC(ch_num)->HCCHAR &= ~USB_OTG_HCCHAR_ODDFRM;
 6424              		.loc 1 1934 27
 6425 0142 FB69     		ldr	r3, [r7, #28]
 6426 0144 5A01     		lsls	r2, r3, #5
 6427 0146 3B6A     		ldr	r3, [r7, #32]
 6428 0148 1344     		add	r3, r3, r2
 6429 014a 03F5A063 		add	r3, r3, #1280
 6430 014e 1B68     		ldr	r3, [r3]
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 147


 6431 0150 FA69     		ldr	r2, [r7, #28]
 6432 0152 5101     		lsls	r1, r2, #5
 6433 0154 3A6A     		ldr	r2, [r7, #32]
 6434 0156 0A44     		add	r2, r2, r1
 6435 0158 02F5A062 		add	r2, r2, #1280
 6436 015c 23F00053 		bic	r3, r3, #536870912
 6437 0160 1360     		str	r3, [r2]
1935:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC(ch_num)->HCCHAR |= (uint32_t)is_oddframe << 29;
 6438              		.loc 1 1935 27
 6439 0162 FB69     		ldr	r3, [r7, #28]
 6440 0164 5A01     		lsls	r2, r3, #5
 6441 0166 3B6A     		ldr	r3, [r7, #32]
 6442 0168 1344     		add	r3, r3, r2
 6443 016a 03F5A063 		add	r3, r3, #1280
 6444 016e 1A68     		ldr	r2, [r3]
 6445              		.loc 1 1935 30
 6446 0170 7B7E     		ldrb	r3, [r7, #25]	@ zero_extendqisi2
 6447              		.loc 1 1935 52
 6448 0172 5B07     		lsls	r3, r3, #29
 6449              		.loc 1 1935 27
 6450 0174 F969     		ldr	r1, [r7, #28]
 6451 0176 4801     		lsls	r0, r1, #5
 6452 0178 396A     		ldr	r1, [r7, #32]
 6453 017a 0144     		add	r1, r1, r0
 6454 017c 01F5A061 		add	r1, r1, #1280
 6455 0180 1343     		orrs	r3, r3, r2
 6456 0182 0B60     		str	r3, [r1]
1936:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1937:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Set host channel enable */
1938:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg = USBx_HC(ch_num)->HCCHAR;
 6457              		.loc 1 1938 12
 6458 0184 FB69     		ldr	r3, [r7, #28]
 6459 0186 5A01     		lsls	r2, r3, #5
 6460 0188 3B6A     		ldr	r3, [r7, #32]
 6461 018a 1344     		add	r3, r3, r2
 6462 018c 03F5A063 		add	r3, r3, #1280
 6463              		.loc 1 1938 27
 6464 0190 1B68     		ldr	r3, [r3]
 6465              		.loc 1 1938 10
 6466 0192 3B61     		str	r3, [r7, #16]
1939:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg &= ~USB_OTG_HCCHAR_CHDIS;
 6467              		.loc 1 1939 10
 6468 0194 3B69     		ldr	r3, [r7, #16]
 6469 0196 23F08043 		bic	r3, r3, #1073741824
 6470 019a 3B61     		str	r3, [r7, #16]
1940:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1941:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* make sure to set the correct ep direction */
1942:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (hc->ep_is_in != 0U)
 6471              		.loc 1 1942 9
 6472 019c BB68     		ldr	r3, [r7, #8]
 6473 019e DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 6474              		.loc 1 1942 6
 6475 01a0 002B     		cmp	r3, #0
 6476 01a2 04D0     		beq	.L276
1943:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1944:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     tmpreg |= USB_OTG_HCCHAR_EPDIR;
 6477              		.loc 1 1944 12
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 148


 6478 01a4 3B69     		ldr	r3, [r7, #16]
 6479 01a6 43F40043 		orr	r3, r3, #32768
 6480 01aa 3B61     		str	r3, [r7, #16]
 6481 01ac 03E0     		b	.L277
 6482              	.L276:
1945:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1946:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
1947:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1948:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     tmpreg &= ~USB_OTG_HCCHAR_EPDIR;
 6483              		.loc 1 1948 12
 6484 01ae 3B69     		ldr	r3, [r7, #16]
 6485 01b0 23F40043 		bic	r3, r3, #32768
 6486 01b4 3B61     		str	r3, [r7, #16]
 6487              	.L277:
1949:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1950:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg |= USB_OTG_HCCHAR_CHENA;
 6488              		.loc 1 1950 10
 6489 01b6 3B69     		ldr	r3, [r7, #16]
 6490 01b8 43F00043 		orr	r3, r3, #-2147483648
 6491 01bc 3B61     		str	r3, [r7, #16]
1951:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC(ch_num)->HCCHAR = tmpreg;
 6492              		.loc 1 1951 3
 6493 01be FB69     		ldr	r3, [r7, #28]
 6494 01c0 5A01     		lsls	r2, r3, #5
 6495 01c2 3B6A     		ldr	r3, [r7, #32]
 6496 01c4 1344     		add	r3, r3, r2
 6497 01c6 03F5A063 		add	r3, r3, #1280
 6498 01ca 1A46     		mov	r2, r3
 6499              		.loc 1 1951 27
 6500 01cc 3B69     		ldr	r3, [r7, #16]
 6501 01ce 1360     		str	r3, [r2]
1952:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1953:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (dma != 0U) /* dma mode */
 6502              		.loc 1 1953 6
 6503 01d0 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 6504 01d2 002B     		cmp	r3, #0
 6505 01d4 01D0     		beq	.L278
1954:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1955:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     return HAL_OK;
 6506              		.loc 1 1955 12
 6507 01d6 0023     		movs	r3, #0
 6508 01d8 4EE0     		b	.L270
 6509              	.L278:
1956:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1957:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1958:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if ((hc->ep_is_in == 0U) && (hc->xfer_len > 0U))
 6510              		.loc 1 1958 10
 6511 01da BB68     		ldr	r3, [r7, #8]
 6512 01dc DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 6513              		.loc 1 1958 6
 6514 01de 002B     		cmp	r3, #0
 6515 01e0 49D1     		bne	.L279
 6516              		.loc 1 1958 34 discriminator 1
 6517 01e2 BB68     		ldr	r3, [r7, #8]
 6518 01e4 5B69     		ldr	r3, [r3, #20]
 6519              		.loc 1 1958 28 discriminator 1
 6520 01e6 002B     		cmp	r3, #0
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 149


 6521 01e8 45D0     		beq	.L279
1959:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1960:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     switch (hc->ep_type)
 6522              		.loc 1 1960 15
 6523 01ea BB68     		ldr	r3, [r7, #8]
 6524 01ec DB79     		ldrb	r3, [r3, #7]	@ zero_extendqisi2
 6525              		.loc 1 1960 5
 6526 01ee 032B     		cmp	r3, #3
 6527 01f0 30D8     		bhi	.L287
 6528 01f2 01A2     		adr	r2, .L282
 6529 01f4 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 6530              		.p2align 2
 6531              	.L282:
 6532 01f8 09020000 		.word	.L283+1
 6533 01fc 2D020000 		.word	.L281+1
 6534 0200 09020000 		.word	.L283+1
 6535 0204 2D020000 		.word	.L281+1
 6536              		.p2align 1
 6537              	.L283:
1961:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1962:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Non periodic transfer */
1963:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       case EP_TYPE_CTRL:
1964:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       case EP_TYPE_BULK:
1965:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1966:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         len_words = (uint16_t)((hc->xfer_len + 3U) / 4U);
 6538              		.loc 1 1966 35
 6539 0208 BB68     		ldr	r3, [r7, #8]
 6540 020a 5B69     		ldr	r3, [r3, #20]
 6541              		.loc 1 1966 46
 6542 020c 0333     		adds	r3, r3, #3
 6543              		.loc 1 1966 52
 6544 020e 9B08     		lsrs	r3, r3, #2
 6545              		.loc 1 1966 19
 6546 0210 FB82     		strh	r3, [r7, #22]	@ movhi
1967:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1968:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         /* check if there is enough space in FIFO space */
1969:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         if (len_words > (USBx->HNPTXSTS & 0xFFFFU))
 6547              		.loc 1 1969 23
 6548 0212 FA8A     		ldrh	r2, [r7, #22]
 6549              		.loc 1 1969 30
 6550 0214 FB68     		ldr	r3, [r7, #12]
 6551 0216 DB6A     		ldr	r3, [r3, #44]
 6552              		.loc 1 1969 41
 6553 0218 9BB2     		uxth	r3, r3
 6554              		.loc 1 1969 12
 6555 021a 9A42     		cmp	r2, r3
 6556 021c 1CD9     		bls	.L288
1970:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
1971:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           /* need to process data in nptxfempty interrupt */
1972:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           USBx->GINTMSK |= USB_OTG_GINTMSK_NPTXFEM;
 6557              		.loc 1 1972 25
 6558 021e FB68     		ldr	r3, [r7, #12]
 6559 0220 9B69     		ldr	r3, [r3, #24]
 6560 0222 43F02002 		orr	r2, r3, #32
 6561 0226 FB68     		ldr	r3, [r7, #12]
 6562 0228 9A61     		str	r2, [r3, #24]
1973:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 150


1974:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         break;
 6563              		.loc 1 1974 9
 6564 022a 15E0     		b	.L288
 6565              	.L281:
1975:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1976:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Periodic transfer */
1977:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       case EP_TYPE_INTR:
1978:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       case EP_TYPE_ISOC:
1979:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         len_words = (uint16_t)((hc->xfer_len + 3U) / 4U);
 6566              		.loc 1 1979 35
 6567 022c BB68     		ldr	r3, [r7, #8]
 6568 022e 5B69     		ldr	r3, [r3, #20]
 6569              		.loc 1 1979 46
 6570 0230 0333     		adds	r3, r3, #3
 6571              		.loc 1 1979 52
 6572 0232 9B08     		lsrs	r3, r3, #2
 6573              		.loc 1 1979 19
 6574 0234 FB82     		strh	r3, [r7, #22]	@ movhi
1980:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         /* check if there is enough space in FIFO space */
1981:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         if (len_words > (USBx_HOST->HPTXSTS & 0xFFFFU)) /* split the transfer */
 6575              		.loc 1 1981 23
 6576 0236 FA8A     		ldrh	r2, [r7, #22]
 6577              		.loc 1 1981 26
 6578 0238 3B6A     		ldr	r3, [r7, #32]
 6579 023a 03F58063 		add	r3, r3, #1024
 6580              		.loc 1 1981 35
 6581 023e 1B69     		ldr	r3, [r3, #16]
 6582              		.loc 1 1981 45
 6583 0240 9BB2     		uxth	r3, r3
 6584              		.loc 1 1981 12
 6585 0242 9A42     		cmp	r2, r3
 6586 0244 0AD9     		bls	.L289
1982:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
1983:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           /* need to process data in ptxfempty interrupt */
1984:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           USBx->GINTMSK |= USB_OTG_GINTMSK_PTXFEM;
 6587              		.loc 1 1984 25
 6588 0246 FB68     		ldr	r3, [r7, #12]
 6589 0248 9B69     		ldr	r3, [r3, #24]
 6590 024a 43F08062 		orr	r2, r3, #67108864
 6591 024e FB68     		ldr	r3, [r7, #12]
 6592 0250 9A61     		str	r2, [r3, #24]
1985:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
1986:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         break;
 6593              		.loc 1 1986 9
 6594 0252 03E0     		b	.L289
 6595              	.L287:
1987:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1988:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       default:
1989:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         break;
 6596              		.loc 1 1989 9
 6597 0254 00BF     		nop
 6598 0256 02E0     		b	.L285
 6599              	.L288:
1974:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 6600              		.loc 1 1974 9
 6601 0258 00BF     		nop
 6602 025a 00E0     		b	.L285
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 151


 6603              	.L289:
1986:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 6604              		.loc 1 1986 9
 6605 025c 00BF     		nop
 6606              	.L285:
1990:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1991:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1992:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Write packet into the Tx FIFO. */
1993:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     (void)USB_WritePacket(USBx, hc->xfer_buff, hc->ch_num, (uint16_t)hc->xfer_len, 0);
 6607              		.loc 1 1993 11
 6608 025e BB68     		ldr	r3, [r7, #8]
 6609 0260 D968     		ldr	r1, [r3, #12]
 6610 0262 BB68     		ldr	r3, [r7, #8]
 6611 0264 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
 6612              		.loc 1 1993 72
 6613 0266 BB68     		ldr	r3, [r7, #8]
 6614 0268 5B69     		ldr	r3, [r3, #20]
 6615              		.loc 1 1993 11
 6616 026a 9BB2     		uxth	r3, r3
 6617 026c 0020     		movs	r0, #0
 6618 026e 0090     		str	r0, [sp]
 6619 0270 F868     		ldr	r0, [r7, #12]
 6620 0272 FFF7FEFF 		bl	USB_WritePacket
 6621              	.L279:
1994:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1995:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1996:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 6622              		.loc 1 1996 10
 6623 0276 0023     		movs	r3, #0
 6624              	.L270:
1997:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 6625              		.loc 1 1997 1
 6626 0278 1846     		mov	r0, r3
 6627 027a 2837     		adds	r7, r7, #40
 6628              	.LCFI256:
 6629              		.cfi_def_cfa_offset 8
 6630 027c BD46     		mov	sp, r7
 6631              	.LCFI257:
 6632              		.cfi_def_cfa_register 13
 6633              		@ sp needed
 6634 027e 80BD     		pop	{r7, pc}
 6635              	.L291:
 6636              		.align	2
 6637              	.L290:
 6638 0280 0000F81F 		.word	536346624
 6639              		.cfi_endproc
 6640              	.LFE258:
 6642              		.section	.text.USB_HC_ReadInterrupt,"ax",%progbits
 6643              		.align	1
 6644              		.global	USB_HC_ReadInterrupt
 6645              		.syntax unified
 6646              		.thumb
 6647              		.thumb_func
 6649              	USB_HC_ReadInterrupt:
 6650              	.LFB259:
1998:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1999:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 152


2000:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief Read all host channel interrupts status
2001:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
2002:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL state
2003:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
2004:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t USB_HC_ReadInterrupt(USB_OTG_GlobalTypeDef *USBx)
2005:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 6651              		.loc 1 2005 1
 6652              		.cfi_startproc
 6653              		@ args = 0, pretend = 0, frame = 16
 6654              		@ frame_needed = 1, uses_anonymous_args = 0
 6655              		@ link register save eliminated.
 6656 0000 80B4     		push	{r7}
 6657              	.LCFI258:
 6658              		.cfi_def_cfa_offset 4
 6659              		.cfi_offset 7, -4
 6660 0002 85B0     		sub	sp, sp, #20
 6661              	.LCFI259:
 6662              		.cfi_def_cfa_offset 24
 6663 0004 00AF     		add	r7, sp, #0
 6664              	.LCFI260:
 6665              		.cfi_def_cfa_register 7
 6666 0006 7860     		str	r0, [r7, #4]
2006:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 6667              		.loc 1 2006 12
 6668 0008 7B68     		ldr	r3, [r7, #4]
 6669 000a FB60     		str	r3, [r7, #12]
2007:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2008:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ((USBx_HOST->HAINT) & 0xFFFFU);
 6670              		.loc 1 2008 12
 6671 000c FB68     		ldr	r3, [r7, #12]
 6672 000e 03F58063 		add	r3, r3, #1024
 6673              		.loc 1 2008 21
 6674 0012 5B69     		ldr	r3, [r3, #20]
 6675              		.loc 1 2008 30
 6676 0014 9BB2     		uxth	r3, r3
2009:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 6677              		.loc 1 2009 1
 6678 0016 1846     		mov	r0, r3
 6679 0018 1437     		adds	r7, r7, #20
 6680              	.LCFI261:
 6681              		.cfi_def_cfa_offset 4
 6682 001a BD46     		mov	sp, r7
 6683              	.LCFI262:
 6684              		.cfi_def_cfa_register 13
 6685              		@ sp needed
 6686 001c 5DF8047B 		ldr	r7, [sp], #4
 6687              	.LCFI263:
 6688              		.cfi_restore 7
 6689              		.cfi_def_cfa_offset 0
 6690 0020 7047     		bx	lr
 6691              		.cfi_endproc
 6692              	.LFE259:
 6694              		.section	.text.USB_HC_Halt,"ax",%progbits
 6695              		.align	1
 6696              		.global	USB_HC_Halt
 6697              		.syntax unified
 6698              		.thumb
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 153


 6699              		.thumb_func
 6701              	USB_HC_Halt:
 6702              	.LFB260:
2010:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2011:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
2012:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Halt a host channel
2013:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
2014:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  hc_num  Host Channel number
2015:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         This parameter can be a value from 1 to 15
2016:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL state
2017:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
2018:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_HC_Halt(USB_OTG_GlobalTypeDef *USBx, uint8_t hc_num)
2019:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 6703              		.loc 1 2019 1
 6704              		.cfi_startproc
 6705              		@ args = 0, pretend = 0, frame = 32
 6706              		@ frame_needed = 1, uses_anonymous_args = 0
 6707              		@ link register save eliminated.
 6708 0000 80B4     		push	{r7}
 6709              	.LCFI264:
 6710              		.cfi_def_cfa_offset 4
 6711              		.cfi_offset 7, -4
 6712 0002 89B0     		sub	sp, sp, #36
 6713              	.LCFI265:
 6714              		.cfi_def_cfa_offset 40
 6715 0004 00AF     		add	r7, sp, #0
 6716              	.LCFI266:
 6717              		.cfi_def_cfa_register 7
 6718 0006 7860     		str	r0, [r7, #4]
 6719 0008 0B46     		mov	r3, r1
 6720 000a FB70     		strb	r3, [r7, #3]
2020:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 6721              		.loc 1 2020 12
 6722 000c 7B68     		ldr	r3, [r7, #4]
 6723 000e FB61     		str	r3, [r7, #28]
2021:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t hcnum = (uint32_t)hc_num;
 6724              		.loc 1 2021 12
 6725 0010 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 6726 0012 BB61     		str	r3, [r7, #24]
2022:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   __IO uint32_t count = 0U;
 6727              		.loc 1 2022 17
 6728 0014 0023     		movs	r3, #0
 6729 0016 FB60     		str	r3, [r7, #12]
2023:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t HcEpType = (USBx_HC(hcnum)->HCCHAR & USB_OTG_HCCHAR_EPTYP) >> 18;
 6730              		.loc 1 2023 24
 6731 0018 BB69     		ldr	r3, [r7, #24]
 6732 001a 5A01     		lsls	r2, r3, #5
 6733 001c FB69     		ldr	r3, [r7, #28]
 6734 001e 1344     		add	r3, r3, r2
 6735 0020 03F5A063 		add	r3, r3, #1280
 6736              		.loc 1 2023 38
 6737 0024 1B68     		ldr	r3, [r3]
 6738              		.loc 1 2023 71
 6739 0026 9B0C     		lsrs	r3, r3, #18
 6740              		.loc 1 2023 12
 6741 0028 03F00303 		and	r3, r3, #3
 6742 002c 7B61     		str	r3, [r7, #20]
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 154


2024:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t ChannelEna = (USBx_HC(hcnum)->HCCHAR & USB_OTG_HCCHAR_CHENA) >> 31;
 6743              		.loc 1 2024 26
 6744 002e BB69     		ldr	r3, [r7, #24]
 6745 0030 5A01     		lsls	r2, r3, #5
 6746 0032 FB69     		ldr	r3, [r7, #28]
 6747 0034 1344     		add	r3, r3, r2
 6748 0036 03F5A063 		add	r3, r3, #1280
 6749              		.loc 1 2024 40
 6750 003a 1B68     		ldr	r3, [r3]
 6751              		.loc 1 2024 73
 6752 003c DB0F     		lsrs	r3, r3, #31
 6753              		.loc 1 2024 12
 6754 003e 03F00103 		and	r3, r3, #1
 6755 0042 3B61     		str	r3, [r7, #16]
2025:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2026:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (((USBx->GAHBCFG & USB_OTG_GAHBCFG_DMAEN) == USB_OTG_GAHBCFG_DMAEN) &&
 6756              		.loc 1 2026 13
 6757 0044 7B68     		ldr	r3, [r7, #4]
 6758 0046 9B68     		ldr	r3, [r3, #8]
 6759              		.loc 1 2026 23
 6760 0048 03F02003 		and	r3, r3, #32
 6761              		.loc 1 2026 6
 6762 004c 202B     		cmp	r3, #32
 6763 004e 04D1     		bne	.L295
 6764              		.loc 1 2026 74 discriminator 1
 6765 0050 3B69     		ldr	r3, [r7, #16]
 6766 0052 002B     		cmp	r3, #0
 6767 0054 01D1     		bne	.L295
2027:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       (ChannelEna == 0U))
2028:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
2029:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     return HAL_OK;
 6768              		.loc 1 2029 12
 6769 0056 0023     		movs	r3, #0
 6770 0058 C8E0     		b	.L296
 6771              	.L295:
2030:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
2031:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2032:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Check for space in the request queue to issue the halt. */
2033:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if ((HcEpType == HCCHAR_CTRL) || (HcEpType == HCCHAR_BULK))
 6772              		.loc 1 2033 6
 6773 005a 7B69     		ldr	r3, [r7, #20]
 6774 005c 002B     		cmp	r3, #0
 6775 005e 02D0     		beq	.L297
 6776              		.loc 1 2033 33 discriminator 1
 6777 0060 7B69     		ldr	r3, [r7, #20]
 6778 0062 022B     		cmp	r3, #2
 6779 0064 63D1     		bne	.L298
 6780              	.L297:
2034:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
2035:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(hcnum)->HCCHAR |= USB_OTG_HCCHAR_CHDIS;
 6781              		.loc 1 2035 28
 6782 0066 BB69     		ldr	r3, [r7, #24]
 6783 0068 5A01     		lsls	r2, r3, #5
 6784 006a FB69     		ldr	r3, [r7, #28]
 6785 006c 1344     		add	r3, r3, r2
 6786 006e 03F5A063 		add	r3, r3, #1280
 6787 0072 1B68     		ldr	r3, [r3]
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 155


 6788 0074 BA69     		ldr	r2, [r7, #24]
 6789 0076 5101     		lsls	r1, r2, #5
 6790 0078 FA69     		ldr	r2, [r7, #28]
 6791 007a 0A44     		add	r2, r2, r1
 6792 007c 02F5A062 		add	r2, r2, #1280
 6793 0080 43F08043 		orr	r3, r3, #1073741824
 6794 0084 1360     		str	r3, [r2]
2036:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2037:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((USBx->GAHBCFG & USB_OTG_GAHBCFG_DMAEN) == 0U)
 6795              		.loc 1 2037 14
 6796 0086 7B68     		ldr	r3, [r7, #4]
 6797 0088 9B68     		ldr	r3, [r3, #8]
 6798              		.loc 1 2037 24
 6799 008a 03F02003 		and	r3, r3, #32
 6800              		.loc 1 2037 8
 6801 008e 002B     		cmp	r3, #0
 6802 0090 40F0AB80 		bne	.L304
2038:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
2039:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if ((USBx->HNPTXSTS & (0xFFU << 16)) == 0U)
 6803              		.loc 1 2039 16
 6804 0094 7B68     		ldr	r3, [r7, #4]
 6805 0096 DB6A     		ldr	r3, [r3, #44]
 6806              		.loc 1 2039 27
 6807 0098 03F47F03 		and	r3, r3, #16711680
 6808              		.loc 1 2039 10
 6809 009c 002B     		cmp	r3, #0
 6810 009e 33D1     		bne	.L300
2040:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
2041:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_HC(hcnum)->HCCHAR &= ~USB_OTG_HCCHAR_CHENA;
 6811              		.loc 1 2041 32
 6812 00a0 BB69     		ldr	r3, [r7, #24]
 6813 00a2 5A01     		lsls	r2, r3, #5
 6814 00a4 FB69     		ldr	r3, [r7, #28]
 6815 00a6 1344     		add	r3, r3, r2
 6816 00a8 03F5A063 		add	r3, r3, #1280
 6817 00ac 1B68     		ldr	r3, [r3]
 6818 00ae BA69     		ldr	r2, [r7, #24]
 6819 00b0 5101     		lsls	r1, r2, #5
 6820 00b2 FA69     		ldr	r2, [r7, #28]
 6821 00b4 0A44     		add	r2, r2, r1
 6822 00b6 02F5A062 		add	r2, r2, #1280
 6823 00ba 23F00043 		bic	r3, r3, #-2147483648
 6824 00be 1360     		str	r3, [r2]
2042:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_HC(hcnum)->HCCHAR |= USB_OTG_HCCHAR_CHENA;
 6825              		.loc 1 2042 32
 6826 00c0 BB69     		ldr	r3, [r7, #24]
 6827 00c2 5A01     		lsls	r2, r3, #5
 6828 00c4 FB69     		ldr	r3, [r7, #28]
 6829 00c6 1344     		add	r3, r3, r2
 6830 00c8 03F5A063 		add	r3, r3, #1280
 6831 00cc 1B68     		ldr	r3, [r3]
 6832 00ce BA69     		ldr	r2, [r7, #24]
 6833 00d0 5101     		lsls	r1, r2, #5
 6834 00d2 FA69     		ldr	r2, [r7, #28]
 6835 00d4 0A44     		add	r2, r2, r1
 6836 00d6 02F5A062 		add	r2, r2, #1280
 6837 00da 43F00043 		orr	r3, r3, #-2147483648
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 156


 6838 00de 1360     		str	r3, [r2]
 6839              	.L303:
2043:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         do
2044:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
2045:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           count++;
 6840              		.loc 1 2045 16
 6841 00e0 FB68     		ldr	r3, [r7, #12]
 6842 00e2 0133     		adds	r3, r3, #1
 6843 00e4 FB60     		str	r3, [r7, #12]
2046:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2047:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           if (count > 1000U)
 6844              		.loc 1 2047 21
 6845 00e6 FB68     		ldr	r3, [r7, #12]
 6846              		.loc 1 2047 14
 6847 00e8 B3F57A7F 		cmp	r3, #1000
 6848 00ec 1DD8     		bhi	.L310
2048:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           {
2049:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****             break;
2050:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           }
2051:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         } while ((USBx_HC(hcnum)->HCCHAR & USB_OTG_HCCHAR_CHENA) == USB_OTG_HCCHAR_CHENA);
 6849              		.loc 1 2051 19
 6850 00ee BB69     		ldr	r3, [r7, #24]
 6851 00f0 5A01     		lsls	r2, r3, #5
 6852 00f2 FB69     		ldr	r3, [r7, #28]
 6853 00f4 1344     		add	r3, r3, r2
 6854 00f6 03F5A063 		add	r3, r3, #1280
 6855              		.loc 1 2051 33
 6856 00fa 1B68     		ldr	r3, [r3]
 6857              		.loc 1 2051 42
 6858 00fc 03F00043 		and	r3, r3, #-2147483648
 6859              		.loc 1 2051 66
 6860 0100 B3F1004F 		cmp	r3, #-2147483648
 6861 0104 ECD0     		beq	.L303
2037:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 6862              		.loc 1 2037 8
 6863 0106 70E0     		b	.L304
 6864              	.L300:
2052:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
2053:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       else
2054:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
2055:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_HC(hcnum)->HCCHAR |= USB_OTG_HCCHAR_CHENA;
 6865              		.loc 1 2055 32
 6866 0108 BB69     		ldr	r3, [r7, #24]
 6867 010a 5A01     		lsls	r2, r3, #5
 6868 010c FB69     		ldr	r3, [r7, #28]
 6869 010e 1344     		add	r3, r3, r2
 6870 0110 03F5A063 		add	r3, r3, #1280
 6871 0114 1B68     		ldr	r3, [r3]
 6872 0116 BA69     		ldr	r2, [r7, #24]
 6873 0118 5101     		lsls	r1, r2, #5
 6874 011a FA69     		ldr	r2, [r7, #28]
 6875 011c 0A44     		add	r2, r2, r1
 6876 011e 02F5A062 		add	r2, r2, #1280
 6877 0122 43F00043 		orr	r3, r3, #-2147483648
 6878 0126 1360     		str	r3, [r2]
2037:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 6879              		.loc 1 2037 8
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 157


 6880 0128 5FE0     		b	.L304
 6881              	.L310:
2049:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           }
 6882              		.loc 1 2049 13
 6883 012a 00BF     		nop
2037:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 6884              		.loc 1 2037 8
 6885 012c 5DE0     		b	.L304
 6886              	.L298:
2056:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
2057:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
2058:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
2059:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
2060:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
2061:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(hcnum)->HCCHAR |= USB_OTG_HCCHAR_CHDIS;
 6887              		.loc 1 2061 28
 6888 012e BB69     		ldr	r3, [r7, #24]
 6889 0130 5A01     		lsls	r2, r3, #5
 6890 0132 FB69     		ldr	r3, [r7, #28]
 6891 0134 1344     		add	r3, r3, r2
 6892 0136 03F5A063 		add	r3, r3, #1280
 6893 013a 1B68     		ldr	r3, [r3]
 6894 013c BA69     		ldr	r2, [r7, #24]
 6895 013e 5101     		lsls	r1, r2, #5
 6896 0140 FA69     		ldr	r2, [r7, #28]
 6897 0142 0A44     		add	r2, r2, r1
 6898 0144 02F5A062 		add	r2, r2, #1280
 6899 0148 43F08043 		orr	r3, r3, #1073741824
 6900 014c 1360     		str	r3, [r2]
2062:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2063:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((USBx_HOST->HPTXSTS & (0xFFU << 16)) == 0U)
 6901              		.loc 1 2063 10
 6902 014e FB69     		ldr	r3, [r7, #28]
 6903 0150 03F58063 		add	r3, r3, #1024
 6904              		.loc 1 2063 19
 6905 0154 1B69     		ldr	r3, [r3, #16]
 6906              		.loc 1 2063 29
 6907 0156 03F47F03 		and	r3, r3, #16711680
 6908              		.loc 1 2063 8
 6909 015a 002B     		cmp	r3, #0
 6910 015c 33D1     		bne	.L305
2064:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
2065:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC(hcnum)->HCCHAR &= ~USB_OTG_HCCHAR_CHENA;
 6911              		.loc 1 2065 30
 6912 015e BB69     		ldr	r3, [r7, #24]
 6913 0160 5A01     		lsls	r2, r3, #5
 6914 0162 FB69     		ldr	r3, [r7, #28]
 6915 0164 1344     		add	r3, r3, r2
 6916 0166 03F5A063 		add	r3, r3, #1280
 6917 016a 1B68     		ldr	r3, [r3]
 6918 016c BA69     		ldr	r2, [r7, #24]
 6919 016e 5101     		lsls	r1, r2, #5
 6920 0170 FA69     		ldr	r2, [r7, #28]
 6921 0172 0A44     		add	r2, r2, r1
 6922 0174 02F5A062 		add	r2, r2, #1280
 6923 0178 23F00043 		bic	r3, r3, #-2147483648
 6924 017c 1360     		str	r3, [r2]
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 158


2066:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC(hcnum)->HCCHAR |= USB_OTG_HCCHAR_CHENA;
 6925              		.loc 1 2066 30
 6926 017e BB69     		ldr	r3, [r7, #24]
 6927 0180 5A01     		lsls	r2, r3, #5
 6928 0182 FB69     		ldr	r3, [r7, #28]
 6929 0184 1344     		add	r3, r3, r2
 6930 0186 03F5A063 		add	r3, r3, #1280
 6931 018a 1B68     		ldr	r3, [r3]
 6932 018c BA69     		ldr	r2, [r7, #24]
 6933 018e 5101     		lsls	r1, r2, #5
 6934 0190 FA69     		ldr	r2, [r7, #28]
 6935 0192 0A44     		add	r2, r2, r1
 6936 0194 02F5A062 		add	r2, r2, #1280
 6937 0198 43F00043 		orr	r3, r3, #-2147483648
 6938 019c 1360     		str	r3, [r2]
 6939              	.L308:
2067:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       do
2068:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
2069:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         count++;
 6940              		.loc 1 2069 14
 6941 019e FB68     		ldr	r3, [r7, #12]
 6942 01a0 0133     		adds	r3, r3, #1
 6943 01a2 FB60     		str	r3, [r7, #12]
2070:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2071:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         if (count > 1000U)
 6944              		.loc 1 2071 19
 6945 01a4 FB68     		ldr	r3, [r7, #12]
 6946              		.loc 1 2071 12
 6947 01a6 B3F57A7F 		cmp	r3, #1000
 6948 01aa 1DD8     		bhi	.L311
2072:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
2073:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           break;
2074:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
2075:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       } while ((USBx_HC(hcnum)->HCCHAR & USB_OTG_HCCHAR_CHENA) == USB_OTG_HCCHAR_CHENA);
 6949              		.loc 1 2075 17
 6950 01ac BB69     		ldr	r3, [r7, #24]
 6951 01ae 5A01     		lsls	r2, r3, #5
 6952 01b0 FB69     		ldr	r3, [r7, #28]
 6953 01b2 1344     		add	r3, r3, r2
 6954 01b4 03F5A063 		add	r3, r3, #1280
 6955              		.loc 1 2075 31
 6956 01b8 1B68     		ldr	r3, [r3]
 6957              		.loc 1 2075 40
 6958 01ba 03F00043 		and	r3, r3, #-2147483648
 6959              		.loc 1 2075 64
 6960 01be B3F1004F 		cmp	r3, #-2147483648
 6961 01c2 ECD0     		beq	.L308
 6962 01c4 11E0     		b	.L304
 6963              	.L305:
2076:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
2077:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
2078:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
2079:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC(hcnum)->HCCHAR |= USB_OTG_HCCHAR_CHENA;
 6964              		.loc 1 2079 30
 6965 01c6 BB69     		ldr	r3, [r7, #24]
 6966 01c8 5A01     		lsls	r2, r3, #5
 6967 01ca FB69     		ldr	r3, [r7, #28]
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 159


 6968 01cc 1344     		add	r3, r3, r2
 6969 01ce 03F5A063 		add	r3, r3, #1280
 6970 01d2 1B68     		ldr	r3, [r3]
 6971 01d4 BA69     		ldr	r2, [r7, #24]
 6972 01d6 5101     		lsls	r1, r2, #5
 6973 01d8 FA69     		ldr	r2, [r7, #28]
 6974 01da 0A44     		add	r2, r2, r1
 6975 01dc 02F5A062 		add	r2, r2, #1280
 6976 01e0 43F00043 		orr	r3, r3, #-2147483648
 6977 01e4 1360     		str	r3, [r2]
 6978 01e6 00E0     		b	.L304
 6979              	.L311:
2073:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
 6980              		.loc 1 2073 11
 6981 01e8 00BF     		nop
 6982              	.L304:
2080:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
2081:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
2082:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2083:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 6983              		.loc 1 2083 10
 6984 01ea 0023     		movs	r3, #0
 6985              	.L296:
2084:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 6986              		.loc 1 2084 1
 6987 01ec 1846     		mov	r0, r3
 6988 01ee 2437     		adds	r7, r7, #36
 6989              	.LCFI267:
 6990              		.cfi_def_cfa_offset 4
 6991 01f0 BD46     		mov	sp, r7
 6992              	.LCFI268:
 6993              		.cfi_def_cfa_register 13
 6994              		@ sp needed
 6995 01f2 5DF8047B 		ldr	r7, [sp], #4
 6996              	.LCFI269:
 6997              		.cfi_restore 7
 6998              		.cfi_def_cfa_offset 0
 6999 01f6 7047     		bx	lr
 7000              		.cfi_endproc
 7001              	.LFE260:
 7003              		.section	.text.USB_DoPing,"ax",%progbits
 7004              		.align	1
 7005              		.global	USB_DoPing
 7006              		.syntax unified
 7007              		.thumb
 7008              		.thumb_func
 7010              	USB_DoPing:
 7011              	.LFB261:
2085:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2086:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
2087:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Initiate Do Ping protocol
2088:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
2089:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  hc_num  Host Channel number
2090:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         This parameter can be a value from 1 to 15
2091:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL state
2092:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
2093:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_DoPing(USB_OTG_GlobalTypeDef *USBx, uint8_t ch_num)
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 160


2094:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 7012              		.loc 1 2094 1
 7013              		.cfi_startproc
 7014              		@ args = 0, pretend = 0, frame = 24
 7015              		@ frame_needed = 1, uses_anonymous_args = 0
 7016              		@ link register save eliminated.
 7017 0000 80B4     		push	{r7}
 7018              	.LCFI270:
 7019              		.cfi_def_cfa_offset 4
 7020              		.cfi_offset 7, -4
 7021 0002 87B0     		sub	sp, sp, #28
 7022              	.LCFI271:
 7023              		.cfi_def_cfa_offset 32
 7024 0004 00AF     		add	r7, sp, #0
 7025              	.LCFI272:
 7026              		.cfi_def_cfa_register 7
 7027 0006 7860     		str	r0, [r7, #4]
 7028 0008 0B46     		mov	r3, r1
 7029 000a FB70     		strb	r3, [r7, #3]
2095:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 7030              		.loc 1 2095 12
 7031 000c 7B68     		ldr	r3, [r7, #4]
 7032 000e 7B61     		str	r3, [r7, #20]
2096:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t chnum = (uint32_t)ch_num;
 7033              		.loc 1 2096 12
 7034 0010 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 7035 0012 3B61     		str	r3, [r7, #16]
2097:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t num_packets = 1U;
 7036              		.loc 1 2097 12
 7037 0014 0123     		movs	r3, #1
 7038 0016 FB60     		str	r3, [r7, #12]
2098:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t tmpreg;
2099:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2100:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC(chnum)->HCTSIZ = ((num_packets << 19) & USB_OTG_HCTSIZ_PKTCNT) |
 7039              		.loc 1 2100 42
 7040 0018 FB68     		ldr	r3, [r7, #12]
 7041 001a DA04     		lsls	r2, r3, #19
 7042              		.loc 1 2100 49
 7043 001c 154B     		ldr	r3, .L314
 7044 001e 1340     		ands	r3, r3, r2
 7045              		.loc 1 2100 3
 7046 0020 3A69     		ldr	r2, [r7, #16]
 7047 0022 5101     		lsls	r1, r2, #5
 7048 0024 7A69     		ldr	r2, [r7, #20]
 7049 0026 0A44     		add	r2, r2, r1
 7050 0028 02F5A062 		add	r2, r2, #1280
 7051              		.loc 1 2100 74
 7052 002c 43F00043 		orr	r3, r3, #-2147483648
 7053              		.loc 1 2100 26
 7054 0030 1361     		str	r3, [r2, #16]
2101:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                            USB_OTG_HCTSIZ_DOPING;
2102:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2103:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Set host channel enable */
2104:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg = USBx_HC(chnum)->HCCHAR;
 7055              		.loc 1 2104 12
 7056 0032 3B69     		ldr	r3, [r7, #16]
 7057 0034 5A01     		lsls	r2, r3, #5
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 161


 7058 0036 7B69     		ldr	r3, [r7, #20]
 7059 0038 1344     		add	r3, r3, r2
 7060 003a 03F5A063 		add	r3, r3, #1280
 7061              		.loc 1 2104 10
 7062 003e 1B68     		ldr	r3, [r3]
 7063 0040 BB60     		str	r3, [r7, #8]
2105:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg &= ~USB_OTG_HCCHAR_CHDIS;
 7064              		.loc 1 2105 10
 7065 0042 BB68     		ldr	r3, [r7, #8]
 7066 0044 23F08043 		bic	r3, r3, #1073741824
 7067 0048 BB60     		str	r3, [r7, #8]
2106:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg |= USB_OTG_HCCHAR_CHENA;
 7068              		.loc 1 2106 10
 7069 004a BB68     		ldr	r3, [r7, #8]
 7070 004c 43F00043 		orr	r3, r3, #-2147483648
 7071 0050 BB60     		str	r3, [r7, #8]
2107:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC(chnum)->HCCHAR = tmpreg;
 7072              		.loc 1 2107 3
 7073 0052 3B69     		ldr	r3, [r7, #16]
 7074 0054 5A01     		lsls	r2, r3, #5
 7075 0056 7B69     		ldr	r3, [r7, #20]
 7076 0058 1344     		add	r3, r3, r2
 7077 005a 03F5A063 		add	r3, r3, #1280
 7078 005e 1A46     		mov	r2, r3
 7079              		.loc 1 2107 26
 7080 0060 BB68     		ldr	r3, [r7, #8]
 7081 0062 1360     		str	r3, [r2]
2108:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2109:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 7082              		.loc 1 2109 10
 7083 0064 0023     		movs	r3, #0
2110:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 7084              		.loc 1 2110 1
 7085 0066 1846     		mov	r0, r3
 7086 0068 1C37     		adds	r7, r7, #28
 7087              	.LCFI273:
 7088              		.cfi_def_cfa_offset 4
 7089 006a BD46     		mov	sp, r7
 7090              	.LCFI274:
 7091              		.cfi_def_cfa_register 13
 7092              		@ sp needed
 7093 006c 5DF8047B 		ldr	r7, [sp], #4
 7094              	.LCFI275:
 7095              		.cfi_restore 7
 7096              		.cfi_def_cfa_offset 0
 7097 0070 7047     		bx	lr
 7098              	.L315:
 7099 0072 00BF     		.align	2
 7100              	.L314:
 7101 0074 0000F81F 		.word	536346624
 7102              		.cfi_endproc
 7103              	.LFE261:
 7105              		.section	.text.USB_StopHost,"ax",%progbits
 7106              		.align	1
 7107              		.global	USB_StopHost
 7108              		.syntax unified
 7109              		.thumb
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 162


 7110              		.thumb_func
 7112              	USB_StopHost:
 7113              	.LFB262:
2111:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2112:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
2113:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Stop Host Core
2114:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
2115:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL state
2116:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
2117:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_StopHost(USB_OTG_GlobalTypeDef *USBx)
2118:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 7114              		.loc 1 2118 1
 7115              		.cfi_startproc
 7116              		@ args = 0, pretend = 0, frame = 32
 7117              		@ frame_needed = 1, uses_anonymous_args = 0
 7118 0000 80B5     		push	{r7, lr}
 7119              	.LCFI276:
 7120              		.cfi_def_cfa_offset 8
 7121              		.cfi_offset 7, -8
 7122              		.cfi_offset 14, -4
 7123 0002 88B0     		sub	sp, sp, #32
 7124              	.LCFI277:
 7125              		.cfi_def_cfa_offset 40
 7126 0004 00AF     		add	r7, sp, #0
 7127              	.LCFI278:
 7128              		.cfi_def_cfa_register 7
 7129 0006 7860     		str	r0, [r7, #4]
2119:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HAL_StatusTypeDef ret = HAL_OK;
 7130              		.loc 1 2119 21
 7131 0008 0023     		movs	r3, #0
 7132 000a FB77     		strb	r3, [r7, #31]
2120:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 7133              		.loc 1 2120 12
 7134 000c 7B68     		ldr	r3, [r7, #4]
 7135 000e 7B61     		str	r3, [r7, #20]
2121:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   __IO uint32_t count = 0U;
 7136              		.loc 1 2121 17
 7137 0010 0023     		movs	r3, #0
 7138 0012 FB60     		str	r3, [r7, #12]
2122:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t value;
2123:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t i;
2124:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2125:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   (void)USB_DisableGlobalInt(USBx);
 7139              		.loc 1 2125 9
 7140 0014 7868     		ldr	r0, [r7, #4]
 7141 0016 FFF7FEFF 		bl	USB_DisableGlobalInt
2126:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2127:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Flush USB FIFO */
2128:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (USB_FlushTxFifo(USBx, 0x10U) != HAL_OK) /* all Tx FIFOs */
 7142              		.loc 1 2128 7
 7143 001a 1021     		movs	r1, #16
 7144 001c 7868     		ldr	r0, [r7, #4]
 7145 001e FFF7FEFF 		bl	USB_FlushTxFifo
 7146 0022 0346     		mov	r3, r0
 7147              		.loc 1 2128 6
 7148 0024 002B     		cmp	r3, #0
 7149 0026 01D0     		beq	.L317
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 163


2129:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
2130:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     ret = HAL_ERROR;
 7150              		.loc 1 2130 9
 7151 0028 0123     		movs	r3, #1
 7152 002a FB77     		strb	r3, [r7, #31]
 7153              	.L317:
2131:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
2132:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2133:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (USB_FlushRxFifo(USBx) != HAL_OK)
 7154              		.loc 1 2133 7
 7155 002c 7868     		ldr	r0, [r7, #4]
 7156 002e FFF7FEFF 		bl	USB_FlushRxFifo
 7157 0032 0346     		mov	r3, r0
 7158              		.loc 1 2133 6
 7159 0034 002B     		cmp	r3, #0
 7160 0036 01D0     		beq	.L318
2134:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
2135:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     ret = HAL_ERROR;
 7161              		.loc 1 2135 9
 7162 0038 0123     		movs	r3, #1
 7163 003a FB77     		strb	r3, [r7, #31]
 7164              	.L318:
2136:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
2137:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2138:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Flush out any leftover queued requests. */
2139:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   for (i = 0U; i <= 15U; i++)
 7165              		.loc 1 2139 10
 7166 003c 0023     		movs	r3, #0
 7167 003e BB61     		str	r3, [r7, #24]
 7168              		.loc 1 2139 3
 7169 0040 1FE0     		b	.L319
 7170              	.L320:
2140:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
2141:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     value = USBx_HC(i)->HCCHAR;
 7171              		.loc 1 2141 13 discriminator 3
 7172 0042 BB69     		ldr	r3, [r7, #24]
 7173 0044 5A01     		lsls	r2, r3, #5
 7174 0046 7B69     		ldr	r3, [r7, #20]
 7175 0048 1344     		add	r3, r3, r2
 7176 004a 03F5A063 		add	r3, r3, #1280
 7177              		.loc 1 2141 11 discriminator 3
 7178 004e 1B68     		ldr	r3, [r3]
 7179 0050 3B61     		str	r3, [r7, #16]
2142:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     value |=  USB_OTG_HCCHAR_CHDIS;
 7180              		.loc 1 2142 11 discriminator 3
 7181 0052 3B69     		ldr	r3, [r7, #16]
 7182 0054 43F08043 		orr	r3, r3, #1073741824
 7183 0058 3B61     		str	r3, [r7, #16]
2143:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     value &= ~USB_OTG_HCCHAR_CHENA;
 7184              		.loc 1 2143 11 discriminator 3
 7185 005a 3B69     		ldr	r3, [r7, #16]
 7186 005c 23F00043 		bic	r3, r3, #-2147483648
 7187 0060 3B61     		str	r3, [r7, #16]
2144:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     value &= ~USB_OTG_HCCHAR_EPDIR;
 7188              		.loc 1 2144 11 discriminator 3
 7189 0062 3B69     		ldr	r3, [r7, #16]
 7190 0064 23F40043 		bic	r3, r3, #32768
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 164


 7191 0068 3B61     		str	r3, [r7, #16]
2145:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(i)->HCCHAR = value;
 7192              		.loc 1 2145 5 discriminator 3
 7193 006a BB69     		ldr	r3, [r7, #24]
 7194 006c 5A01     		lsls	r2, r3, #5
 7195 006e 7B69     		ldr	r3, [r7, #20]
 7196 0070 1344     		add	r3, r3, r2
 7197 0072 03F5A063 		add	r3, r3, #1280
 7198 0076 1A46     		mov	r2, r3
 7199              		.loc 1 2145 24 discriminator 3
 7200 0078 3B69     		ldr	r3, [r7, #16]
 7201 007a 1360     		str	r3, [r2]
2139:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 7202              		.loc 1 2139 27 discriminator 3
 7203 007c BB69     		ldr	r3, [r7, #24]
 7204 007e 0133     		adds	r3, r3, #1
 7205 0080 BB61     		str	r3, [r7, #24]
 7206              	.L319:
2139:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 7207              		.loc 1 2139 18 discriminator 1
 7208 0082 BB69     		ldr	r3, [r7, #24]
 7209 0084 0F2B     		cmp	r3, #15
 7210 0086 DCD9     		bls	.L320
2146:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
2147:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2148:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Halt all channels to put them into a known state. */
2149:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   for (i = 0U; i <= 15U; i++)
 7211              		.loc 1 2149 10
 7212 0088 0023     		movs	r3, #0
 7213 008a BB61     		str	r3, [r7, #24]
 7214              		.loc 1 2149 3
 7215 008c 34E0     		b	.L321
 7216              	.L325:
2150:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
2151:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     value = USBx_HC(i)->HCCHAR;
 7217              		.loc 1 2151 13
 7218 008e BB69     		ldr	r3, [r7, #24]
 7219 0090 5A01     		lsls	r2, r3, #5
 7220 0092 7B69     		ldr	r3, [r7, #20]
 7221 0094 1344     		add	r3, r3, r2
 7222 0096 03F5A063 		add	r3, r3, #1280
 7223              		.loc 1 2151 11
 7224 009a 1B68     		ldr	r3, [r3]
 7225 009c 3B61     		str	r3, [r7, #16]
2152:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     value |= USB_OTG_HCCHAR_CHDIS;
 7226              		.loc 1 2152 11
 7227 009e 3B69     		ldr	r3, [r7, #16]
 7228 00a0 43F08043 		orr	r3, r3, #1073741824
 7229 00a4 3B61     		str	r3, [r7, #16]
2153:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     value |= USB_OTG_HCCHAR_CHENA;
 7230              		.loc 1 2153 11
 7231 00a6 3B69     		ldr	r3, [r7, #16]
 7232 00a8 43F00043 		orr	r3, r3, #-2147483648
 7233 00ac 3B61     		str	r3, [r7, #16]
2154:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     value &= ~USB_OTG_HCCHAR_EPDIR;
 7234              		.loc 1 2154 11
 7235 00ae 3B69     		ldr	r3, [r7, #16]
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 165


 7236 00b0 23F40043 		bic	r3, r3, #32768
 7237 00b4 3B61     		str	r3, [r7, #16]
2155:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(i)->HCCHAR = value;
 7238              		.loc 1 2155 5
 7239 00b6 BB69     		ldr	r3, [r7, #24]
 7240 00b8 5A01     		lsls	r2, r3, #5
 7241 00ba 7B69     		ldr	r3, [r7, #20]
 7242 00bc 1344     		add	r3, r3, r2
 7243 00be 03F5A063 		add	r3, r3, #1280
 7244 00c2 1A46     		mov	r2, r3
 7245              		.loc 1 2155 24
 7246 00c4 3B69     		ldr	r3, [r7, #16]
 7247 00c6 1360     		str	r3, [r2]
 7248              	.L324:
2156:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2157:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     do
2158:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
2159:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       count++;
 7249              		.loc 1 2159 12
 7250 00c8 FB68     		ldr	r3, [r7, #12]
 7251 00ca 0133     		adds	r3, r3, #1
 7252 00cc FB60     		str	r3, [r7, #12]
2160:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2161:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if (count > 1000U)
 7253              		.loc 1 2161 17
 7254 00ce FB68     		ldr	r3, [r7, #12]
 7255              		.loc 1 2161 10
 7256 00d0 B3F57A7F 		cmp	r3, #1000
 7257 00d4 0CD8     		bhi	.L327
2162:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
2163:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         break;
2164:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
2165:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     } while ((USBx_HC(i)->HCCHAR & USB_OTG_HCCHAR_CHENA) == USB_OTG_HCCHAR_CHENA);
 7258              		.loc 1 2165 15
 7259 00d6 BB69     		ldr	r3, [r7, #24]
 7260 00d8 5A01     		lsls	r2, r3, #5
 7261 00da 7B69     		ldr	r3, [r7, #20]
 7262 00dc 1344     		add	r3, r3, r2
 7263 00de 03F5A063 		add	r3, r3, #1280
 7264              		.loc 1 2165 25
 7265 00e2 1B68     		ldr	r3, [r3]
 7266              		.loc 1 2165 34
 7267 00e4 03F00043 		and	r3, r3, #-2147483648
 7268              		.loc 1 2165 58
 7269 00e8 B3F1004F 		cmp	r3, #-2147483648
 7270 00ec ECD0     		beq	.L324
 7271 00ee 00E0     		b	.L323
 7272              	.L327:
2163:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 7273              		.loc 1 2163 9
 7274 00f0 00BF     		nop
 7275              	.L323:
2149:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 7276              		.loc 1 2149 27 discriminator 2
 7277 00f2 BB69     		ldr	r3, [r7, #24]
 7278 00f4 0133     		adds	r3, r3, #1
 7279 00f6 BB61     		str	r3, [r7, #24]
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 166


 7280              	.L321:
2149:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 7281              		.loc 1 2149 18 discriminator 1
 7282 00f8 BB69     		ldr	r3, [r7, #24]
 7283 00fa 0F2B     		cmp	r3, #15
 7284 00fc C7D9     		bls	.L325
2166:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
2167:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2168:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Clear any pending Host interrupts */
2169:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HOST->HAINT = 0xFFFFFFFFU;
 7285              		.loc 1 2169 3
 7286 00fe 7B69     		ldr	r3, [r7, #20]
 7287 0100 03F58063 		add	r3, r3, #1024
 7288 0104 1A46     		mov	r2, r3
 7289              		.loc 1 2169 20
 7290 0106 4FF0FF33 		mov	r3, #-1
 7291 010a 5361     		str	r3, [r2, #20]
2170:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTSTS = 0xFFFFFFFFU;
 7292              		.loc 1 2170 17
 7293 010c 7B68     		ldr	r3, [r7, #4]
 7294 010e 4FF0FF32 		mov	r2, #-1
 7295 0112 5A61     		str	r2, [r3, #20]
2171:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2172:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   (void)USB_EnableGlobalInt(USBx);
 7296              		.loc 1 2172 9
 7297 0114 7868     		ldr	r0, [r7, #4]
 7298 0116 FFF7FEFF 		bl	USB_EnableGlobalInt
2173:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2174:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ret;
 7299              		.loc 1 2174 10
 7300 011a FB7F     		ldrb	r3, [r7, #31]	@ zero_extendqisi2
2175:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 7301              		.loc 1 2175 1
 7302 011c 1846     		mov	r0, r3
 7303 011e 2037     		adds	r7, r7, #32
 7304              	.LCFI279:
 7305              		.cfi_def_cfa_offset 8
 7306 0120 BD46     		mov	sp, r7
 7307              	.LCFI280:
 7308              		.cfi_def_cfa_register 13
 7309              		@ sp needed
 7310 0122 80BD     		pop	{r7, pc}
 7311              		.cfi_endproc
 7312              	.LFE262:
 7314              		.section	.text.USB_ActivateRemoteWakeup,"ax",%progbits
 7315              		.align	1
 7316              		.global	USB_ActivateRemoteWakeup
 7317              		.syntax unified
 7318              		.thumb
 7319              		.thumb_func
 7321              	USB_ActivateRemoteWakeup:
 7322              	.LFB263:
2176:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2177:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
2178:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_ActivateRemoteWakeup active remote wakeup signalling
2179:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx Selected device
2180:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 167


2181:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
2182:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_ActivateRemoteWakeup(USB_OTG_GlobalTypeDef *USBx)
2183:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 7323              		.loc 1 2183 1
 7324              		.cfi_startproc
 7325              		@ args = 0, pretend = 0, frame = 16
 7326              		@ frame_needed = 1, uses_anonymous_args = 0
 7327              		@ link register save eliminated.
 7328 0000 80B4     		push	{r7}
 7329              	.LCFI281:
 7330              		.cfi_def_cfa_offset 4
 7331              		.cfi_offset 7, -4
 7332 0002 85B0     		sub	sp, sp, #20
 7333              	.LCFI282:
 7334              		.cfi_def_cfa_offset 24
 7335 0004 00AF     		add	r7, sp, #0
 7336              	.LCFI283:
 7337              		.cfi_def_cfa_register 7
 7338 0006 7860     		str	r0, [r7, #4]
2184:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 7339              		.loc 1 2184 12
 7340 0008 7B68     		ldr	r3, [r7, #4]
 7341 000a FB60     		str	r3, [r7, #12]
2185:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2186:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if ((USBx_DEVICE->DSTS & USB_OTG_DSTS_SUSPSTS) == USB_OTG_DSTS_SUSPSTS)
 7342              		.loc 1 2186 8
 7343 000c FB68     		ldr	r3, [r7, #12]
 7344 000e 03F50063 		add	r3, r3, #2048
 7345              		.loc 1 2186 19
 7346 0012 9B68     		ldr	r3, [r3, #8]
 7347              		.loc 1 2186 26
 7348 0014 03F00103 		and	r3, r3, #1
 7349              		.loc 1 2186 6
 7350 0018 012B     		cmp	r3, #1
 7351 001a 09D1     		bne	.L329
2187:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
2188:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* active Remote wakeup signalling */
2189:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DCTL |= USB_OTG_DCTL_RWUSIG;
 7352              		.loc 1 2189 23
 7353 001c FB68     		ldr	r3, [r7, #12]
 7354 001e 03F50063 		add	r3, r3, #2048
 7355 0022 5B68     		ldr	r3, [r3, #4]
 7356 0024 FA68     		ldr	r2, [r7, #12]
 7357 0026 02F50062 		add	r2, r2, #2048
 7358 002a 43F00103 		orr	r3, r3, #1
 7359 002e 5360     		str	r3, [r2, #4]
 7360              	.L329:
2190:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
2191:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2192:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 7361              		.loc 1 2192 10
 7362 0030 0023     		movs	r3, #0
2193:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 7363              		.loc 1 2193 1
 7364 0032 1846     		mov	r0, r3
 7365 0034 1437     		adds	r7, r7, #20
 7366              	.LCFI284:
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 168


 7367              		.cfi_def_cfa_offset 4
 7368 0036 BD46     		mov	sp, r7
 7369              	.LCFI285:
 7370              		.cfi_def_cfa_register 13
 7371              		@ sp needed
 7372 0038 5DF8047B 		ldr	r7, [sp], #4
 7373              	.LCFI286:
 7374              		.cfi_restore 7
 7375              		.cfi_def_cfa_offset 0
 7376 003c 7047     		bx	lr
 7377              		.cfi_endproc
 7378              	.LFE263:
 7380              		.section	.text.USB_DeActivateRemoteWakeup,"ax",%progbits
 7381              		.align	1
 7382              		.global	USB_DeActivateRemoteWakeup
 7383              		.syntax unified
 7384              		.thumb
 7385              		.thumb_func
 7387              	USB_DeActivateRemoteWakeup:
 7388              	.LFB264:
2194:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2195:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
2196:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_DeActivateRemoteWakeup de-active remote wakeup signalling
2197:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx Selected device
2198:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
2199:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
2200:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_DeActivateRemoteWakeup(USB_OTG_GlobalTypeDef *USBx)
2201:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 7389              		.loc 1 2201 1
 7390              		.cfi_startproc
 7391              		@ args = 0, pretend = 0, frame = 16
 7392              		@ frame_needed = 1, uses_anonymous_args = 0
 7393              		@ link register save eliminated.
 7394 0000 80B4     		push	{r7}
 7395              	.LCFI287:
 7396              		.cfi_def_cfa_offset 4
 7397              		.cfi_offset 7, -4
 7398 0002 85B0     		sub	sp, sp, #20
 7399              	.LCFI288:
 7400              		.cfi_def_cfa_offset 24
 7401 0004 00AF     		add	r7, sp, #0
 7402              	.LCFI289:
 7403              		.cfi_def_cfa_register 7
 7404 0006 7860     		str	r0, [r7, #4]
2202:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 7405              		.loc 1 2202 12
 7406 0008 7B68     		ldr	r3, [r7, #4]
 7407 000a FB60     		str	r3, [r7, #12]
2203:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2204:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* active Remote wakeup signalling */
2205:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DCTL &= ~(USB_OTG_DCTL_RWUSIG);
 7408              		.loc 1 2205 21
 7409 000c FB68     		ldr	r3, [r7, #12]
 7410 000e 03F50063 		add	r3, r3, #2048
 7411 0012 5B68     		ldr	r3, [r3, #4]
 7412 0014 FA68     		ldr	r2, [r7, #12]
 7413 0016 02F50062 		add	r2, r2, #2048
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 169


 7414 001a 23F00103 		bic	r3, r3, #1
 7415 001e 5360     		str	r3, [r2, #4]
2206:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2207:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 7416              		.loc 1 2207 10
 7417 0020 0023     		movs	r3, #0
2208:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 7418              		.loc 1 2208 1
 7419 0022 1846     		mov	r0, r3
 7420 0024 1437     		adds	r7, r7, #20
 7421              	.LCFI290:
 7422              		.cfi_def_cfa_offset 4
 7423 0026 BD46     		mov	sp, r7
 7424              	.LCFI291:
 7425              		.cfi_def_cfa_register 13
 7426              		@ sp needed
 7427 0028 5DF8047B 		ldr	r7, [sp], #4
 7428              	.LCFI292:
 7429              		.cfi_restore 7
 7430              		.cfi_def_cfa_offset 0
 7431 002c 7047     		bx	lr
 7432              		.cfi_endproc
 7433              	.LFE264:
 7435              		.text
 7436              	.Letext0:
 7437              		.file 2 "c:\\arm-gcc\\tools\\arm-gnu-toolchain-11.3.rel1-mingw-w64-i686-arm-none-eabi\\arm-none-ea
 7438              		.file 3 "c:\\arm-gcc\\tools\\arm-gnu-toolchain-11.3.rel1-mingw-w64-i686-arm-none-eabi\\arm-none-ea
 7439              		.file 4 "Drivers/CMSIS/Include/cmsis_gcc.h"
 7440              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f411xe.h"
 7441              		.file 6 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 7442              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_ll_usb.h"
 7443              		.file 8 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 170


DEFINED SYMBOLS
                            *ABS*:00000000 stm32f4xx_ll_usb.c
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:20     .text.USB_CoreInit:00000000 $t
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:26     .text.USB_CoreInit:00000000 USB_CoreInit
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:5091   .text.USB_CoreReset:00000000 USB_CoreReset
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:166    .text.USB_SetTurnaroundTime:00000000 $t
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:172    .text.USB_SetTurnaroundTime:00000000 USB_SetTurnaroundTime
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:387    .text.USB_SetTurnaroundTime:0000011c $d
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:401    .text.USB_EnableGlobalInt:00000000 $t
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:407    .text.USB_EnableGlobalInt:00000000 USB_EnableGlobalInt
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:451    .text.USB_DisableGlobalInt:00000000 $t
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:457    .text.USB_DisableGlobalInt:00000000 USB_DisableGlobalInt
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:501    .text.USB_SetCurrentMode:00000000 $t
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:507    .text.USB_SetCurrentMode:00000000 USB_SetCurrentMode
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:4847   .text.USB_GetMode:00000000 USB_GetMode
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:627    .text.USB_DevInit:00000000 $t
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:633    .text.USB_DevInit:00000000 USB_DevInit
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:1301   .text.USB_SetDevSpeed:00000000 USB_SetDevSpeed
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:1090   .text.USB_FlushTxFifo:00000000 USB_FlushTxFifo
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:1198   .text.USB_FlushRxFifo:00000000 USB_FlushRxFifo
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:1079   .text.USB_DevInit:000002c4 $d
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:1084   .text.USB_FlushTxFifo:00000000 $t
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:1187   .text.USB_FlushTxFifo:00000064 $d
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:1192   .text.USB_FlushRxFifo:00000000 $t
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:1290   .text.USB_FlushRxFifo:0000005c $d
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:1295   .text.USB_SetDevSpeed:00000000 $t
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:1353   .text.USB_GetDevSpeed:00000000 $t
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:1359   .text.USB_GetDevSpeed:00000000 USB_GetDevSpeed
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:1435   .text.USB_ActivateEndpoint:00000000 $t
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:1441   .text.USB_ActivateEndpoint:00000000 USB_ActivateEndpoint
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:1624   .text.USB_ActivateDedicatedEndpoint:00000000 $t
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:1630   .text.USB_ActivateDedicatedEndpoint:00000000 USB_ActivateDedicatedEndpoint
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:1819   .text.USB_DeactivateEndpoint:00000000 $t
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:1825   .text.USB_DeactivateEndpoint:00000000 USB_DeactivateEndpoint
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:2080   .text.USB_DeactivateEndpoint:000001b0 $d
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:2086   .text.USB_DeactivateDedicatedEndpoint:00000000 $t
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:2092   .text.USB_DeactivateDedicatedEndpoint:00000000 USB_DeactivateDedicatedEndpoint
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:2302   .text.USB_EPStartXfer:00000000 $t
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:2308   .text.USB_EPStartXfer:00000000 USB_EPStartXfer
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:3584   .text.USB_WritePacket:00000000 USB_WritePacket
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:2778   .text.USB_EPStartXfer:00000370 $d
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:2781   .text.USB_EPStartXfer:00000374 $t
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:2950   .text.USB_EPStartXfer:0000048c $d
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:2955   .text.USB_EP0StartXfer:00000000 $t
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:2961   .text.USB_EP0StartXfer:00000000 USB_EP0StartXfer
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:3349   .text.USB_EPStopXfer:00000000 $t
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:3355   .text.USB_EPStopXfer:00000000 USB_EPStopXfer
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:3578   .text.USB_WritePacket:00000000 $t
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:3691   .text.USB_ReadPacket:00000000 $t
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:3697   .text.USB_ReadPacket:00000000 USB_ReadPacket
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:3838   .text.USB_EPSetStall:00000000 $t
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:3844   .text.USB_EPSetStall:00000000 USB_EPSetStall
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:3988   .text.USB_EPClearStall:00000000 $t
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:3994   .text.USB_EPClearStall:00000000 USB_EPClearStall
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:4132   .text.USB_StopDevice:00000000 $t
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:4138   .text.USB_StopDevice:00000000 USB_StopDevice
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:4259   .text.USB_SetDevAddress:00000000 $t
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 171


C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:4265   .text.USB_SetDevAddress:00000000 USB_SetDevAddress
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:4331   .text.USB_DevConnect:00000000 $t
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:4337   .text.USB_DevConnect:00000000 USB_DevConnect
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:4394   .text.USB_DevDisconnect:00000000 $t
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:4400   .text.USB_DevDisconnect:00000000 USB_DevDisconnect
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:4457   .text.USB_ReadInterrupts:00000000 $t
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:4463   .text.USB_ReadInterrupts:00000000 USB_ReadInterrupts
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:4512   .text.USB_ReadDevAllOutEpInterrupt:00000000 $t
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:4518   .text.USB_ReadDevAllOutEpInterrupt:00000000 USB_ReadDevAllOutEpInterrupt
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:4575   .text.USB_ReadDevAllInEpInterrupt:00000000 $t
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:4581   .text.USB_ReadDevAllInEpInterrupt:00000000 USB_ReadDevAllInEpInterrupt
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:4638   .text.USB_ReadDevOutEPInterrupt:00000000 $t
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:4644   .text.USB_ReadDevOutEPInterrupt:00000000 USB_ReadDevOutEPInterrupt
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:4705   .text.USB_ReadDevInEPInterrupt:00000000 $t
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:4711   .text.USB_ReadDevInEPInterrupt:00000000 USB_ReadDevInEPInterrupt
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:4791   .text.USB_ClearInterrupts:00000000 $t
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:4797   .text.USB_ClearInterrupts:00000000 USB_ClearInterrupts
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:4841   .text.USB_GetMode:00000000 $t
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:4888   .text.USB_ActivateSetup:00000000 $t
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:4894   .text.USB_ActivateSetup:00000000 USB_ActivateSetup
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:4952   .text.USB_EP0_OutStart:00000000 $t
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:4958   .text.USB_EP0_OutStart:00000000 USB_EP0_OutStart
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:5081   .text.USB_EP0_OutStart:000000b8 $d
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:5086   .text.USB_CoreReset:00000000 $t
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:5185   .text.USB_CoreReset:00000064 $d
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:5190   .text.USB_HostInit:00000000 $t
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:5196   .text.USB_HostInit:00000000 USB_HostInit
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:5437   .text.USB_HostInit:0000016c $d
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:5446   .text.USB_InitFSLSPClkSel:00000000 $t
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:5452   .text.USB_InitFSLSPClkSel:00000000 USB_InitFSLSPClkSel
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:5540   .text.USB_ResetPort:00000000 $t
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:5546   .text.USB_ResetPort:00000000 USB_ResetPort
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:5620   .text.USB_DriveVbus:00000000 $t
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:5626   .text.USB_DriveVbus:00000000 USB_DriveVbus
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:5722   .text.USB_GetHostSpeed:00000000 $t
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:5728   .text.USB_GetHostSpeed:00000000 USB_GetHostSpeed
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:5780   .text.USB_GetCurrentFrame:00000000 $t
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:5786   .text.USB_GetCurrentFrame:00000000 USB_GetCurrentFrame
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:5832   .text.USB_HC_Init:00000000 $t
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:5838   .text.USB_HC_Init:00000000 USB_HC_Init
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:5889   .text.USB_HC_Init:00000044 $d
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:5893   .text.USB_HC_Init:00000054 $t
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:6184   .text.USB_HC_StartXfer:00000000 $t
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:6190   .text.USB_HC_StartXfer:00000000 USB_HC_StartXfer
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:7010   .text.USB_DoPing:00000000 USB_DoPing
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:6532   .text.USB_HC_StartXfer:000001f8 $d
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:6536   .text.USB_HC_StartXfer:00000208 $t
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:6638   .text.USB_HC_StartXfer:00000280 $d
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:6643   .text.USB_HC_ReadInterrupt:00000000 $t
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:6649   .text.USB_HC_ReadInterrupt:00000000 USB_HC_ReadInterrupt
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:6695   .text.USB_HC_Halt:00000000 $t
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:6701   .text.USB_HC_Halt:00000000 USB_HC_Halt
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:7004   .text.USB_DoPing:00000000 $t
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:7101   .text.USB_DoPing:00000074 $d
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:7106   .text.USB_StopHost:00000000 $t
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:7112   .text.USB_StopHost:00000000 USB_StopHost
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:7315   .text.USB_ActivateRemoteWakeup:00000000 $t
ARM GAS  C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s 			page 172


C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:7321   .text.USB_ActivateRemoteWakeup:00000000 USB_ActivateRemoteWakeup
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:7381   .text.USB_DeActivateRemoteWakeup:00000000 $t
C:\Users\stryk\AppData\Local\Temp\ccR7TdVd.s:7387   .text.USB_DeActivateRemoteWakeup:00000000 USB_DeActivateRemoteWakeup

UNDEFINED SYMBOLS
HAL_Delay
